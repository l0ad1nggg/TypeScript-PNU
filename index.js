(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();function Qg(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Sm={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function Ew(){if(u0)return jl;u0=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(a,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:a,key:h,ref:o!==void 0?o:null,props:u}}return jl.Fragment=t,jl.jsx=e,jl.jsxs=e,jl}var c0;function bw(){return c0||(c0=1,Sm.exports=Ew()),Sm.exports}var J=bw(),wm={exports:{}},Bl={},Rm={exports:{}},Im={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function Aw(){return f0||(f0=1,function(i){function t(H,it){var mt=H.length;H.push(it);t:for(;0<mt;){var qt=mt-1>>>1,O=H[qt];if(0<o(O,it))H[qt]=it,H[mt]=O,mt=qt;else break t}}function e(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var it=H[0],mt=H.pop();if(mt!==it){H[0]=mt;t:for(var qt=0,O=H.length,Z=O>>>1;qt<Z;){var rt=2*(qt+1)-1,et=H[rt],pt=rt+1,Ot=H[pt];if(0>o(et,mt))pt<O&&0>o(Ot,et)?(H[qt]=Ot,H[pt]=mt,qt=pt):(H[qt]=et,H[rt]=mt,qt=rt);else if(pt<O&&0>o(Ot,mt))H[qt]=Ot,H[pt]=mt,qt=pt;else break t}}return it}function o(H,it){var mt=H.sortIndex-it.sortIndex;return mt!==0?mt:H.id-it.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],y=[],T=1,S=null,R=3,z=!1,F=!1,$=!1,Y=!1,ct=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,at=typeof setImmediate<"u"?setImmediate:null;function vt(H){for(var it=e(y);it!==null;){if(it.callback===null)a(y);else if(it.startTime<=H)a(y),it.sortIndex=it.expirationTime,t(p,it);else break;it=e(y)}}function ft(H){if($=!1,vt(H),!F)if(e(p)!==null)F=!0,It||(It=!0,P());else{var it=e(y);it!==null&&ce(ft,it.startTime-H)}}var It=!1,x=-1,A=5,w=-1;function C(){return Y?!0:!(i.unstable_now()-w<A)}function N(){if(Y=!1,It){var H=i.unstable_now();w=H;var it=!0;try{t:{F=!1,$&&($=!1,lt(x),x=-1),z=!0;var mt=R;try{e:{for(vt(H),S=e(p);S!==null&&!(S.expirationTime>H&&C());){var qt=S.callback;if(typeof qt=="function"){S.callback=null,R=S.priorityLevel;var O=qt(S.expirationTime<=H);if(H=i.unstable_now(),typeof O=="function"){S.callback=O,vt(H),it=!0;break e}S===e(p)&&a(p),vt(H)}else a(p);S=e(p)}if(S!==null)it=!0;else{var Z=e(y);Z!==null&&ce(ft,Z.startTime-H),it=!1}}break t}finally{S=null,R=mt,z=!1}it=void 0}}finally{it?P():It=!1}}}var P;if(typeof at=="function")P=function(){at(N)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ze=D.port2;D.port1.onmessage=N,P=function(){ze.postMessage(null)}}else P=function(){ct(N,0)};function ce(H,it){x=ct(function(){H(i.unstable_now())},it)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_next=function(H){switch(R){case 1:case 2:case 3:var it=3;break;default:it=R}var mt=R;R=it;try{return H()}finally{R=mt}},i.unstable_requestPaint=function(){Y=!0},i.unstable_runWithPriority=function(H,it){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var mt=R;R=H;try{return it()}finally{R=mt}},i.unstable_scheduleCallback=function(H,it,mt){var qt=i.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?qt+mt:qt):mt=qt,H){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=mt+O,H={id:T++,callback:it,priorityLevel:H,startTime:mt,expirationTime:O,sortIndex:-1},mt>qt?(H.sortIndex=mt,t(y,H),e(p)===null&&H===e(y)&&($?(lt(x),x=-1):$=!0,ce(ft,mt-qt))):(H.sortIndex=O,t(p,H),F||z||(F=!0,It||(It=!0,P()))),H},i.unstable_shouldYield=C,i.unstable_wrapCallback=function(H){var it=R;return function(){var mt=R;R=it;try{return H.apply(this,arguments)}finally{R=mt}}}}(Im)),Im}var h0;function Sw(){return h0||(h0=1,Rm.exports=Aw()),Rm.exports}var Cm={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function ww(){if(d0)return Rt;d0=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.iterator;function R(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,$={};function Y(O,Z,rt){this.props=O,this.context=Z,this.refs=$,this.updater=rt||z}Y.prototype.isReactComponent={},Y.prototype.setState=function(O,Z){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Z,"setState")},Y.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ct(){}ct.prototype=Y.prototype;function lt(O,Z,rt){this.props=O,this.context=Z,this.refs=$,this.updater=rt||z}var at=lt.prototype=new ct;at.constructor=lt,F(at,Y.prototype),at.isPureReactComponent=!0;var vt=Array.isArray,ft={H:null,A:null,T:null,S:null,V:null},It=Object.prototype.hasOwnProperty;function x(O,Z,rt,et,pt,Ot){return rt=Ot.ref,{$$typeof:i,type:O,key:Z,ref:rt!==void 0?rt:null,props:Ot}}function A(O,Z){return x(O.type,Z,void 0,void 0,void 0,O.props)}function w(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function C(O){var Z={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(rt){return Z[rt]})}var N=/\/+/g;function P(O,Z){return typeof O=="object"&&O!==null&&O.key!=null?C(""+O.key):Z.toString(36)}function D(){}function ze(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(D,D):(O.status="pending",O.then(function(Z){O.status==="pending"&&(O.status="fulfilled",O.value=Z)},function(Z){O.status==="pending"&&(O.status="rejected",O.reason=Z)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ce(O,Z,rt,et,pt){var Ot=typeof O;(Ot==="undefined"||Ot==="boolean")&&(O=null);var At=!1;if(O===null)At=!0;else switch(Ot){case"bigint":case"string":case"number":At=!0;break;case"object":switch(O.$$typeof){case i:case t:At=!0;break;case T:return At=O._init,ce(At(O._payload),Z,rt,et,pt)}}if(At)return pt=pt(O),At=et===""?"."+P(O,0):et,vt(pt)?(rt="",At!=null&&(rt=At.replace(N,"$&/")+"/"),ce(pt,Z,rt,"",function(Zn){return Zn})):pt!=null&&(w(pt)&&(pt=A(pt,rt+(pt.key==null||O&&O.key===pt.key?"":(""+pt.key).replace(N,"$&/")+"/")+At)),Z.push(pt)),1;At=0;var Me=et===""?".":et+":";if(vt(O))for(var ne=0;ne<O.length;ne++)et=O[ne],Ot=Me+P(et,ne),At+=ce(et,Z,rt,Ot,pt);else if(ne=R(O),typeof ne=="function")for(O=ne.call(O),ne=0;!(et=O.next()).done;)et=et.value,Ot=Me+P(et,ne++),At+=ce(et,Z,rt,Ot,pt);else if(Ot==="object"){if(typeof O.then=="function")return ce(ze(O),Z,rt,et,pt);throw Z=String(O),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return At}function H(O,Z,rt){if(O==null)return O;var et=[],pt=0;return ce(O,et,"","",function(Ot){return Z.call(rt,Ot,pt++)}),et}function it(O){if(O._status===-1){var Z=O._result;Z=Z(),Z.then(function(rt){(O._status===0||O._status===-1)&&(O._status=1,O._result=rt)},function(rt){(O._status===0||O._status===-1)&&(O._status=2,O._result=rt)}),O._status===-1&&(O._status=0,O._result=Z)}if(O._status===1)return O._result.default;throw O._result}var mt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function qt(){}return Rt.Children={map:H,forEach:function(O,Z,rt){H(O,function(){Z.apply(this,arguments)},rt)},count:function(O){var Z=0;return H(O,function(){Z++}),Z},toArray:function(O){return H(O,function(Z){return Z})||[]},only:function(O){if(!w(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Rt.Component=Y,Rt.Fragment=e,Rt.Profiler=o,Rt.PureComponent=lt,Rt.StrictMode=a,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ft,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ft.H.useMemoCache(O)}},Rt.cache=function(O){return function(){return O.apply(null,arguments)}},Rt.cloneElement=function(O,Z,rt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var et=F({},O.props),pt=O.key,Ot=void 0;if(Z!=null)for(At in Z.ref!==void 0&&(Ot=void 0),Z.key!==void 0&&(pt=""+Z.key),Z)!It.call(Z,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&Z.ref===void 0||(et[At]=Z[At]);var At=arguments.length-2;if(At===1)et.children=rt;else if(1<At){for(var Me=Array(At),ne=0;ne<At;ne++)Me[ne]=arguments[ne+2];et.children=Me}return x(O.type,pt,void 0,void 0,Ot,et)},Rt.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Rt.createElement=function(O,Z,rt){var et,pt={},Ot=null;if(Z!=null)for(et in Z.key!==void 0&&(Ot=""+Z.key),Z)It.call(Z,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(pt[et]=Z[et]);var At=arguments.length-2;if(At===1)pt.children=rt;else if(1<At){for(var Me=Array(At),ne=0;ne<At;ne++)Me[ne]=arguments[ne+2];pt.children=Me}if(O&&O.defaultProps)for(et in At=O.defaultProps,At)pt[et]===void 0&&(pt[et]=At[et]);return x(O,Ot,void 0,void 0,null,pt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(O){return{$$typeof:m,render:O}},Rt.isValidElement=w,Rt.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:it}},Rt.memo=function(O,Z){return{$$typeof:y,type:O,compare:Z===void 0?null:Z}},Rt.startTransition=function(O){var Z=ft.T,rt={};ft.T=rt;try{var et=O(),pt=ft.S;pt!==null&&pt(rt,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(qt,mt)}catch(Ot){mt(Ot)}finally{ft.T=Z}},Rt.unstable_useCacheRefresh=function(){return ft.H.useCacheRefresh()},Rt.use=function(O){return ft.H.use(O)},Rt.useActionState=function(O,Z,rt){return ft.H.useActionState(O,Z,rt)},Rt.useCallback=function(O,Z){return ft.H.useCallback(O,Z)},Rt.useContext=function(O){return ft.H.useContext(O)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(O,Z){return ft.H.useDeferredValue(O,Z)},Rt.useEffect=function(O,Z,rt){var et=ft.H;if(typeof rt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(O,Z)},Rt.useId=function(){return ft.H.useId()},Rt.useImperativeHandle=function(O,Z,rt){return ft.H.useImperativeHandle(O,Z,rt)},Rt.useInsertionEffect=function(O,Z){return ft.H.useInsertionEffect(O,Z)},Rt.useLayoutEffect=function(O,Z){return ft.H.useLayoutEffect(O,Z)},Rt.useMemo=function(O,Z){return ft.H.useMemo(O,Z)},Rt.useOptimistic=function(O,Z){return ft.H.useOptimistic(O,Z)},Rt.useReducer=function(O,Z,rt){return ft.H.useReducer(O,Z,rt)},Rt.useRef=function(O){return ft.H.useRef(O)},Rt.useState=function(O){return ft.H.useState(O)},Rt.useSyncExternalStore=function(O,Z,rt){return ft.H.useSyncExternalStore(O,Z,rt)},Rt.useTransition=function(){return ft.H.useTransition()},Rt.version="19.1.0",Rt}var m0;function Kg(){return m0||(m0=1,Cm.exports=ww()),Cm.exports}var Dm={exports:{}},We={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function Rw(){if(g0)return We;g0=1;var i=Kg();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var a={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:y,implementation:T}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return We.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,We.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(p,y,null,T)},We.flushSync=function(p){var y=h.T,T=a.p;try{if(h.T=null,a.p=2,p)return p()}finally{h.T=y,a.p=T,a.d.f()}},We.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(p,y))},We.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},We.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,S=m(T,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,z=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?a.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:z}):T==="script"&&a.d.X(p,{crossOrigin:S,integrity:R,fetchPriority:z,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},We.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=m(y.as,y.crossOrigin);a.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(p)},We.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=m(T,y.crossOrigin);a.d.L(p,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},We.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=m(y.as,y.crossOrigin);a.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(p)},We.requestFormReset=function(p){a.d.r(p)},We.unstable_batchedUpdates=function(p,y){return p(y)},We.useFormState=function(p,y,T){return h.H.useFormState(p,y,T)},We.useFormStatus=function(){return h.H.useHostTransitionStatus()},We.version="19.1.0",We}var p0;function Iw(){if(p0)return Dm.exports;p0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Dm.exports=Rw(),Dm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function Cw(){if(y0)return Bl;y0=1;var i=Sw(),t=Kg(),e=Iw();function a(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,s=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(s=r.return),n=r.return;while(n)}return r.tag===3?s:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(a(188))}function p(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(a(188));return r!==n?null:n}for(var s=n,l=r;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return m(f),n;if(d===l)return m(f),r;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=d;else{for(var v=!1,E=f.child;E;){if(E===s){v=!0,s=f,l=d;break}if(E===l){v=!0,l=f,s=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===s){v=!0,s=d,l=f;break}if(E===l){v=!0,l=d,s=f;break}E=E.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?n:r}function y(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=y(n),r!==null)return r;n=n.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),ct=Symbol.for("react.provider"),lt=Symbol.for("react.consumer"),at=Symbol.for("react.context"),vt=Symbol.for("react.forward_ref"),ft=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function P(n){return n===null||typeof n!="object"?null:(n=N&&n[N]||n["@@iterator"],typeof n=="function"?n:null)}var D=Symbol.for("react.client.reference");function ze(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===D?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case F:return"Fragment";case Y:return"Profiler";case $:return"StrictMode";case ft:return"Suspense";case It:return"SuspenseList";case w:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case z:return"Portal";case at:return(n.displayName||"Context")+".Provider";case lt:return(n._context.displayName||"Context")+".Consumer";case vt:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case x:return r=n.displayName||null,r!==null?r:ze(n.type)||"Memo";case A:r=n._payload,n=n._init;try{return ze(n(r))}catch{}}return null}var ce=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},qt=[],O=-1;function Z(n){return{current:n}}function rt(n){0>O||(n.current=qt[O],qt[O]=null,O--)}function et(n,r){O++,qt[O]=n.current,n.current=r}var pt=Z(null),Ot=Z(null),At=Z(null),Me=Z(null);function ne(n,r){switch(et(At,r),et(Ot,n),et(pt,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?Uv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=Uv(r),n=Lv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}rt(pt),et(pt,n)}function Zn(){rt(pt),rt(Ot),rt(At)}function ur(n){n.memoizedState!==null&&et(Me,n);var r=pt.current,s=Lv(r,n.type);r!==s&&(et(Ot,n),et(pt,s))}function Si(n){Ot.current===n&&(rt(pt),rt(Ot)),Me.current===n&&(rt(Me),kl._currentValue=mt)}var ca=Object.prototype.hasOwnProperty,fa=i.unstable_scheduleCallback,ha=i.unstable_cancelCallback,Mo=i.unstable_shouldYield,Ou=i.unstable_requestPaint,Rn=i.unstable_now,Sh=i.unstable_getCurrentPriorityLevel,xo=i.unstable_ImmediatePriority,us=i.unstable_UserBlockingPriority,da=i.unstable_NormalPriority,wh=i.unstable_LowPriority,cs=i.unstable_IdlePriority,Po=i.log,Nu=i.unstable_setDisableYieldValue,fe=null,Qt=null;function mn(n){if(typeof Po=="function"&&Nu(n),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(fe,n)}catch{}}var Ke=Math.clz32?Math.clz32:ma,Mu=Math.log,Rh=Math.LN2;function ma(n){return n>>>=0,n===0?32:31-(Mu(n)/Rh|0)|0}var ga=256,pa=4194304;function jn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function fs(n,r,s){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?f=jn(l):(v&=E,v!==0?f=jn(v):s||(s=E&~n,s!==0&&(f=jn(s))))):(E=l&~d,E!==0?f=jn(E):v!==0?f=jn(v):s||(s=l&~n,s!==0&&(f=jn(s)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,s=r&-r,d>=s||d===32&&(s&4194048)!==0)?r:f}function ya(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function ko(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vo(){var n=ga;return ga<<=1,(ga&4194048)===0&&(ga=256),n}function Uo(){var n=pa;return pa<<=1,(pa&62914560)===0&&(pa=4194304),n}function wi(n){for(var r=[],s=0;31>s;s++)r.push(n);return r}function Ri(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Lo(n,r,s,l,f,d){var v=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var E=n.entanglements,I=n.expirationTimes,L=n.hiddenUpdates;for(s=v&~s;0<s;){var G=31-Ke(s),K=1<<G;E[G]=0,I[G]=-1;var j=L[G];if(j!==null)for(L[G]=null,G=0;G<j.length;G++){var B=j[G];B!==null&&(B.lane&=-536870913)}s&=~K}l!==0&&Jn(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(v&~r))}function Jn(n,r,s){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-Ke(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|s&4194090}function zo(n,r){var s=n.entangledLanes|=r;for(n=n.entanglements;s;){var l=31-Ke(s),f=1<<l;f&r|n[l]&r&&(n[l]|=r),s&=~f}}function cr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function hs(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function fr(){var n=it.p;return n!==0?n:(n=window.event,n===void 0?32:i0(n.type))}function xu(n,r){var s=it.p;try{return it.p=n,r()}finally{it.p=s}}var se=Math.random().toString(36).slice(2),Se="__reactFiber$"+se,_e="__reactProps$"+se,In="__reactContainer$"+se,jo="__reactEvents$"+se,Ih="__reactListeners$"+se,hr="__reactHandles$"+se,Pu="__reactResources$"+se,_a="__reactMarker$"+se;function dr(n){delete n[Se],delete n[_e],delete n[jo],delete n[Ih],delete n[hr]}function Ii(n){var r=n[Se];if(r)return r;for(var s=n.parentNode;s;){if(r=s[In]||s[Se]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(n=qv(n);n!==null;){if(s=n[Se])return s;n=qv(n)}return r}n=s,s=n.parentNode}return null}function ti(n){if(n=n[Se]||n[In]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function ei(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(a(33))}function nn(n){var r=n[Pu];return r||(r=n[Pu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function me(n){n[_a]=!0}var Bo=new Set,ds={};function Bn(n,r){Ci(n,r),Ci(n+"Capture",r)}function Ci(n,r){for(ds[n]=r,n=0;n<r.length;n++)Bo.add(r[n])}var ku=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vu={},va={};function Uu(n){return ca.call(va,n)?!0:ca.call(Vu,n)?!1:ku.test(n)?va[n]=!0:(Vu[n]=!0,!1)}function mr(n,r,s){if(Uu(r))if(s===null)n.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+s)}}function ni(n,r,s){if(s===null)n.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+s)}}function je(n,r,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(r,s,""+l)}}var Ta,Lu;function Di(n){if(Ta===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);Ta=r&&r[1]||"",Lu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ta+n+Lu}var ms=!1;function gs(n,r){if(!n||ms)return"";ms=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var j=B}Reflect.construct(n,[],K)}else{try{K.call()}catch(B){j=B}n.call(K.prototype)}}else{try{throw Error()}catch(B){j=B}(K=n())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&j&&typeof B.stack=="string")return[B.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var I=v.split(`
`),L=E.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<L.length&&!L[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===L.length)for(l=I.length-1,f=L.length-1;1<=l&&0<=f&&I[l]!==L[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==L[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==L[f]){var G=`
`+I[l].replace(" at new "," at ");return n.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",n.displayName)),G}while(1<=l&&0<=f);break}}}finally{ms=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?Di(s):""}function qo(n){switch(n.tag){case 26:case 27:case 5:return Di(n.type);case 16:return Di("Lazy");case 13:return Di("Suspense");case 19:return Di("SuspenseList");case 0:case 15:return gs(n.type,!1);case 11:return gs(n.type.render,!1);case 1:return gs(n.type,!0);case 31:return Di("Activity");default:return""}}function ps(n){try{var r="";do r+=qo(n),n=n.return;while(n);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function rn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Fo(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ch(n){var r=Fo(n)?"checked":"value",s=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,d=s.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(n,r,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function ys(n){n._valueTracker||(n._valueTracker=Ch(n))}function Ho(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return n&&(l=Fo(n)?n.checked?"true":"false":n.value),n=l,n!==s?(r.setValue(n),!0):!1}function Ea(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Dh=/[\n"\\]/g;function ve(n){return n.replace(Dh,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function gn(n,r,s,l,f,d,v,E){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),r!=null?v==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+rn(r)):n.value!==""+rn(r)&&(n.value=""+rn(r)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),r!=null?gr(n,v,rn(r)):s!=null?gr(n,v,rn(s)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.name=""+rn(E):n.removeAttribute("name")}function ba(n,r,s,l,f,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;s=s!=null?""+rn(s):"",r=r!=null?""+rn(r):s,E||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=E?n.checked:!!l,n.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v)}function gr(n,r,s){r==="number"&&Ea(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function Oi(n,r,s,l){if(n=n.options,r){r={};for(var f=0;f<s.length;f++)r["$"+s[f]]=!0;for(s=0;s<n.length;s++)f=r.hasOwnProperty("$"+n[s].value),n[s].selected!==f&&(n[s].selected=f),f&&l&&(n[s].defaultSelected=!0)}else{for(s=""+rn(s),r=null,f=0;f<n.length;f++){if(n[f].value===s){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function $t(n,r,s){if(r!=null&&(r=""+rn(r),r!==n.value&&(n.value=r),s==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=s!=null?""+rn(s):""}function Aa(n,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(a(92));if(ce(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=rn(r),n.defaultValue=s,l=n.textContent,l===s&&l!==""&&l!==null&&(n.value=l)}function Cn(n,r){if(r){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=r;return}}n.textContent=r}var Sa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zu(n,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,s):typeof s!="number"||s===0||Sa.has(r)?r==="float"?n.cssFloat=s:n[r]=(""+s).trim():n[r]=s+"px"}function Go(n,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(n=n.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&s[f]!==l&&zu(n,f,l)}else for(var d in r)r.hasOwnProperty(d)&&zu(n,d,r[d])}function Yo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _s(n){return Nh.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Ni=null;function Dn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Mi=null,xi=null;function Qo(n){var r=ti(n);if(r&&(n=r.stateNode)){var s=n[_e]||null;t:switch(n=r.stateNode,r.type){case"input":if(gn(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ve(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==n&&l.form===n.form){var f=l[_e]||null;if(!f)throw Error(a(90));gn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===n.form&&Ho(l)}break t;case"textarea":$t(n,s.value,s.defaultValue);break t;case"select":r=s.value,r!=null&&Oi(n,!!s.multiple,r,!1)}}}var ii=!1;function ju(n,r,s){if(ii)return n(r,s);ii=!0;try{var l=n(r);return l}finally{if(ii=!1,(Mi!==null||xi!==null)&&(xc(),Mi&&(r=Mi,n=xi,xi=Mi=null,Qo(r),n)))for(r=0;r<n.length;r++)Qo(n[r])}}function wa(n,r){var s=n.stateNode;if(s===null)return null;var l=s[_e]||null;if(l===null)return null;s=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),On=!1;if(qn)try{var Ra={};Object.defineProperty(Ra,"passive",{get:function(){On=!0}}),window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{On=!1}var ri=null,pr=null,Pi=null;function Ko(){if(Pi)return Pi;var n,r=pr,s=r.length,l,f="value"in ri?ri.value:ri.textContent,d=f.length;for(n=0;n<s&&r[n]===f[n];n++);var v=s-n;for(l=1;l<=v&&r[s-l]===f[d-l];l++);return Pi=f.slice(n,1<l?1-l:void 0)}function ai(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function si(){return!0}function Xo(){return!1}function xe(n){function r(s,l,f,d,v){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in n)n.hasOwnProperty(E)&&(s=n[E],this[E]=s?s(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?si:Xo,this.isPropagationStopped=Xo,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),r}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vs=xe(Gt),Ia=T({},Gt,{view:0,detail:0}),Bu=xe(Ia),Ts,Es,oi,Ca=T({},Ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Na,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==oi&&(oi&&n.type==="mousemove"?(Ts=n.screenX-oi.screenX,Es=n.screenY-oi.screenY):Es=Ts=0,oi=n),Ts)},movementY:function(n){return"movementY"in n?n.movementY:Es}}),Nn=xe(Ca),qu=T({},Ca,{dataTransfer:0}),Mh=xe(qu),Da=T({},Ia,{relatedTarget:0}),bs=xe(Da),Wo=T({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),As=xe(Wo),Fu=T({},Gt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ss=xe(Fu),xh=T({},Gt,{data:0}),$o=xe(xh),Oa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zo(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Gu[n])?!!r[n]:!1}function Na(){return Zo}var Yu=T({},Ia,{key:function(n){if(n.key){var r=Oa[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ai(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Hu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Na,charCode:function(n){return n.type==="keypress"?ai(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ai(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ws=xe(Yu),Qu=T({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jo=xe(Qu),ki=T({},Ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Na}),Ku=xe(ki),Xu=T({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wu=xe(Xu),$u=T({},Ca,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Rs=xe($u),an=T({},Gt,{newState:0,oldState:0}),Zu=xe(an),Ju=[9,13,27,32],li=qn&&"CompositionEvent"in window,c=null;qn&&"documentMode"in document&&(c=document.documentMode);var g=qn&&"TextEvent"in window&&!c,_=qn&&(!li||c&&8<c&&11>=c),b=" ",V=!1;function q(n,r){switch(n){case"keyup":return Ju.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ut=!1;function we(n,r){switch(n){case"compositionend":return nt(r);case"keypress":return r.which!==32?null:(V=!0,b);case"textInput":return n=r.data,n===b&&V?null:n;default:return null}}function Lt(n,r){if(Ut)return n==="compositionend"||!li&&q(n,r)?(n=Ko(),Pi=pr=ri=null,Ut=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Pe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Re(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Pe[n.type]:r==="textarea"}function Vi(n,r,s,l){Mi?xi?xi.push(l):xi=[l]:Mi=l,r=zc(r,"onChange"),0<r.length&&(s=new vs("onChange","change",null,s,l),n.push({event:s,listeners:r}))}var Be=null,ui=null;function tl(n){Mv(n,0)}function tc(n){var r=ei(n);if(Ho(r))return n}function Jp(n,r){if(n==="change")return r}var ty=!1;if(qn){var Ph;if(qn){var kh="oninput"in document;if(!kh){var ey=document.createElement("div");ey.setAttribute("oninput","return;"),kh=typeof ey.oninput=="function"}Ph=kh}else Ph=!1;ty=Ph&&(!document.documentMode||9<document.documentMode)}function ny(){Be&&(Be.detachEvent("onpropertychange",iy),ui=Be=null)}function iy(n){if(n.propertyName==="value"&&tc(ui)){var r=[];Vi(r,ui,n,Dn(n)),ju(tl,r)}}function $1(n,r,s){n==="focusin"?(ny(),Be=r,ui=s,Be.attachEvent("onpropertychange",iy)):n==="focusout"&&ny()}function Z1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return tc(ui)}function J1(n,r){if(n==="click")return tc(r)}function tS(n,r){if(n==="input"||n==="change")return tc(r)}function eS(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var pn=typeof Object.is=="function"?Object.is:eS;function el(n,r){if(pn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var s=Object.keys(n),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!ca.call(r,f)||!pn(n[f],r[f]))return!1}return!0}function ry(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ay(n,r){var s=ry(n);n=0;for(var l;s;){if(s.nodeType===3){if(l=n+s.textContent.length,n<=r&&l>=r)return{node:s,offset:r-n};n=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=ry(s)}}function sy(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?sy(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function oy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Ea(n.document);r instanceof n.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)n=r.contentWindow;else break;r=Ea(n.document)}return r}function Vh(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var nS=qn&&"documentMode"in document&&11>=document.documentMode,Is=null,Uh=null,nl=null,Lh=!1;function ly(n,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Lh||Is==null||Is!==Ea(l)||(l=Is,"selectionStart"in l&&Vh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&el(nl,l)||(nl=l,l=zc(Uh,"onSelect"),0<l.length&&(r=new vs("onSelect","select",null,r,s),n.push({event:r,listeners:l}),r.target=Is)))}function Ma(n,r){var s={};return s[n.toLowerCase()]=r.toLowerCase(),s["Webkit"+n]="webkit"+r,s["Moz"+n]="moz"+r,s}var Cs={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionrun:Ma("Transition","TransitionRun"),transitionstart:Ma("Transition","TransitionStart"),transitioncancel:Ma("Transition","TransitionCancel"),transitionend:Ma("Transition","TransitionEnd")},zh={},uy={};qn&&(uy=document.createElement("div").style,"AnimationEvent"in window||(delete Cs.animationend.animation,delete Cs.animationiteration.animation,delete Cs.animationstart.animation),"TransitionEvent"in window||delete Cs.transitionend.transition);function xa(n){if(zh[n])return zh[n];if(!Cs[n])return n;var r=Cs[n],s;for(s in r)if(r.hasOwnProperty(s)&&s in uy)return zh[n]=r[s];return n}var cy=xa("animationend"),fy=xa("animationiteration"),hy=xa("animationstart"),iS=xa("transitionrun"),rS=xa("transitionstart"),aS=xa("transitioncancel"),dy=xa("transitionend"),my=new Map,jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jh.push("scrollEnd");function Fn(n,r){my.set(n,r),Bn(r,[n])}var gy=new WeakMap;function Mn(n,r){if(typeof n=="object"&&n!==null){var s=gy.get(n);return s!==void 0?s:(r={value:n,source:r,stack:ps(r)},gy.set(n,r),r)}return{value:n,source:r,stack:ps(r)}}var xn=[],Ds=0,Bh=0;function ec(){for(var n=Ds,r=Bh=Ds=0;r<n;){var s=xn[r];xn[r++]=null;var l=xn[r];xn[r++]=null;var f=xn[r];xn[r++]=null;var d=xn[r];if(xn[r++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&py(s,f,d)}}function nc(n,r,s,l){xn[Ds++]=n,xn[Ds++]=r,xn[Ds++]=s,xn[Ds++]=l,Bh|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function qh(n,r,s,l){return nc(n,r,s,l),ic(n)}function Os(n,r){return nc(n,null,null,r),ic(n)}function py(n,r,s){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s);for(var f=!1,d=n.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&r!==null&&(f=31-Ke(s),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[r]:l.push(r),r.lane=s|536870912),d):null}function ic(n){if(50<Il)throw Il=0,Kd=null,Error(a(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ns={};function sS(n,r,s,l){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(n,r,s,l){return new sS(n,r,s,l)}function Fh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ui(n,r){var s=n.alternate;return s===null?(s=yn(n.tag,r,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=r,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,r=n.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function yy(n,r){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,r=s.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function rc(n,r,s,l,f,d){var v=0;if(l=n,typeof n=="function")Fh(n)&&(v=1);else if(typeof n=="string")v=lw(n,s,pt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case w:return n=yn(31,s,r,f),n.elementType=w,n.lanes=d,n;case F:return Pa(s.children,f,d,r);case $:v=8,f|=24;break;case Y:return n=yn(12,s,r,f|2),n.elementType=Y,n.lanes=d,n;case ft:return n=yn(13,s,r,f),n.elementType=ft,n.lanes=d,n;case It:return n=yn(19,s,r,f),n.elementType=It,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ct:case at:v=10;break t;case lt:v=9;break t;case vt:v=11;break t;case x:v=14;break t;case A:v=16,l=null;break t}v=29,s=Error(a(130,n===null?"null":typeof n,"")),l=null}return r=yn(v,s,r,f),r.elementType=n,r.type=l,r.lanes=d,r}function Pa(n,r,s,l){return n=yn(7,n,l,r),n.lanes=s,n}function Hh(n,r,s){return n=yn(6,n,null,r),n.lanes=s,n}function Gh(n,r,s){return r=yn(4,n.children!==null?n.children:[],n.key,r),r.lanes=s,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Ms=[],xs=0,ac=null,sc=0,Pn=[],kn=0,ka=null,Li=1,zi="";function Va(n,r){Ms[xs++]=sc,Ms[xs++]=ac,ac=n,sc=r}function _y(n,r,s){Pn[kn++]=Li,Pn[kn++]=zi,Pn[kn++]=ka,ka=n;var l=Li;n=zi;var f=32-Ke(l)-1;l&=~(1<<f),s+=1;var d=32-Ke(r)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Li=1<<32-Ke(r)+f|s<<f|l,zi=d+n}else Li=1<<d|s<<f|l,zi=n}function Yh(n){n.return!==null&&(Va(n,1),_y(n,1,0))}function Qh(n){for(;n===ac;)ac=Ms[--xs],Ms[xs]=null,sc=Ms[--xs],Ms[xs]=null;for(;n===ka;)ka=Pn[--kn],Pn[kn]=null,zi=Pn[--kn],Pn[kn]=null,Li=Pn[--kn],Pn[kn]=null}var sn=null,he=null,Ft=!1,Ua=null,ci=!1,Kh=Error(a(519));function La(n){var r=Error(a(418,""));throw al(Mn(r,n)),Kh}function vy(n){var r=n.stateNode,s=n.type,l=n.memoizedProps;switch(r[Se]=n,r[_e]=l,s){case"dialog":xt("cancel",r),xt("close",r);break;case"iframe":case"object":case"embed":xt("load",r);break;case"video":case"audio":for(s=0;s<Dl.length;s++)xt(Dl[s],r);break;case"source":xt("error",r);break;case"img":case"image":case"link":xt("error",r),xt("load",r);break;case"details":xt("toggle",r);break;case"input":xt("invalid",r),ba(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ys(r);break;case"select":xt("invalid",r);break;case"textarea":xt("invalid",r),Aa(r,l.value,l.defaultValue,l.children),ys(r)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||Vv(r.textContent,s)?(l.popover!=null&&(xt("beforetoggle",r),xt("toggle",r)),l.onScroll!=null&&xt("scroll",r),l.onScrollEnd!=null&&xt("scrollend",r),l.onClick!=null&&(r.onclick=jc),r=!0):r=!1,r||La(n)}function Ty(n){for(sn=n.return;sn;)switch(sn.tag){case 5:case 13:ci=!1;return;case 27:case 3:ci=!0;return;default:sn=sn.return}}function il(n){if(n!==sn)return!1;if(!Ft)return Ty(n),Ft=!0,!1;var r=n.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||cm(n.type,n.memoizedProps)),s=!s),s&&he&&La(n),Ty(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));t:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(s=n.data,s==="/$"){if(r===0){he=Gn(n.nextSibling);break t}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;n=n.nextSibling}he=null}}else r===27?(r=he,Mr(n.type)?(n=mm,mm=null,he=n):he=r):he=sn?Gn(n.stateNode.nextSibling):null;return!0}function rl(){he=sn=null,Ft=!1}function Ey(){var n=Ua;return n!==null&&(cn===null?cn=n:cn.push.apply(cn,n),Ua=null),n}function al(n){Ua===null?Ua=[n]:Ua.push(n)}var Xh=Z(null),za=null,ji=null;function yr(n,r,s){et(Xh,r._currentValue),r._currentValue=s}function Bi(n){n._currentValue=Xh.current,rt(Xh)}function Wh(n,r,s){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===s)break;n=n.return}}function $h(n,r,s,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=f;for(var I=0;I<r.length;I++)if(E.context===r[I]){d.lanes|=s,E=d.alternate,E!==null&&(E.lanes|=s),Wh(d.return,s,n),l||(v=null);break t}d=E.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(a(341));v.lanes|=s,d=v.alternate,d!==null&&(d.lanes|=s),Wh(v,s,n),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===n){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function sl(n,r,s,l){n=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var E=f.type;pn(f.pendingProps.value,v.value)||(n!==null?n.push(E):n=[E])}}else if(f===Me.current){if(v=f.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(kl):n=[kl])}f=f.return}n!==null&&$h(r,n,s,l),r.flags|=262144}function oc(n){for(n=n.firstContext;n!==null;){if(!pn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ja(n){za=n,ji=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Xe(n){return by(za,n)}function lc(n,r){return za===null&&ja(n),by(n,r)}function by(n,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},ji===null){if(n===null)throw Error(a(308));ji=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else ji=ji.next=r;return s}var oS=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(s,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(s){return s()})}},lS=i.unstable_scheduleCallback,uS=i.unstable_NormalPriority,Ie={$$typeof:at,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zh(){return{controller:new oS,data:new Map,refCount:0}}function ol(n){n.refCount--,n.refCount===0&&lS(uS,function(){n.controller.abort()})}var ll=null,Jh=0,Ps=0,ks=null;function cS(n,r){if(ll===null){var s=ll=[];Jh=0,Ps=em(),ks={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Jh++,r.then(Ay,Ay),r}function Ay(){if(--Jh===0&&ll!==null){ks!==null&&(ks.status="fulfilled");var n=ll;ll=null,Ps=0,ks=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function fS(n,r){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<s.length;f++)(0,s[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var Sy=H.S;H.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&cS(n,r),Sy!==null&&Sy(n,r)};var Ba=Z(null);function td(){var n=Ba.current;return n!==null?n:ie.pooledCache}function uc(n,r){r===null?et(Ba,Ba.current):et(Ba,r.pool)}function wy(){var n=td();return n===null?null:{parent:Ie._currentValue,pool:n}}var ul=Error(a(460)),Ry=Error(a(474)),cc=Error(a(542)),ed={then:function(){}};function Iy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function fc(){}function Cy(n,r,s){switch(s=n[s],s===void 0?n.push(r):s!==r&&(r.then(fc,fc),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Oy(n),n;default:if(typeof r.status=="string")r.then(fc,fc);else{if(n=ie,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Oy(n),n}throw cl=r,ul}}var cl=null;function Dy(){if(cl===null)throw Error(a(459));var n=cl;return cl=null,n}function Oy(n){if(n===ul||n===cc)throw Error(a(483))}var _r=!1;function nd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function id(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function vr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Tr(n,r,s){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Kt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=ic(n),py(n,null,s),r}return nc(n,l,r,s),ic(n)}function fl(n,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,s|=l,r.lanes=s,zo(n,s)}}function rd(n,r){var s=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,s=s.next}while(s!==null);d===null?f=d=r:d=d.next=r}else f=d=r;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=r:n.next=r,s.lastBaseUpdate=r}var ad=!1;function hl(){if(ad){var n=ks;if(n!==null)throw n}}function dl(n,r,s,l){ad=!1;var f=n.updateQueue;_r=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var I=E,L=I.next;I.next=null,v===null?d=L:v.next=L,v=I;var G=n.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==v&&(E===null?G.firstBaseUpdate=L:E.next=L,G.lastBaseUpdate=I))}if(d!==null){var K=f.baseState;v=0,G=L=I=null,E=d;do{var j=E.lane&-536870913,B=j!==E.lane;if(B?(zt&j)===j:(l&j)===j){j!==0&&j===Ps&&(ad=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var Tt=n,yt=E;j=r;var te=s;switch(yt.tag){case 1:if(Tt=yt.payload,typeof Tt=="function"){K=Tt.call(te,K,j);break t}K=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=yt.payload,j=typeof Tt=="function"?Tt.call(te,K,j):Tt,j==null)break t;K=T({},K,j);break t;case 2:_r=!0}}j=E.callback,j!==null&&(n.flags|=64,B&&(n.flags|=8192),B=f.callbacks,B===null?f.callbacks=[j]:B.push(j))}else B={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(L=G=B,I=K):G=G.next=B,v|=j;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;B=E,E=B.next,B.next=null,f.lastBaseUpdate=B,f.shared.pending=null}}while(!0);G===null&&(I=K),f.baseState=I,f.firstBaseUpdate=L,f.lastBaseUpdate=G,d===null&&(f.shared.lanes=0),Cr|=v,n.lanes=v,n.memoizedState=K}}function Ny(n,r){if(typeof n!="function")throw Error(a(191,n));n.call(r)}function My(n,r){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)Ny(s[n],r)}var Vs=Z(null),hc=Z(0);function xy(n,r){n=Ki,et(hc,n),et(Vs,r),Ki=n|r.baseLanes}function sd(){et(hc,Ki),et(Vs,Vs.current)}function od(){Ki=hc.current,rt(Vs),rt(hc)}var Er=0,Ct=null,Zt=null,Te=null,dc=!1,Us=!1,qa=!1,mc=0,ml=0,Ls=null,hS=0;function ge(){throw Error(a(321))}function ld(n,r){if(r===null)return!1;for(var s=0;s<r.length&&s<n.length;s++)if(!pn(n[s],r[s]))return!1;return!0}function ud(n,r,s,l,f,d){return Er=d,Ct=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,H.H=n===null||n.memoizedState===null?p_:y_,qa=!1,d=s(l,f),qa=!1,Us&&(d=ky(r,s,l,f)),Py(n),d}function Py(n){H.H=Tc;var r=Zt!==null&&Zt.next!==null;if(Er=0,Te=Zt=Ct=null,dc=!1,ml=0,Ls=null,r)throw Error(a(300));n===null||ke||(n=n.dependencies,n!==null&&oc(n)&&(ke=!0))}function ky(n,r,s,l){Ct=n;var f=0;do{if(Us&&(Ls=null),ml=0,Us=!1,25<=f)throw Error(a(301));if(f+=1,Te=Zt=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}H.H=vS,d=r(s,l)}while(Us);return d}function dS(){var n=H.H,r=n.useState()[0];return r=typeof r.then=="function"?gl(r):r,n=n.useState()[0],(Zt!==null?Zt.memoizedState:null)!==n&&(Ct.flags|=1024),r}function cd(){var n=mc!==0;return mc=0,n}function fd(n,r,s){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~s}function hd(n){if(dc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}dc=!1}Er=0,Te=Zt=Ct=null,Us=!1,ml=mc=0,Ls=null}function ln(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Ct.memoizedState=Te=n:Te=Te.next=n,Te}function Ee(){if(Zt===null){var n=Ct.alternate;n=n!==null?n.memoizedState:null}else n=Zt.next;var r=Te===null?Ct.memoizedState:Te.next;if(r!==null)Te=r,Zt=n;else{if(n===null)throw Ct.alternate===null?Error(a(467)):Error(a(310));Zt=n,n={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Te===null?Ct.memoizedState=Te=n:Te=Te.next=n}return Te}function dd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(n){var r=ml;return ml+=1,Ls===null&&(Ls=[]),n=Cy(Ls,n,r),r=Ct,(Te===null?r.memoizedState:Te.next)===null&&(r=r.alternate,H.H=r===null||r.memoizedState===null?p_:y_),n}function gc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return gl(n);if(n.$$typeof===at)return Xe(n)}throw Error(a(438,String(n)))}function md(n){var r=null,s=Ct.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=dd(),Ct.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(n),l=0;l<n;l++)s[l]=C;return r.index++,s}function qi(n,r){return typeof r=="function"?r(n):r}function pc(n){var r=Ee();return gd(r,Zt,n)}function gd(n,r,s){var l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}r.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{r=f.next;var E=v=null,I=null,L=r,G=!1;do{var K=L.lane&-536870913;if(K!==L.lane?(zt&K)===K:(Er&K)===K){var j=L.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),K===Ps&&(G=!0);else if((Er&j)===j){L=L.next,j===Ps&&(G=!0);continue}else K={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},I===null?(E=I=K,v=d):I=I.next=K,Ct.lanes|=j,Cr|=j;K=L.action,qa&&s(d,K),d=L.hasEagerState?L.eagerState:s(d,K)}else j={lane:K,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},I===null?(E=I=j,v=d):I=I.next=j,Ct.lanes|=K,Cr|=K;L=L.next}while(L!==null&&L!==r);if(I===null?v=d:I.next=E,!pn(d,n.memoizedState)&&(ke=!0,G&&(s=ks,s!==null)))throw s;n.memoizedState=d,n.baseState=v,n.baseQueue=I,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function pd(n){var r=Ee(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=n;var l=s.dispatch,f=s.pending,d=r.memoizedState;if(f!==null){s.pending=null;var v=f=f.next;do d=n(d,v.action),v=v.next;while(v!==f);pn(d,r.memoizedState)||(ke=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),s.lastRenderedState=d}return[d,l]}function Vy(n,r,s){var l=Ct,f=Ee(),d=Ft;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=r();var v=!pn((Zt||f).memoizedState,s);v&&(f.memoizedState=s,ke=!0),f=f.queue;var E=zy.bind(null,l,f,n);if(pl(2048,8,E,[n]),f.getSnapshot!==r||v||Te!==null&&Te.memoizedState.tag&1){if(l.flags|=2048,zs(9,yc(),Ly.bind(null,l,f,s,r),null),ie===null)throw Error(a(349));d||(Er&124)!==0||Uy(l,r,s)}return s}function Uy(n,r,s){n.flags|=16384,n={getSnapshot:r,value:s},r=Ct.updateQueue,r===null?(r=dd(),Ct.updateQueue=r,r.stores=[n]):(s=r.stores,s===null?r.stores=[n]:s.push(n))}function Ly(n,r,s,l){r.value=s,r.getSnapshot=l,jy(r)&&By(n)}function zy(n,r,s){return s(function(){jy(r)&&By(n)})}function jy(n){var r=n.getSnapshot;n=n.value;try{var s=r();return!pn(n,s)}catch{return!0}}function By(n){var r=Os(n,2);r!==null&&bn(r,n,2)}function yd(n){var r=ln();if(typeof n=="function"){var s=n;if(n=s(),qa){mn(!0);try{s()}finally{mn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:n},r}function qy(n,r,s,l){return n.baseState=s,gd(n,Zt,typeof l=="function"?l:qi)}function mS(n,r,s,l,f){if(vc(n))throw Error(a(485));if(n=r.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};H.T!==null?s(!0):d.isTransition=!1,l(d),s=r.pending,s===null?(d.next=r.pending=d,Fy(r,d)):(d.next=s.next,r.pending=s.next=d)}}function Fy(n,r){var s=r.action,l=r.payload,f=n.state;if(r.isTransition){var d=H.T,v={};H.T=v;try{var E=s(f,l),I=H.S;I!==null&&I(v,E),Hy(n,r,E)}catch(L){_d(n,r,L)}finally{H.T=d}}else try{d=s(f,l),Hy(n,r,d)}catch(L){_d(n,r,L)}}function Hy(n,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Gy(n,r,l)},function(l){return _d(n,r,l)}):Gy(n,r,s)}function Gy(n,r,s){r.status="fulfilled",r.value=s,Yy(r),n.state=s,r=n.pending,r!==null&&(s=r.next,s===r?n.pending=null:(s=s.next,r.next=s,Fy(n,s)))}function _d(n,r,s){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,Yy(r),r=r.next;while(r!==l)}n.action=null}function Yy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Qy(n,r){return r}function Ky(n,r){if(Ft){var s=ie.formState;if(s!==null){t:{var l=Ct;if(Ft){if(he){e:{for(var f=he,d=ci;f.nodeType!==8;){if(!d){f=null;break e}if(f=Gn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){he=Gn(f.nextSibling),l=f.data==="F!";break t}}La(l)}l=!1}l&&(r=s[0])}}return s=ln(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qy,lastRenderedState:r},s.queue=l,s=d_.bind(null,Ct,l),l.dispatch=s,l=yd(!1),d=Ad.bind(null,Ct,!1,l.queue),l=ln(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,s=mS.bind(null,Ct,f,d,s),f.dispatch=s,l.memoizedState=n,[r,s,!1]}function Xy(n){var r=Ee();return Wy(r,Zt,n)}function Wy(n,r,s){if(r=gd(n,r,Qy)[0],n=pc(qi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=gl(r)}catch(v){throw v===ul?cc:v}else l=r;r=Ee();var f=r.queue,d=f.dispatch;return s!==r.memoizedState&&(Ct.flags|=2048,zs(9,yc(),gS.bind(null,f,s),null)),[l,d,n]}function gS(n,r){n.action=r}function $y(n){var r=Ee(),s=Zt;if(s!==null)return Wy(r,s,n);Ee(),r=r.memoizedState,s=Ee();var l=s.queue.dispatch;return s.memoizedState=n,[r,l,!1]}function zs(n,r,s,l){return n={tag:n,create:s,deps:l,inst:r,next:null},r=Ct.updateQueue,r===null&&(r=dd(),Ct.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=n.next=n:(l=s.next,s.next=n,n.next=l,r.lastEffect=n),n}function yc(){return{destroy:void 0,resource:void 0}}function Zy(){return Ee().memoizedState}function _c(n,r,s,l){var f=ln();l=l===void 0?null:l,Ct.flags|=n,f.memoizedState=zs(1|r,yc(),s,l)}function pl(n,r,s,l){var f=Ee();l=l===void 0?null:l;var d=f.memoizedState.inst;Zt!==null&&l!==null&&ld(l,Zt.memoizedState.deps)?f.memoizedState=zs(r,d,s,l):(Ct.flags|=n,f.memoizedState=zs(1|r,d,s,l))}function Jy(n,r){_c(8390656,8,n,r)}function t_(n,r){pl(2048,8,n,r)}function e_(n,r){return pl(4,2,n,r)}function n_(n,r){return pl(4,4,n,r)}function i_(n,r){if(typeof r=="function"){n=n();var s=r(n);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function r_(n,r,s){s=s!=null?s.concat([n]):null,pl(4,4,i_.bind(null,r,n),s)}function vd(){}function a_(n,r){var s=Ee();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&ld(r,l[1])?l[0]:(s.memoizedState=[n,r],n)}function s_(n,r){var s=Ee();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&ld(r,l[1]))return l[0];if(l=n(),qa){mn(!0);try{n()}finally{mn(!1)}}return s.memoizedState=[l,r],l}function Td(n,r,s){return s===void 0||(Er&1073741824)!==0?n.memoizedState=r:(n.memoizedState=s,n=uv(),Ct.lanes|=n,Cr|=n,s)}function o_(n,r,s,l){return pn(s,r)?s:Vs.current!==null?(n=Td(n,s,l),pn(n,r)||(ke=!0),n):(Er&42)===0?(ke=!0,n.memoizedState=s):(n=uv(),Ct.lanes|=n,Cr|=n,r)}function l_(n,r,s,l,f){var d=it.p;it.p=d!==0&&8>d?d:8;var v=H.T,E={};H.T=E,Ad(n,!1,r,s);try{var I=f(),L=H.S;if(L!==null&&L(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=fS(I,l);yl(n,r,G,En(n))}else yl(n,r,l,En(n))}catch(K){yl(n,r,{then:function(){},status:"rejected",reason:K},En())}finally{it.p=d,H.T=v}}function pS(){}function Ed(n,r,s,l){if(n.tag!==5)throw Error(a(476));var f=u_(n).queue;l_(n,f,r,mt,s===null?pS:function(){return c_(n),s(l)})}function u_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:mt},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:s},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function c_(n){var r=u_(n).next.queue;yl(n,r,{},En())}function bd(){return Xe(kl)}function f_(){return Ee().memoizedState}function h_(){return Ee().memoizedState}function yS(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var s=En();n=vr(s);var l=Tr(r,n,s);l!==null&&(bn(l,r,s),fl(l,r,s)),r={cache:Zh()},n.payload=r;return}r=r.return}}function _S(n,r,s){var l=En();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},vc(n)?m_(r,s):(s=qh(n,r,s,l),s!==null&&(bn(s,n,l),g_(s,r,l)))}function d_(n,r,s){var l=En();yl(n,r,s,l)}function yl(n,r,s,l){var f={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(vc(n))m_(r,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,E=d(v,s);if(f.hasEagerState=!0,f.eagerState=E,pn(E,v))return nc(n,r,f,0),ie===null&&ec(),!1}catch{}finally{}if(s=qh(n,r,f,l),s!==null)return bn(s,n,l),g_(s,r,l),!0}return!1}function Ad(n,r,s,l){if(l={lane:2,revertLane:em(),action:l,hasEagerState:!1,eagerState:null,next:null},vc(n)){if(r)throw Error(a(479))}else r=qh(n,s,l,2),r!==null&&bn(r,n,2)}function vc(n){var r=n.alternate;return n===Ct||r!==null&&r===Ct}function m_(n,r){Us=dc=!0;var s=n.pending;s===null?r.next=r:(r.next=s.next,s.next=r),n.pending=r}function g_(n,r,s){if((s&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,s|=l,r.lanes=s,zo(n,s)}}var Tc={readContext:Xe,use:gc,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},p_={readContext:Xe,use:gc,useCallback:function(n,r){return ln().memoizedState=[n,r===void 0?null:r],n},useContext:Xe,useEffect:Jy,useImperativeHandle:function(n,r,s){s=s!=null?s.concat([n]):null,_c(4194308,4,i_.bind(null,r,n),s)},useLayoutEffect:function(n,r){return _c(4194308,4,n,r)},useInsertionEffect:function(n,r){_c(4,2,n,r)},useMemo:function(n,r){var s=ln();r=r===void 0?null:r;var l=n();if(qa){mn(!0);try{n()}finally{mn(!1)}}return s.memoizedState=[l,r],l},useReducer:function(n,r,s){var l=ln();if(s!==void 0){var f=s(r);if(qa){mn(!0);try{s(r)}finally{mn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=_S.bind(null,Ct,n),[l.memoizedState,n]},useRef:function(n){var r=ln();return n={current:n},r.memoizedState=n},useState:function(n){n=yd(n);var r=n.queue,s=d_.bind(null,Ct,r);return r.dispatch=s,[n.memoizedState,s]},useDebugValue:vd,useDeferredValue:function(n,r){var s=ln();return Td(s,n,r)},useTransition:function(){var n=yd(!1);return n=l_.bind(null,Ct,n.queue,!0,!1),ln().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,s){var l=Ct,f=ln();if(Ft){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),ie===null)throw Error(a(349));(zt&124)!==0||Uy(l,r,s)}f.memoizedState=s;var d={value:s,getSnapshot:r};return f.queue=d,Jy(zy.bind(null,l,d,n),[n]),l.flags|=2048,zs(9,yc(),Ly.bind(null,l,d,s,r),null),s},useId:function(){var n=ln(),r=ie.identifierPrefix;if(Ft){var s=zi,l=Li;s=(l&~(1<<32-Ke(l)-1)).toString(32)+s,r=""+r+"R"+s,s=mc++,0<s&&(r+="H"+s.toString(32)),r+=""}else s=hS++,r=""+r+"r"+s.toString(32)+"";return n.memoizedState=r},useHostTransitionStatus:bd,useFormState:Ky,useActionState:Ky,useOptimistic:function(n){var r=ln();r.memoizedState=r.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=Ad.bind(null,Ct,!0,s),s.dispatch=r,[n,r]},useMemoCache:md,useCacheRefresh:function(){return ln().memoizedState=yS.bind(null,Ct)}},y_={readContext:Xe,use:gc,useCallback:a_,useContext:Xe,useEffect:t_,useImperativeHandle:r_,useInsertionEffect:e_,useLayoutEffect:n_,useMemo:s_,useReducer:pc,useRef:Zy,useState:function(){return pc(qi)},useDebugValue:vd,useDeferredValue:function(n,r){var s=Ee();return o_(s,Zt.memoizedState,n,r)},useTransition:function(){var n=pc(qi)[0],r=Ee().memoizedState;return[typeof n=="boolean"?n:gl(n),r]},useSyncExternalStore:Vy,useId:f_,useHostTransitionStatus:bd,useFormState:Xy,useActionState:Xy,useOptimistic:function(n,r){var s=Ee();return qy(s,Zt,n,r)},useMemoCache:md,useCacheRefresh:h_},vS={readContext:Xe,use:gc,useCallback:a_,useContext:Xe,useEffect:t_,useImperativeHandle:r_,useInsertionEffect:e_,useLayoutEffect:n_,useMemo:s_,useReducer:pd,useRef:Zy,useState:function(){return pd(qi)},useDebugValue:vd,useDeferredValue:function(n,r){var s=Ee();return Zt===null?Td(s,n,r):o_(s,Zt.memoizedState,n,r)},useTransition:function(){var n=pd(qi)[0],r=Ee().memoizedState;return[typeof n=="boolean"?n:gl(n),r]},useSyncExternalStore:Vy,useId:f_,useHostTransitionStatus:bd,useFormState:$y,useActionState:$y,useOptimistic:function(n,r){var s=Ee();return Zt!==null?qy(s,Zt,n,r):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:md,useCacheRefresh:h_},js=null,_l=0;function Ec(n){var r=_l;return _l+=1,js===null&&(js=[]),Cy(js,n,r)}function vl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function bc(n,r){throw r.$$typeof===S?Error(a(525)):(n=Object.prototype.toString.call(r),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function __(n){var r=n._init;return r(n._payload)}function v_(n){function r(k,M){if(n){var U=k.deletions;U===null?(k.deletions=[M],k.flags|=16):U.push(M)}}function s(k,M){if(!n)return null;for(;M!==null;)r(k,M),M=M.sibling;return null}function l(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function f(k,M){return k=Ui(k,M),k.index=0,k.sibling=null,k}function d(k,M,U){return k.index=U,n?(U=k.alternate,U!==null?(U=U.index,U<M?(k.flags|=67108866,M):U):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function v(k){return n&&k.alternate===null&&(k.flags|=67108866),k}function E(k,M,U,Q){return M===null||M.tag!==6?(M=Hh(U,k.mode,Q),M.return=k,M):(M=f(M,U),M.return=k,M)}function I(k,M,U,Q){var ut=U.type;return ut===F?G(k,M,U.props.children,Q,U.key):M!==null&&(M.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===A&&__(ut)===M.type)?(M=f(M,U.props),vl(M,U),M.return=k,M):(M=rc(U.type,U.key,U.props,null,k.mode,Q),vl(M,U),M.return=k,M)}function L(k,M,U,Q){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=Gh(U,k.mode,Q),M.return=k,M):(M=f(M,U.children||[]),M.return=k,M)}function G(k,M,U,Q,ut){return M===null||M.tag!==7?(M=Pa(U,k.mode,Q,ut),M.return=k,M):(M=f(M,U),M.return=k,M)}function K(k,M,U){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Hh(""+M,k.mode,U),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case R:return U=rc(M.type,M.key,M.props,null,k.mode,U),vl(U,M),U.return=k,U;case z:return M=Gh(M,k.mode,U),M.return=k,M;case A:var Q=M._init;return M=Q(M._payload),K(k,M,U)}if(ce(M)||P(M))return M=Pa(M,k.mode,U,null),M.return=k,M;if(typeof M.then=="function")return K(k,Ec(M),U);if(M.$$typeof===at)return K(k,lc(k,M),U);bc(k,M)}return null}function j(k,M,U,Q){var ut=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ut!==null?null:E(k,M,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case R:return U.key===ut?I(k,M,U,Q):null;case z:return U.key===ut?L(k,M,U,Q):null;case A:return ut=U._init,U=ut(U._payload),j(k,M,U,Q)}if(ce(U)||P(U))return ut!==null?null:G(k,M,U,Q,null);if(typeof U.then=="function")return j(k,M,Ec(U),Q);if(U.$$typeof===at)return j(k,M,lc(k,U),Q);bc(k,U)}return null}function B(k,M,U,Q,ut){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(U)||null,E(M,k,""+Q,ut);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case R:return k=k.get(Q.key===null?U:Q.key)||null,I(M,k,Q,ut);case z:return k=k.get(Q.key===null?U:Q.key)||null,L(M,k,Q,ut);case A:var Nt=Q._init;return Q=Nt(Q._payload),B(k,M,U,Q,ut)}if(ce(Q)||P(Q))return k=k.get(U)||null,G(M,k,Q,ut,null);if(typeof Q.then=="function")return B(k,M,U,Ec(Q),ut);if(Q.$$typeof===at)return B(k,M,U,lc(M,Q),ut);bc(M,Q)}return null}function Tt(k,M,U,Q){for(var ut=null,Nt=null,dt=M,_t=M=0,Ue=null;dt!==null&&_t<U.length;_t++){dt.index>_t?(Ue=dt,dt=null):Ue=dt.sibling;var Bt=j(k,dt,U[_t],Q);if(Bt===null){dt===null&&(dt=Ue);break}n&&dt&&Bt.alternate===null&&r(k,dt),M=d(Bt,M,_t),Nt===null?ut=Bt:Nt.sibling=Bt,Nt=Bt,dt=Ue}if(_t===U.length)return s(k,dt),Ft&&Va(k,_t),ut;if(dt===null){for(;_t<U.length;_t++)dt=K(k,U[_t],Q),dt!==null&&(M=d(dt,M,_t),Nt===null?ut=dt:Nt.sibling=dt,Nt=dt);return Ft&&Va(k,_t),ut}for(dt=l(dt);_t<U.length;_t++)Ue=B(dt,k,_t,U[_t],Q),Ue!==null&&(n&&Ue.alternate!==null&&dt.delete(Ue.key===null?_t:Ue.key),M=d(Ue,M,_t),Nt===null?ut=Ue:Nt.sibling=Ue,Nt=Ue);return n&&dt.forEach(function(Ur){return r(k,Ur)}),Ft&&Va(k,_t),ut}function yt(k,M,U,Q){if(U==null)throw Error(a(151));for(var ut=null,Nt=null,dt=M,_t=M=0,Ue=null,Bt=U.next();dt!==null&&!Bt.done;_t++,Bt=U.next()){dt.index>_t?(Ue=dt,dt=null):Ue=dt.sibling;var Ur=j(k,dt,Bt.value,Q);if(Ur===null){dt===null&&(dt=Ue);break}n&&dt&&Ur.alternate===null&&r(k,dt),M=d(Ur,M,_t),Nt===null?ut=Ur:Nt.sibling=Ur,Nt=Ur,dt=Ue}if(Bt.done)return s(k,dt),Ft&&Va(k,_t),ut;if(dt===null){for(;!Bt.done;_t++,Bt=U.next())Bt=K(k,Bt.value,Q),Bt!==null&&(M=d(Bt,M,_t),Nt===null?ut=Bt:Nt.sibling=Bt,Nt=Bt);return Ft&&Va(k,_t),ut}for(dt=l(dt);!Bt.done;_t++,Bt=U.next())Bt=B(dt,k,_t,Bt.value,Q),Bt!==null&&(n&&Bt.alternate!==null&&dt.delete(Bt.key===null?_t:Bt.key),M=d(Bt,M,_t),Nt===null?ut=Bt:Nt.sibling=Bt,Nt=Bt);return n&&dt.forEach(function(Tw){return r(k,Tw)}),Ft&&Va(k,_t),ut}function te(k,M,U,Q){if(typeof U=="object"&&U!==null&&U.type===F&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case R:t:{for(var ut=U.key;M!==null;){if(M.key===ut){if(ut=U.type,ut===F){if(M.tag===7){s(k,M.sibling),Q=f(M,U.props.children),Q.return=k,k=Q;break t}}else if(M.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===A&&__(ut)===M.type){s(k,M.sibling),Q=f(M,U.props),vl(Q,U),Q.return=k,k=Q;break t}s(k,M);break}else r(k,M);M=M.sibling}U.type===F?(Q=Pa(U.props.children,k.mode,Q,U.key),Q.return=k,k=Q):(Q=rc(U.type,U.key,U.props,null,k.mode,Q),vl(Q,U),Q.return=k,k=Q)}return v(k);case z:t:{for(ut=U.key;M!==null;){if(M.key===ut)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){s(k,M.sibling),Q=f(M,U.children||[]),Q.return=k,k=Q;break t}else{s(k,M);break}else r(k,M);M=M.sibling}Q=Gh(U,k.mode,Q),Q.return=k,k=Q}return v(k);case A:return ut=U._init,U=ut(U._payload),te(k,M,U,Q)}if(ce(U))return Tt(k,M,U,Q);if(P(U)){if(ut=P(U),typeof ut!="function")throw Error(a(150));return U=ut.call(U),yt(k,M,U,Q)}if(typeof U.then=="function")return te(k,M,Ec(U),Q);if(U.$$typeof===at)return te(k,M,lc(k,U),Q);bc(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,M!==null&&M.tag===6?(s(k,M.sibling),Q=f(M,U),Q.return=k,k=Q):(s(k,M),Q=Hh(U,k.mode,Q),Q.return=k,k=Q),v(k)):s(k,M)}return function(k,M,U,Q){try{_l=0;var ut=te(k,M,U,Q);return js=null,ut}catch(dt){if(dt===ul||dt===cc)throw dt;var Nt=yn(29,dt,null,k.mode);return Nt.lanes=Q,Nt.return=k,Nt}finally{}}}var Bs=v_(!0),T_=v_(!1),Vn=Z(null),fi=null;function br(n){var r=n.alternate;et(Ce,Ce.current&1),et(Vn,n),fi===null&&(r===null||Vs.current!==null||r.memoizedState!==null)&&(fi=n)}function E_(n){if(n.tag===22){if(et(Ce,Ce.current),et(Vn,n),fi===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(fi=n)}}else Ar()}function Ar(){et(Ce,Ce.current),et(Vn,Vn.current)}function Fi(n){rt(Vn),fi===n&&(fi=null),rt(Ce)}var Ce=Z(0);function Ac(n){for(var r=n;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||dm(s)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Sd(n,r,s,l){r=n.memoizedState,s=s(l,r),s=s==null?r:T({},r,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var wd={enqueueSetState:function(n,r,s){n=n._reactInternals;var l=En(),f=vr(l);f.payload=r,s!=null&&(f.callback=s),r=Tr(n,f,l),r!==null&&(bn(r,n,l),fl(r,n,l))},enqueueReplaceState:function(n,r,s){n=n._reactInternals;var l=En(),f=vr(l);f.tag=1,f.payload=r,s!=null&&(f.callback=s),r=Tr(n,f,l),r!==null&&(bn(r,n,l),fl(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var s=En(),l=vr(s);l.tag=2,r!=null&&(l.callback=r),r=Tr(n,l,s),r!==null&&(bn(r,n,s),fl(r,n,s))}};function b_(n,r,s,l,f,d,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!el(s,l)||!el(f,d):!0}function A_(n,r,s,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==n&&wd.enqueueReplaceState(r,r.state,null)}function Fa(n,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(n=n.defaultProps){s===r&&(s=T({},s));for(var f in n)s[f]===void 0&&(s[f]=n[f])}return s}var Sc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function S_(n){Sc(n)}function w_(n){console.error(n)}function R_(n){Sc(n)}function wc(n,r){try{var s=n.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function I_(n,r,s){try{var l=n.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Rd(n,r,s){return s=vr(s),s.tag=3,s.payload={element:null},s.callback=function(){wc(n,r)},s}function C_(n){return n=vr(n),n.tag=3,n}function D_(n,r,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){I_(r,s,l)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){I_(r,s,l),typeof f!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function TS(n,r,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&sl(r,s,f,!0),s=Vn.current,s!==null){switch(s.tag){case 13:return fi===null?Wd():s.alternate===null&&de===0&&(de=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===ed?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),Zd(n,l,f)),!1;case 22:return s.flags|=65536,l===ed?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),Zd(n,l,f)),!1}throw Error(a(435,s.tag))}return Zd(n,l,f),Wd(),!1}if(Ft)return r=Vn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Kh&&(n=Error(a(422),{cause:l}),al(Mn(n,s)))):(l!==Kh&&(r=Error(a(423),{cause:l}),al(Mn(r,s))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Mn(l,s),f=Rd(n.stateNode,l,f),rd(n,f),de!==4&&(de=2)),!1;var d=Error(a(520),{cause:l});if(d=Mn(d,s),Rl===null?Rl=[d]:Rl.push(d),de!==4&&(de=2),r===null)return!0;l=Mn(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,n=f&-f,s.lanes|=n,n=Rd(s.stateNode,l,n),rd(s,n),!1;case 1:if(r=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Dr===null||!Dr.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=C_(f),D_(f,n,s,l),rd(s,f),!1}s=s.return}while(s!==null);return!1}var O_=Error(a(461)),ke=!1;function qe(n,r,s,l){r.child=n===null?T_(r,null,s,l):Bs(r,n.child,s,l)}function N_(n,r,s,l,f){s=s.render;var d=r.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return ja(r),l=ud(n,r,s,v,d,f),E=cd(),n!==null&&!ke?(fd(n,r,f),Hi(n,r,f)):(Ft&&E&&Yh(r),r.flags|=1,qe(n,r,l,f),r.child)}function M_(n,r,s,l,f){if(n===null){var d=s.type;return typeof d=="function"&&!Fh(d)&&d.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=d,x_(n,r,d,l,f)):(n=rc(s.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!Pd(n,f)){var v=d.memoizedProps;if(s=s.compare,s=s!==null?s:el,s(v,l)&&n.ref===r.ref)return Hi(n,r,f)}return r.flags|=1,n=Ui(d,l),n.ref=r.ref,n.return=r,r.child=n}function x_(n,r,s,l,f){if(n!==null){var d=n.memoizedProps;if(el(d,l)&&n.ref===r.ref)if(ke=!1,r.pendingProps=l=d,Pd(n,f))(n.flags&131072)!==0&&(ke=!0);else return r.lanes=n.lanes,Hi(n,r,f)}return Id(n,r,s,l,f)}function P_(n,r,s){var l=r.pendingProps,f=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,n!==null){for(f=r.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return k_(n,r,l,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&uc(r,d!==null?d.cachePool:null),d!==null?xy(r,d):sd(),E_(r);else return r.lanes=r.childLanes=536870912,k_(n,r,d!==null?d.baseLanes|s:s,s)}else d!==null?(uc(r,d.cachePool),xy(r,d),Ar(),r.memoizedState=null):(n!==null&&uc(r,null),sd(),Ar());return qe(n,r,f,s),r.child}function k_(n,r,s,l){var f=td();return f=f===null?null:{parent:Ie._currentValue,pool:f},r.memoizedState={baseLanes:s,cachePool:f},n!==null&&uc(r,null),sd(),E_(r),n!==null&&sl(n,r,l,!0),null}function Rc(n,r){var s=r.ref;if(s===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(n===null||n.ref!==s)&&(r.flags|=4194816)}}function Id(n,r,s,l,f){return ja(r),s=ud(n,r,s,l,void 0,f),l=cd(),n!==null&&!ke?(fd(n,r,f),Hi(n,r,f)):(Ft&&l&&Yh(r),r.flags|=1,qe(n,r,s,f),r.child)}function V_(n,r,s,l,f,d){return ja(r),r.updateQueue=null,s=ky(r,l,s,f),Py(n),l=cd(),n!==null&&!ke?(fd(n,r,d),Hi(n,r,d)):(Ft&&l&&Yh(r),r.flags|=1,qe(n,r,s,d),r.child)}function U_(n,r,s,l,f){if(ja(r),r.stateNode===null){var d=Ns,v=s.contextType;typeof v=="object"&&v!==null&&(d=Xe(v)),d=new s(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=wd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},nd(r),v=s.contextType,d.context=typeof v=="object"&&v!==null?Xe(v):Ns,d.state=r.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(Sd(r,s,v,l),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&wd.enqueueReplaceState(d,d.state,null),dl(r,l,d,f),hl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){d=r.stateNode;var E=r.memoizedProps,I=Fa(s,E);d.props=I;var L=d.context,G=s.contextType;v=Ns,typeof G=="object"&&G!==null&&(v=Xe(G));var K=s.getDerivedStateFromProps;G=typeof K=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=r.pendingProps!==E,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||L!==v)&&A_(r,d,l,v),_r=!1;var j=r.memoizedState;d.state=j,dl(r,l,d,f),hl(),L=r.memoizedState,E||j!==L||_r?(typeof K=="function"&&(Sd(r,s,K,l),L=r.memoizedState),(I=_r||b_(r,s,I,l,j,L,v))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=L),d.props=l,d.state=L,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,id(n,r),v=r.memoizedProps,G=Fa(s,v),d.props=G,K=r.pendingProps,j=d.context,L=s.contextType,I=Ns,typeof L=="object"&&L!==null&&(I=Xe(L)),E=s.getDerivedStateFromProps,(L=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==K||j!==I)&&A_(r,d,l,I),_r=!1,j=r.memoizedState,d.state=j,dl(r,l,d,f),hl();var B=r.memoizedState;v!==K||j!==B||_r||n!==null&&n.dependencies!==null&&oc(n.dependencies)?(typeof E=="function"&&(Sd(r,s,E,l),B=r.memoizedState),(G=_r||b_(r,s,G,l,j,B,I)||n!==null&&n.dependencies!==null&&oc(n.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,B,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,B,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&j===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&j===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=B),d.props=l,d.state=B,d.context=I,l=G):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&j===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&j===n.memoizedState||(r.flags|=1024),l=!1)}return d=l,Rc(n,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&l?(r.child=Bs(r,n.child,null,f),r.child=Bs(r,null,s,f)):qe(n,r,s,f),r.memoizedState=d.state,n=r.child):n=Hi(n,r,f),n}function L_(n,r,s,l){return rl(),r.flags|=256,qe(n,r,s,l),r.child}var Cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dd(n){return{baseLanes:n,cachePool:wy()}}function Od(n,r,s){return n=n!==null?n.childLanes&~s:0,r&&(n|=Un),n}function z_(n,r,s){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=n!==null&&n.memoizedState===null?!1:(Ce.current&2)!==0),v&&(f=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,n===null){if(Ft){if(f?br(r):Ar(),Ft){var E=he,I;if(I=E){t:{for(I=E,E=ci;I.nodeType!==8;){if(!E){E=null;break t}if(I=Gn(I.nextSibling),I===null){E=null;break t}}E=I}E!==null?(r.memoizedState={dehydrated:E,treeContext:ka!==null?{id:Li,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},I=yn(18,null,null,0),I.stateNode=E,I.return=r,r.child=I,sn=r,he=null,I=!0):I=!1}I||La(r)}if(E=r.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return dm(E)?r.lanes=32:r.lanes=536870912,null;Fi(r)}return E=l.children,l=l.fallback,f?(Ar(),f=r.mode,E=Ic({mode:"hidden",children:E},f),l=Pa(l,f,s,null),E.return=r,l.return=r,E.sibling=l,r.child=E,f=r.child,f.memoizedState=Dd(s),f.childLanes=Od(n,v,s),r.memoizedState=Cd,l):(br(r),Nd(r,E))}if(I=n.memoizedState,I!==null&&(E=I.dehydrated,E!==null)){if(d)r.flags&256?(br(r),r.flags&=-257,r=Md(n,r,s)):r.memoizedState!==null?(Ar(),r.child=n.child,r.flags|=128,r=null):(Ar(),f=l.fallback,E=r.mode,l=Ic({mode:"visible",children:l.children},E),f=Pa(f,E,s,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Bs(r,n.child,null,s),l=r.child,l.memoizedState=Dd(s),l.childLanes=Od(n,v,s),r.memoizedState=Cd,r=f);else if(br(r),dm(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var L=v.dgst;v=L,l=Error(a(419)),l.stack="",l.digest=v,al({value:l,source:null,stack:null}),r=Md(n,r,s)}else if(ke||sl(n,r,s,!1),v=(s&n.childLanes)!==0,ke||v){if(v=ie,v!==null&&(l=s&-s,l=(l&42)!==0?1:cr(l),l=(l&(v.suspendedLanes|s))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Os(n,l),bn(v,n,l),O_;E.data==="$?"||Wd(),r=Md(n,r,s)}else E.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=I.treeContext,he=Gn(E.nextSibling),sn=r,Ft=!0,Ua=null,ci=!1,n!==null&&(Pn[kn++]=Li,Pn[kn++]=zi,Pn[kn++]=ka,Li=n.id,zi=n.overflow,ka=r),r=Nd(r,l.children),r.flags|=4096);return r}return f?(Ar(),f=l.fallback,E=r.mode,I=n.child,L=I.sibling,l=Ui(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,L!==null?f=Ui(L,f):(f=Pa(f,E,s,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,E=n.child.memoizedState,E===null?E=Dd(s):(I=E.cachePool,I!==null?(L=Ie._currentValue,I=I.parent!==L?{parent:L,pool:L}:I):I=wy(),E={baseLanes:E.baseLanes|s,cachePool:I}),f.memoizedState=E,f.childLanes=Od(n,v,s),r.memoizedState=Cd,l):(br(r),s=n.child,n=s.sibling,s=Ui(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,n!==null&&(v=r.deletions,v===null?(r.deletions=[n],r.flags|=16):v.push(n)),r.child=s,r.memoizedState=null,s)}function Nd(n,r){return r=Ic({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Ic(n,r){return n=yn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Md(n,r,s){return Bs(r,n.child,null,s),n=Nd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function j_(n,r,s){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),Wh(n.return,r,s)}function xd(n,r,s,l,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=f)}function B_(n,r,s){var l=r.pendingProps,f=l.revealOrder,d=l.tail;if(qe(n,r,l.children,s),l=Ce.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&j_(n,s,r);else if(n.tag===19)j_(n,s,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break t;for(;n.sibling===null;){if(n.return===null||n.return===r)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(et(Ce,l),f){case"forwards":for(s=r.child,f=null;s!==null;)n=s.alternate,n!==null&&Ac(n)===null&&(f=s),s=s.sibling;s=f,s===null?(f=r.child,r.child=null):(f=s.sibling,s.sibling=null),xd(r,!1,f,s,d);break;case"backwards":for(s=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&Ac(n)===null){r.child=f;break}n=f.sibling,f.sibling=s,s=f,f=n}xd(r,!0,s,null,d);break;case"together":xd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Hi(n,r,s){if(n!==null&&(r.dependencies=n.dependencies),Cr|=r.lanes,(s&r.childLanes)===0)if(n!==null){if(sl(n,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(a(153));if(r.child!==null){for(n=r.child,s=Ui(n,n.pendingProps),r.child=s,s.return=r;n.sibling!==null;)n=n.sibling,s=s.sibling=Ui(n,n.pendingProps),s.return=r;s.sibling=null}return r.child}function Pd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&oc(n)))}function ES(n,r,s){switch(r.tag){case 3:ne(r,r.stateNode.containerInfo),yr(r,Ie,n.memoizedState.cache),rl();break;case 27:case 5:ur(r);break;case 4:ne(r,r.stateNode.containerInfo);break;case 10:yr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(br(r),r.flags|=128,null):(s&r.child.childLanes)!==0?z_(n,r,s):(br(r),n=Hi(n,r,s),n!==null?n.sibling:null);br(r);break;case 19:var f=(n.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(sl(n,r,s,!1),l=(s&r.childLanes)!==0),f){if(l)return B_(n,r,s);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),et(Ce,Ce.current),l)break;return null;case 22:case 23:return r.lanes=0,P_(n,r,s);case 24:yr(r,Ie,n.memoizedState.cache)}return Hi(n,r,s)}function q_(n,r,s){if(n!==null)if(n.memoizedProps!==r.pendingProps)ke=!0;else{if(!Pd(n,s)&&(r.flags&128)===0)return ke=!1,ES(n,r,s);ke=(n.flags&131072)!==0}else ke=!1,Ft&&(r.flags&1048576)!==0&&_y(r,sc,r.index);switch(r.lanes=0,r.tag){case 16:t:{n=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Fh(l)?(n=Fa(l,n),r.tag=1,r=U_(null,r,l,n,s)):(r.tag=0,r=Id(null,r,l,n,s));else{if(l!=null){if(f=l.$$typeof,f===vt){r.tag=11,r=N_(null,r,l,n,s);break t}else if(f===x){r.tag=14,r=M_(null,r,l,n,s);break t}}throw r=ze(l)||l,Error(a(306,r,""))}}return r;case 0:return Id(n,r,r.type,r.pendingProps,s);case 1:return l=r.type,f=Fa(l,r.pendingProps),U_(n,r,l,f,s);case 3:t:{if(ne(r,r.stateNode.containerInfo),n===null)throw Error(a(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,id(n,r),dl(r,l,null,s);var v=r.memoizedState;if(l=v.cache,yr(r,Ie,l),l!==d.cache&&$h(r,[Ie],s,!0),hl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=L_(n,r,l,s);break t}else if(l!==f){f=Mn(Error(a(424)),r),al(f),r=L_(n,r,l,s);break t}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(he=Gn(n.firstChild),sn=r,Ft=!0,Ua=null,ci=!0,s=T_(r,null,l,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(rl(),l===f){r=Hi(n,r,s);break t}qe(n,r,l,s)}r=r.child}return r;case 26:return Rc(n,r),n===null?(s=Yv(r.type,null,r.pendingProps,null))?r.memoizedState=s:Ft||(s=r.type,n=r.pendingProps,l=Bc(At.current).createElement(s),l[Se]=r,l[_e]=n,He(l,s,n),me(l),r.stateNode=l):r.memoizedState=Yv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return ur(r),n===null&&Ft&&(l=r.stateNode=Fv(r.type,r.pendingProps,At.current),sn=r,ci=!0,f=he,Mr(r.type)?(mm=f,he=Gn(l.firstChild)):he=f),qe(n,r,r.pendingProps.children,s),Rc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Ft&&((f=l=he)&&(l=XS(l,r.type,r.pendingProps,ci),l!==null?(r.stateNode=l,sn=r,he=Gn(l.firstChild),ci=!1,f=!0):f=!1),f||La(r)),ur(r),f=r.type,d=r.pendingProps,v=n!==null?n.memoizedProps:null,l=d.children,cm(f,d)?l=null:v!==null&&cm(f,v)&&(r.flags|=32),r.memoizedState!==null&&(f=ud(n,r,dS,null,null,s),kl._currentValue=f),Rc(n,r),qe(n,r,l,s),r.child;case 6:return n===null&&Ft&&((n=s=he)&&(s=WS(s,r.pendingProps,ci),s!==null?(r.stateNode=s,sn=r,he=null,n=!0):n=!1),n||La(r)),null;case 13:return z_(n,r,s);case 4:return ne(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Bs(r,null,l,s):qe(n,r,l,s),r.child;case 11:return N_(n,r,r.type,r.pendingProps,s);case 7:return qe(n,r,r.pendingProps,s),r.child;case 8:return qe(n,r,r.pendingProps.children,s),r.child;case 12:return qe(n,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,yr(r,r.type,l.value),qe(n,r,l.children,s),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,ja(r),f=Xe(f),l=l(f),r.flags|=1,qe(n,r,l,s),r.child;case 14:return M_(n,r,r.type,r.pendingProps,s);case 15:return x_(n,r,r.type,r.pendingProps,s);case 19:return B_(n,r,s);case 31:return l=r.pendingProps,s=r.mode,l={mode:l.mode,children:l.children},n===null?(s=Ic(l,s),s.ref=r.ref,r.child=s,s.return=r,r=s):(s=Ui(n.child,l),s.ref=r.ref,r.child=s,s.return=r,r=s),r;case 22:return P_(n,r,s);case 24:return ja(r),l=Xe(Ie),n===null?(f=td(),f===null&&(f=ie,d=Zh(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),r.memoizedState={parent:l,cache:f},nd(r),yr(r,Ie,f)):((n.lanes&s)!==0&&(id(n,r),dl(r,null,null,s),hl()),f=n.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),yr(r,Ie,l)):(l=d.cache,yr(r,Ie,l),l!==f.cache&&$h(r,[Ie],s,!0))),qe(n,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function Gi(n){n.flags|=4}function F_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!$v(r)){if(r=Vn.current,r!==null&&((zt&4194048)===zt?fi!==null:(zt&62914560)!==zt&&(zt&536870912)===0||r!==fi))throw cl=ed,Ry;n.flags|=8192}}function Cc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Uo():536870912,n.lanes|=r,Gs|=r)}function Tl(n,r){if(!Ft)switch(n.tailMode){case"hidden":r=n.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function le(n){var r=n.alternate!==null&&n.alternate.child===n.child,s=0,l=0;if(r)for(var f=n.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=s,r}function bS(n,r,s){var l=r.pendingProps;switch(Qh(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(r),null;case 1:return le(r),null;case 3:return s=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Bi(Ie),Zn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(il(r)?Gi(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ey())),le(r),null;case 26:return s=r.memoizedState,n===null?(Gi(r),s!==null?(le(r),F_(r,s)):(le(r),r.flags&=-16777217)):s?s!==n.memoizedState?(Gi(r),le(r),F_(r,s)):(le(r),r.flags&=-16777217):(n.memoizedProps!==l&&Gi(r),le(r),r.flags&=-16777217),null;case 27:Si(r),s=At.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Gi(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return le(r),null}n=pt.current,il(r)?vy(r):(n=Fv(f,l,s),r.stateNode=n,Gi(r))}return le(r),null;case 5:if(Si(r),s=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Gi(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return le(r),null}if(n=pt.current,il(r))vy(r);else{switch(f=Bc(At.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(s,{is:l.is}):f.createElement(s)}}n[Se]=r,n[_e]=l;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;t:switch(He(n,s,l),s){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&Gi(r)}}return le(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&Gi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(n=At.current,il(r)){if(n=r.stateNode,s=r.memoizedProps,l=null,f=sn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Se]=r,n=!!(n.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Vv(n.nodeValue,s)),n||La(r)}else n=Bc(n).createTextNode(l),n[Se]=r,r.stateNode=n}return le(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=il(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(a(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Se]=r}else rl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;le(r),f=!1}else f=Ey(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Fi(r),r):(Fi(r),null)}if(Fi(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=l!==null,n=n!==null&&n.memoizedState!==null,s){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return s!==n&&s&&(r.child.flags|=8192),Cc(r,r.updateQueue),le(r),null;case 4:return Zn(),n===null&&am(r.stateNode.containerInfo),le(r),null;case 10:return Bi(r.type),le(r),null;case 19:if(rt(Ce),f=r.memoizedState,f===null)return le(r),null;if(l=(r.flags&128)!==0,d=f.rendering,d===null)if(l)Tl(f,!1);else{if(de!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=Ac(n),d!==null){for(r.flags|=128,Tl(f,!1),n=d.updateQueue,r.updateQueue=n,Cc(r,n),r.subtreeFlags=0,n=s,s=r.child;s!==null;)yy(s,n),s=s.sibling;return et(Ce,Ce.current&1|2),r.child}n=n.sibling}f.tail!==null&&Rn()>Nc&&(r.flags|=128,l=!0,Tl(f,!1),r.lanes=4194304)}else{if(!l)if(n=Ac(d),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,Cc(r,n),Tl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Ft)return le(r),null}else 2*Rn()-f.renderingStartTime>Nc&&s!==536870912&&(r.flags|=128,l=!0,Tl(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(n=f.last,n!==null?n.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Rn(),r.sibling=null,n=Ce.current,et(Ce,l?n&1|2:n&1),r):(le(r),null);case 22:case 23:return Fi(r),od(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(le(r),r.subtreeFlags&6&&(r.flags|=8192)):le(r),s=r.updateQueue,s!==null&&Cc(r,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),n!==null&&rt(Ba),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),Bi(Ie),le(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function AS(n,r){switch(Qh(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Bi(Ie),Zn(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Si(r),null;case 13:if(Fi(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(a(340));rl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return rt(Ce),null;case 4:return Zn(),null;case 10:return Bi(r.type),null;case 22:case 23:return Fi(r),od(),n!==null&&rt(Ba),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Bi(Ie),null;case 25:return null;default:return null}}function H_(n,r){switch(Qh(r),r.tag){case 3:Bi(Ie),Zn();break;case 26:case 27:case 5:Si(r);break;case 4:Zn();break;case 13:Fi(r);break;case 19:rt(Ce);break;case 10:Bi(r.type);break;case 22:case 23:Fi(r),od(),n!==null&&rt(Ba);break;case 24:Bi(Ie)}}function El(n,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&n)===n){l=void 0;var d=s.create,v=s.inst;l=d(),v.destroy=l}s=s.next}while(s!==f)}}catch(E){ee(r,r.return,E)}}function Sr(n,r,s){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,f=r;var I=s,L=E;try{L()}catch(G){ee(f,I,G)}}}l=l.next}while(l!==d)}}catch(G){ee(r,r.return,G)}}function G_(n){var r=n.updateQueue;if(r!==null){var s=n.stateNode;try{My(r,s)}catch(l){ee(n,n.return,l)}}}function Y_(n,r,s){s.props=Fa(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(l){ee(n,r,l)}}function bl(n,r){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof s=="function"?n.refCleanup=s(l):s.current=l}}catch(f){ee(n,r,f)}}function hi(n,r){var s=n.ref,l=n.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){ee(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){ee(n,r,f)}else s.current=null}function Q_(n){var r=n.type,s=n.memoizedProps,l=n.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){ee(n,n.return,f)}}function kd(n,r,s){try{var l=n.stateNode;HS(l,n.type,s,r),l[_e]=r}catch(f){ee(n,n.return,f)}}function K_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Mr(n.type)||n.tag===4}function Vd(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||K_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Mr(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ud(n,r,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(n),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=jc));else if(l!==4&&(l===27&&Mr(n.type)&&(s=n.stateNode,r=null),n=n.child,n!==null))for(Ud(n,r,s),n=n.sibling;n!==null;)Ud(n,r,s),n=n.sibling}function Dc(n,r,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?s.insertBefore(n,r):s.appendChild(n);else if(l!==4&&(l===27&&Mr(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(Dc(n,r,s),n=n.sibling;n!==null;)Dc(n,r,s),n=n.sibling}function X_(n){var r=n.stateNode,s=n.memoizedProps;try{for(var l=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);He(r,l,s),r[Se]=n,r[_e]=s}catch(d){ee(n,n.return,d)}}var Yi=!1,pe=!1,Ld=!1,W_=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function SS(n,r){if(n=n.containerInfo,lm=Qc,n=oy(n),Vh(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else t:{s=(s=n.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var v=0,E=-1,I=-1,L=0,G=0,K=n,j=null;e:for(;;){for(var B;K!==s||f!==0&&K.nodeType!==3||(E=v+f),K!==d||l!==0&&K.nodeType!==3||(I=v+l),K.nodeType===3&&(v+=K.nodeValue.length),(B=K.firstChild)!==null;)j=K,K=B;for(;;){if(K===n)break e;if(j===s&&++L===f&&(E=v),j===d&&++G===l&&(I=v),(B=K.nextSibling)!==null)break;K=j,j=K.parentNode}K=B}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(um={focusedElem:n,selectionRange:s},Qc=!1,Ve=r;Ve!==null;)if(r=Ve,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,Ve=n;else for(;Ve!==null;){switch(r=Ve,d=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,s=r,f=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var Tt=Fa(s.type,f,s.elementType===s.type);n=l.getSnapshotBeforeUpdate(Tt,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(yt){ee(s,s.return,yt)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,s=n.nodeType,s===9)hm(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":hm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=r.sibling,n!==null){n.return=r.return,Ve=n;break}Ve=r.return}}function $_(n,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:wr(n,s),l&4&&El(5,s);break;case 1:if(wr(n,s),l&4)if(n=s.stateNode,r===null)try{n.componentDidMount()}catch(v){ee(s,s.return,v)}else{var f=Fa(s.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(v){ee(s,s.return,v)}}l&64&&G_(s),l&512&&bl(s,s.return);break;case 3:if(wr(n,s),l&64&&(n=s.updateQueue,n!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{My(n,r)}catch(v){ee(s,s.return,v)}}break;case 27:r===null&&l&4&&X_(s);case 26:case 5:wr(n,s),r===null&&l&4&&Q_(s),l&512&&bl(s,s.return);break;case 12:wr(n,s);break;case 13:wr(n,s),l&4&&tv(n,s),l&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=xS.bind(null,s),$S(n,s))));break;case 22:if(l=s.memoizedState!==null||Yi,!l){r=r!==null&&r.memoizedState!==null||pe,f=Yi;var d=pe;Yi=l,(pe=r)&&!d?Rr(n,s,(s.subtreeFlags&8772)!==0):wr(n,s),Yi=f,pe=d}break;case 30:break;default:wr(n,s)}}function Z_(n){var r=n.alternate;r!==null&&(n.alternate=null,Z_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&dr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var oe=null,un=!1;function Qi(n,r,s){for(s=s.child;s!==null;)J_(n,r,s),s=s.sibling}function J_(n,r,s){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(fe,s)}catch{}switch(s.tag){case 26:pe||hi(s,r),Qi(n,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:pe||hi(s,r);var l=oe,f=un;Mr(s.type)&&(oe=s.stateNode,un=!1),Qi(n,r,s),Nl(s.stateNode),oe=l,un=f;break;case 5:pe||hi(s,r);case 6:if(l=oe,f=un,oe=null,Qi(n,r,s),oe=l,un=f,oe!==null)if(un)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(s.stateNode)}catch(d){ee(s,r,d)}else try{oe.removeChild(s.stateNode)}catch(d){ee(s,r,d)}break;case 18:oe!==null&&(un?(n=oe,Bv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),zl(n)):Bv(oe,s.stateNode));break;case 4:l=oe,f=un,oe=s.stateNode.containerInfo,un=!0,Qi(n,r,s),oe=l,un=f;break;case 0:case 11:case 14:case 15:pe||Sr(2,s,r),pe||Sr(4,s,r),Qi(n,r,s);break;case 1:pe||(hi(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Y_(s,r,l)),Qi(n,r,s);break;case 21:Qi(n,r,s);break;case 22:pe=(l=pe)||s.memoizedState!==null,Qi(n,r,s),pe=l;break;default:Qi(n,r,s)}}function tv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{zl(n)}catch(s){ee(r,r.return,s)}}function wS(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new W_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new W_),r;default:throw Error(a(435,n.tag))}}function zd(n,r){var s=wS(n);r.forEach(function(l){var f=PS.bind(null,n,l);s.has(l)||(s.add(l),l.then(f,f))})}function _n(n,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],d=n,v=r,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(Mr(E.type)){oe=E.stateNode,un=!1;break t}break;case 5:oe=E.stateNode,un=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,un=!0;break t}E=E.return}if(oe===null)throw Error(a(160));J_(d,v,f),oe=null,un=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)ev(r,n),r=r.sibling}var Hn=null;function ev(n,r){var s=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:_n(r,n),vn(n),l&4&&(Sr(3,n,n.return),El(3,n),Sr(5,n,n.return));break;case 1:_n(r,n),vn(n),l&512&&(pe||s===null||hi(s,s.return)),l&64&&Yi&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=Hn;if(_n(r,n),vn(n),l&512&&(pe||s===null||hi(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=n.memoizedState,s===null)if(l===null)if(n.stateNode===null){t:{l=n.type,s=n.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[_a]||d[Se]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),He(d,l,s),d[Se]=n,me(d),l=d;break t;case"link":var v=Xv("link","href",f).get(l+(s.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(E,1);break e}}d=f.createElement(l),He(d,l,s),f.head.appendChild(d);break;case"meta":if(v=Xv("meta","content",f).get(l+(s.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(E,1);break e}}d=f.createElement(l),He(d,l,s),f.head.appendChild(d);break;default:throw Error(a(468,l))}d[Se]=n,me(d),l=d}n.stateNode=l}else Wv(f,n.type,n.stateNode);else n.stateNode=Kv(f,l,n.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?Wv(f,n.type,n.stateNode):Kv(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&kd(n,n.memoizedProps,s.memoizedProps)}break;case 27:_n(r,n),vn(n),l&512&&(pe||s===null||hi(s,s.return)),s!==null&&l&4&&kd(n,n.memoizedProps,s.memoizedProps);break;case 5:if(_n(r,n),vn(n),l&512&&(pe||s===null||hi(s,s.return)),n.flags&32){f=n.stateNode;try{Cn(f,"")}catch(B){ee(n,n.return,B)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,kd(n,f,s!==null?s.memoizedProps:f)),l&1024&&(Ld=!0);break;case 6:if(_n(r,n),vn(n),l&4){if(n.stateNode===null)throw Error(a(162));l=n.memoizedProps,s=n.stateNode;try{s.nodeValue=l}catch(B){ee(n,n.return,B)}}break;case 3:if(Hc=null,f=Hn,Hn=qc(r.containerInfo),_n(r,n),Hn=f,vn(n),l&4&&s!==null&&s.memoizedState.isDehydrated)try{zl(r.containerInfo)}catch(B){ee(n,n.return,B)}Ld&&(Ld=!1,nv(n));break;case 4:l=Hn,Hn=qc(n.stateNode.containerInfo),_n(r,n),vn(n),Hn=l;break;case 12:_n(r,n),vn(n);break;case 13:_n(r,n),vn(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Gd=Rn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,zd(n,l)));break;case 22:f=n.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,L=Yi,G=pe;if(Yi=L||f,pe=G||I,_n(r,n),pe=G,Yi=L,vn(n),l&8192)t:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(s===null||I||Yi||pe||Ha(n)),s=null,r=n;;){if(r.tag===5||r.tag===26){if(s===null){I=s=r;try{if(d=I.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=I.stateNode;var K=I.memoizedProps.style,j=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(B){ee(I,I.return,B)}}}else if(r.tag===6){if(s===null){I=r;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(B){ee(I,I.return,B)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break t;for(;r.sibling===null;){if(r.return===null||r.return===n)break t;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,zd(n,s))));break;case 19:_n(r,n),vn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,zd(n,l)));break;case 30:break;case 21:break;default:_n(r,n),vn(n)}}function vn(n){var r=n.flags;if(r&2){try{for(var s,l=n.return;l!==null;){if(K_(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,d=Vd(n);Dc(n,d,f);break;case 5:var v=s.stateNode;s.flags&32&&(Cn(v,""),s.flags&=-33);var E=Vd(n);Dc(n,E,v);break;case 3:case 4:var I=s.stateNode.containerInfo,L=Vd(n);Ud(n,L,I);break;default:throw Error(a(161))}}catch(G){ee(n,n.return,G)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function nv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;nv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function wr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)$_(n,r.alternate,r),r=r.sibling}function Ha(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Sr(4,r,r.return),Ha(r);break;case 1:hi(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&Y_(r,r.return,s),Ha(r);break;case 27:Nl(r.stateNode);case 26:case 5:hi(r,r.return),Ha(r);break;case 22:r.memoizedState===null&&Ha(r);break;case 30:Ha(r);break;default:Ha(r)}n=n.sibling}}function Rr(n,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Rr(f,d,s),El(4,d);break;case 1:if(Rr(f,d,s),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(L){ee(l,l.return,L)}if(l=d,f=l.updateQueue,f!==null){var E=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)Ny(I[f],E)}catch(L){ee(l,l.return,L)}}s&&v&64&&G_(d),bl(d,d.return);break;case 27:X_(d);case 26:case 5:Rr(f,d,s),s&&l===null&&v&4&&Q_(d),bl(d,d.return);break;case 12:Rr(f,d,s);break;case 13:Rr(f,d,s),s&&v&4&&tv(f,d);break;case 22:d.memoizedState===null&&Rr(f,d,s),bl(d,d.return);break;case 30:break;default:Rr(f,d,s)}r=r.sibling}}function jd(n,r){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&ol(s))}function Bd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ol(n))}function di(n,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)iv(n,r,s,l),r=r.sibling}function iv(n,r,s,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:di(n,r,s,l),f&2048&&El(9,r);break;case 1:di(n,r,s,l);break;case 3:di(n,r,s,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ol(n)));break;case 12:if(f&2048){di(n,r,s,l),n=r.stateNode;try{var d=r.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){ee(r,r.return,I)}}else di(n,r,s,l);break;case 13:di(n,r,s,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?di(n,r,s,l):Al(n,r):d._visibility&2?di(n,r,s,l):(d._visibility|=2,qs(n,r,s,l,(r.subtreeFlags&10256)!==0)),f&2048&&jd(v,r);break;case 24:di(n,r,s,l),f&2048&&Bd(r.alternate,r);break;default:di(n,r,s,l)}}function qs(n,r,s,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=n,v=r,E=s,I=l,L=v.flags;switch(v.tag){case 0:case 11:case 15:qs(d,v,E,I,f),El(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&2?qs(d,v,E,I,f):Al(d,v):(G._visibility|=2,qs(d,v,E,I,f)),f&&L&2048&&jd(v.alternate,v);break;case 24:qs(d,v,E,I,f),f&&L&2048&&Bd(v.alternate,v);break;default:qs(d,v,E,I,f)}r=r.sibling}}function Al(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=n,l=r,f=l.flags;switch(l.tag){case 22:Al(s,l),f&2048&&jd(l.alternate,l);break;case 24:Al(s,l),f&2048&&Bd(l.alternate,l);break;default:Al(s,l)}r=r.sibling}}var Sl=8192;function Fs(n){if(n.subtreeFlags&Sl)for(n=n.child;n!==null;)rv(n),n=n.sibling}function rv(n){switch(n.tag){case 26:Fs(n),n.flags&Sl&&n.memoizedState!==null&&cw(Hn,n.memoizedState,n.memoizedProps);break;case 5:Fs(n);break;case 3:case 4:var r=Hn;Hn=qc(n.stateNode.containerInfo),Fs(n),Hn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Sl,Sl=16777216,Fs(n),Sl=r):Fs(n));break;default:Fs(n)}}function av(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function wl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Ve=l,ov(l,n)}av(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)sv(n),n=n.sibling}function sv(n){switch(n.tag){case 0:case 11:case 15:wl(n),n.flags&2048&&Sr(9,n,n.return);break;case 3:wl(n);break;case 12:wl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Oc(n)):wl(n);break;default:wl(n)}}function Oc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Ve=l,ov(l,n)}av(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Sr(8,r,r.return),Oc(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,Oc(r));break;default:Oc(r)}n=n.sibling}}function ov(n,r){for(;Ve!==null;){var s=Ve;switch(s.tag){case 0:case 11:case 15:Sr(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ve=l;else t:for(s=n;Ve!==null;){l=Ve;var f=l.sibling,d=l.return;if(Z_(l),l===s){Ve=null;break t}if(f!==null){f.return=d,Ve=f;break t}Ve=d}}}var RS={getCacheForType:function(n){var r=Xe(Ie),s=r.data.get(n);return s===void 0&&(s=n(),r.data.set(n,s)),s}},IS=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ie=null,Mt=null,zt=0,Xt=0,Tn=null,Ir=!1,Hs=!1,qd=!1,Ki=0,de=0,Cr=0,Ga=0,Fd=0,Un=0,Gs=0,Rl=null,cn=null,Hd=!1,Gd=0,Nc=1/0,Mc=null,Dr=null,Fe=0,Or=null,Ys=null,Qs=0,Yd=0,Qd=null,lv=null,Il=0,Kd=null;function En(){if((Kt&2)!==0&&zt!==0)return zt&-zt;if(H.T!==null){var n=Ps;return n!==0?n:em()}return fr()}function uv(){Un===0&&(Un=(zt&536870912)===0||Ft?Vo():536870912);var n=Vn.current;return n!==null&&(n.flags|=32),Un}function bn(n,r,s){(n===ie&&(Xt===2||Xt===9)||n.cancelPendingCommit!==null)&&(Ks(n,0),Nr(n,zt,Un,!1)),Ri(n,s),((Kt&2)===0||n!==ie)&&(n===ie&&((Kt&2)===0&&(Ga|=s),de===4&&Nr(n,zt,Un,!1)),mi(n))}function cv(n,r,s){if((Kt&6)!==0)throw Error(a(327));var l=!s&&(r&124)===0&&(r&n.expiredLanes)===0||ya(n,r),f=l?OS(n,r):$d(n,r,!0),d=l;do{if(f===0){Hs&&!l&&Nr(n,r,0,!1);break}else{if(s=n.current.alternate,d&&!CS(s)){f=$d(n,r,!1),d=!1;continue}if(f===2){if(d=r,n.errorRecoveryDisabledLanes&d)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;t:{var E=n;f=Rl;var I=E.current.memoizedState.isDehydrated;if(I&&(Ks(E,v).flags|=256),v=$d(E,v,!1),v!==2){if(qd&&!I){E.errorRecoveryDisabledLanes|=d,Ga|=d,f=4;break t}d=cn,cn=f,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){Ks(n,0),Nr(n,r,0,!0);break}t:{switch(l=n,d=f,d){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:Nr(l,r,Un,!Ir);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(f=Gd+300-Rn(),10<f)){if(Nr(l,r,Un,!Ir),fs(l,0,!0)!==0)break t;l.timeoutHandle=zv(fv.bind(null,l,s,cn,Mc,Hd,r,Un,Ga,Gs,Ir,d,2,-0,0),f);break t}fv(l,s,cn,Mc,Hd,r,Un,Ga,Gs,Ir,d,0,-0,0)}}break}while(!0);mi(n)}function fv(n,r,s,l,f,d,v,E,I,L,G,K,j,B){if(n.timeoutHandle=-1,K=r.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(Pl={stylesheets:null,count:0,unsuspend:uw},rv(r),K=fw(),K!==null)){n.cancelPendingCommit=K(_v.bind(null,n,r,d,s,l,f,v,E,I,G,1,j,B)),Nr(n,d,v,!L);return}_v(n,r,d,s,l,f,v,E,I)}function CS(n){for(var r=n;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],d=f.getSnapshot;f=f.value;try{if(!pn(d(),f))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Nr(n,r,s,l){r&=~Fd,r&=~Ga,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var d=31-Ke(f),v=1<<d;l[d]=-1,f&=~v}s!==0&&Jn(n,s,r)}function xc(){return(Kt&6)===0?(Cl(0),!1):!0}function Xd(){if(Mt!==null){if(Xt===0)var n=Mt.return;else n=Mt,ji=za=null,hd(n),js=null,_l=0,n=Mt;for(;n!==null;)H_(n.alternate,n),n=n.return;Mt=null}}function Ks(n,r){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,YS(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),Xd(),ie=n,Mt=s=Ui(n.current,null),zt=r,Xt=0,Tn=null,Ir=!1,Hs=ya(n,r),qd=!1,Gs=Un=Fd=Ga=Cr=de=0,cn=Rl=null,Hd=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-Ke(l),d=1<<f;r|=n[f],l&=~d}return Ki=r,ec(),s}function hv(n,r){Ct=null,H.H=Tc,r===ul||r===cc?(r=Dy(),Xt=3):r===Ry?(r=Dy(),Xt=4):Xt=r===O_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Tn=r,Mt===null&&(de=1,wc(n,Mn(r,n.current)))}function dv(){var n=H.H;return H.H=Tc,n===null?Tc:n}function mv(){var n=H.A;return H.A=RS,n}function Wd(){de=4,Ir||(zt&4194048)!==zt&&Vn.current!==null||(Hs=!0),(Cr&134217727)===0&&(Ga&134217727)===0||ie===null||Nr(ie,zt,Un,!1)}function $d(n,r,s){var l=Kt;Kt|=2;var f=dv(),d=mv();(ie!==n||zt!==r)&&(Mc=null,Ks(n,r)),r=!1;var v=de;t:do try{if(Xt!==0&&Mt!==null){var E=Mt,I=Tn;switch(Xt){case 8:Xd(),v=6;break t;case 3:case 2:case 9:case 6:Vn.current===null&&(r=!0);var L=Xt;if(Xt=0,Tn=null,Xs(n,E,I,L),s&&Hs){v=0;break t}break;default:L=Xt,Xt=0,Tn=null,Xs(n,E,I,L)}}DS(),v=de;break}catch(G){hv(n,G)}while(!0);return r&&n.shellSuspendCounter++,ji=za=null,Kt=l,H.H=f,H.A=d,Mt===null&&(ie=null,zt=0,ec()),v}function DS(){for(;Mt!==null;)gv(Mt)}function OS(n,r){var s=Kt;Kt|=2;var l=dv(),f=mv();ie!==n||zt!==r?(Mc=null,Nc=Rn()+500,Ks(n,r)):Hs=ya(n,r);t:do try{if(Xt!==0&&Mt!==null){r=Mt;var d=Tn;e:switch(Xt){case 1:Xt=0,Tn=null,Xs(n,r,d,1);break;case 2:case 9:if(Iy(d)){Xt=0,Tn=null,pv(r);break}r=function(){Xt!==2&&Xt!==9||ie!==n||(Xt=7),mi(n)},d.then(r,r);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Iy(d)?(Xt=0,Tn=null,pv(r)):(Xt=0,Tn=null,Xs(n,r,d,7));break;case 5:var v=null;switch(Mt.tag){case 26:v=Mt.memoizedState;case 5:case 27:var E=Mt;if(!v||$v(v)){Xt=0,Tn=null;var I=E.sibling;if(I!==null)Mt=I;else{var L=E.return;L!==null?(Mt=L,Pc(L)):Mt=null}break e}}Xt=0,Tn=null,Xs(n,r,d,5);break;case 6:Xt=0,Tn=null,Xs(n,r,d,6);break;case 8:Xd(),de=6;break t;default:throw Error(a(462))}}NS();break}catch(G){hv(n,G)}while(!0);return ji=za=null,H.H=l,H.A=f,Kt=s,Mt!==null?0:(ie=null,zt=0,ec(),de)}function NS(){for(;Mt!==null&&!Mo();)gv(Mt)}function gv(n){var r=q_(n.alternate,n,Ki);n.memoizedProps=n.pendingProps,r===null?Pc(n):Mt=r}function pv(n){var r=n,s=r.alternate;switch(r.tag){case 15:case 0:r=V_(s,r,r.pendingProps,r.type,void 0,zt);break;case 11:r=V_(s,r,r.pendingProps,r.type.render,r.ref,zt);break;case 5:hd(r);default:H_(s,r),r=Mt=yy(r,Ki),r=q_(s,r,Ki)}n.memoizedProps=n.pendingProps,r===null?Pc(n):Mt=r}function Xs(n,r,s,l){ji=za=null,hd(r),js=null,_l=0;var f=r.return;try{if(TS(n,f,r,s,zt)){de=1,wc(n,Mn(s,n.current)),Mt=null;return}}catch(d){if(f!==null)throw Mt=f,d;de=1,wc(n,Mn(s,n.current)),Mt=null;return}r.flags&32768?(Ft||l===1?n=!0:Hs||(zt&536870912)!==0?n=!1:(Ir=n=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),yv(r,n)):Pc(r)}function Pc(n){var r=n;do{if((r.flags&32768)!==0){yv(r,Ir);return}n=r.return;var s=bS(r.alternate,r,Ki);if(s!==null){Mt=s;return}if(r=r.sibling,r!==null){Mt=r;return}Mt=r=n}while(r!==null);de===0&&(de=5)}function yv(n,r){do{var s=AS(n.alternate,n);if(s!==null){s.flags&=32767,Mt=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(n=n.sibling,n!==null)){Mt=n;return}Mt=n=s}while(n!==null);de=6,Mt=null}function _v(n,r,s,l,f,d,v,E,I){n.cancelPendingCommit=null;do kc();while(Fe!==0);if((Kt&6)!==0)throw Error(a(327));if(r!==null){if(r===n.current)throw Error(a(177));if(d=r.lanes|r.childLanes,d|=Bh,Lo(n,s,d,v,E,I),n===ie&&(Mt=ie=null,zt=0),Ys=r,Or=n,Qs=s,Yd=d,Qd=f,lv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,kS(da,function(){return Av(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,f=it.p,it.p=2,v=Kt,Kt|=4;try{SS(n,r,s)}finally{Kt=v,it.p=f,H.T=l}}Fe=1,vv(),Tv(),Ev()}}function vv(){if(Fe===1){Fe=0;var n=Or,r=Ys,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var l=it.p;it.p=2;var f=Kt;Kt|=4;try{ev(r,n);var d=um,v=oy(n.containerInfo),E=d.focusedElem,I=d.selectionRange;if(v!==E&&E&&E.ownerDocument&&sy(E.ownerDocument.documentElement,E)){if(I!==null&&Vh(E)){var L=I.start,G=I.end;if(G===void 0&&(G=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(G,E.value.length);else{var K=E.ownerDocument||document,j=K&&K.defaultView||window;if(j.getSelection){var B=j.getSelection(),Tt=E.textContent.length,yt=Math.min(I.start,Tt),te=I.end===void 0?yt:Math.min(I.end,Tt);!B.extend&&yt>te&&(v=te,te=yt,yt=v);var k=ay(E,yt),M=ay(E,te);if(k&&M&&(B.rangeCount!==1||B.anchorNode!==k.node||B.anchorOffset!==k.offset||B.focusNode!==M.node||B.focusOffset!==M.offset)){var U=K.createRange();U.setStart(k.node,k.offset),B.removeAllRanges(),yt>te?(B.addRange(U),B.extend(M.node,M.offset)):(U.setEnd(M.node,M.offset),B.addRange(U))}}}}for(K=[],B=E;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Qc=!!lm,um=lm=null}finally{Kt=f,it.p=l,H.T=s}}n.current=r,Fe=2}}function Tv(){if(Fe===2){Fe=0;var n=Or,r=Ys,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var l=it.p;it.p=2;var f=Kt;Kt|=4;try{$_(n,r.alternate,r)}finally{Kt=f,it.p=l,H.T=s}}Fe=3}}function Ev(){if(Fe===4||Fe===3){Fe=0,Ou();var n=Or,r=Ys,s=Qs,l=lv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Fe=5:(Fe=0,Ys=Or=null,bv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Dr=null),hs(s),r=r.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(fe,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=H.T,f=it.p,it.p=2,H.T=null;try{for(var d=n.onRecoverableError,v=0;v<l.length;v++){var E=l[v];d(E.value,{componentStack:E.stack})}}finally{H.T=r,it.p=f}}(Qs&3)!==0&&kc(),mi(n),f=n.pendingLanes,(s&4194090)!==0&&(f&42)!==0?n===Kd?Il++:(Il=0,Kd=n):Il=0,Cl(0)}}function bv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,ol(r)))}function kc(n){return vv(),Tv(),Ev(),Av()}function Av(){if(Fe!==5)return!1;var n=Or,r=Yd;Yd=0;var s=hs(Qs),l=H.T,f=it.p;try{it.p=32>s?32:s,H.T=null,s=Qd,Qd=null;var d=Or,v=Qs;if(Fe=0,Ys=Or=null,Qs=0,(Kt&6)!==0)throw Error(a(331));var E=Kt;if(Kt|=4,sv(d.current),iv(d,d.current,v,s),Kt=E,Cl(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(fe,d)}catch{}return!0}finally{it.p=f,H.T=l,bv(n,r)}}function Sv(n,r,s){r=Mn(s,r),r=Rd(n.stateNode,r,2),n=Tr(n,r,2),n!==null&&(Ri(n,2),mi(n))}function ee(n,r,s){if(n.tag===3)Sv(n,n,s);else for(;r!==null;){if(r.tag===3){Sv(r,n,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Dr===null||!Dr.has(l))){n=Mn(s,n),s=C_(2),l=Tr(r,s,2),l!==null&&(D_(s,l,r,n),Ri(l,2),mi(l));break}}r=r.return}}function Zd(n,r,s){var l=n.pingCache;if(l===null){l=n.pingCache=new IS;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(s)||(qd=!0,f.add(s),n=MS.bind(null,n,r,s),r.then(n,n))}function MS(n,r,s){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,ie===n&&(zt&s)===s&&(de===4||de===3&&(zt&62914560)===zt&&300>Rn()-Gd?(Kt&2)===0&&Ks(n,0):Fd|=s,Gs===zt&&(Gs=0)),mi(n)}function wv(n,r){r===0&&(r=Uo()),n=Os(n,r),n!==null&&(Ri(n,r),mi(n))}function xS(n){var r=n.memoizedState,s=0;r!==null&&(s=r.retryLane),wv(n,s)}function PS(n,r){var s=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(r),wv(n,s)}function kS(n,r){return fa(n,r)}var Vc=null,Ws=null,Jd=!1,Uc=!1,tm=!1,Ya=0;function mi(n){n!==Ws&&n.next===null&&(Ws===null?Vc=Ws=n:Ws=Ws.next=n),Uc=!0,Jd||(Jd=!0,US())}function Cl(n,r){if(!tm&&Uc){tm=!0;do for(var s=!1,l=Vc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-Ke(42|n)+1)-1,d&=f&~(v&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Dv(l,d))}else d=zt,d=fs(l,l===ie?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ya(l,d)||(s=!0,Dv(l,d));l=l.next}while(s);tm=!1}}function VS(){Rv()}function Rv(){Uc=Jd=!1;var n=0;Ya!==0&&(GS()&&(n=Ya),Ya=0);for(var r=Rn(),s=null,l=Vc;l!==null;){var f=l.next,d=Iv(l,r);d===0?(l.next=null,s===null?Vc=f:s.next=f,f===null&&(Ws=s)):(s=l,(n!==0||(d&3)!==0)&&(Uc=!0)),l=f}Cl(n)}function Iv(n,r){for(var s=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var v=31-Ke(d),E=1<<v,I=f[v];I===-1?((E&s)===0||(E&l)!==0)&&(f[v]=ko(E,r)):I<=r&&(n.expiredLanes|=E),d&=~E}if(r=ie,s=zt,s=fs(n,n===r?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,s===0||n===r&&(Xt===2||Xt===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ha(l),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||ya(n,s)){if(r=s&-s,r===n.callbackPriority)return r;switch(l!==null&&ha(l),hs(s)){case 2:case 8:s=us;break;case 32:s=da;break;case 268435456:s=cs;break;default:s=da}return l=Cv.bind(null,n),s=fa(s,l),n.callbackPriority=r,n.callbackNode=s,r}return l!==null&&l!==null&&ha(l),n.callbackPriority=2,n.callbackNode=null,2}function Cv(n,r){if(Fe!==0&&Fe!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(kc()&&n.callbackNode!==s)return null;var l=zt;return l=fs(n,n===ie?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(cv(n,l,r),Iv(n,Rn()),n.callbackNode!=null&&n.callbackNode===s?Cv.bind(null,n):null)}function Dv(n,r){if(kc())return null;cv(n,r,!0)}function US(){QS(function(){(Kt&6)!==0?fa(xo,VS):Rv()})}function em(){return Ya===0&&(Ya=Vo()),Ya}function Ov(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:_s(""+n)}function Nv(n,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,n.id&&s.setAttribute("form",n.id),r.parentNode.insertBefore(s,r),n=new FormData(n),s.parentNode.removeChild(s),n}function LS(n,r,s,l,f){if(r==="submit"&&s&&s.stateNode===f){var d=Ov((f[_e]||null).action),v=l.submitter;v&&(r=(r=v[_e]||null)?Ov(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var E=new vs("action","action",null,l,f);n.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ya!==0){var I=v?Nv(f,v):new FormData(f);Ed(s,{pending:!0,data:I,method:f.method,action:d},null,I)}}else typeof d=="function"&&(E.preventDefault(),I=v?Nv(f,v):new FormData(f),Ed(s,{pending:!0,data:I,method:f.method,action:d},d,I))},currentTarget:f}]})}}for(var nm=0;nm<jh.length;nm++){var im=jh[nm],zS=im.toLowerCase(),jS=im[0].toUpperCase()+im.slice(1);Fn(zS,"on"+jS)}Fn(cy,"onAnimationEnd"),Fn(fy,"onAnimationIteration"),Fn(hy,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(iS,"onTransitionRun"),Fn(rS,"onTransitionStart"),Fn(aS,"onTransitionCancel"),Fn(dy,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function Mv(n,r){r=(r&4)!==0;for(var s=0;s<n.length;s++){var l=n[s],f=l.event;l=l.listeners;t:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var E=l[v],I=E.instance,L=E.currentTarget;if(E=E.listener,I!==d&&f.isPropagationStopped())break t;d=E,f.currentTarget=L;try{d(f)}catch(G){Sc(G)}f.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(E=l[v],I=E.instance,L=E.currentTarget,E=E.listener,I!==d&&f.isPropagationStopped())break t;d=E,f.currentTarget=L;try{d(f)}catch(G){Sc(G)}f.currentTarget=null,d=I}}}}function xt(n,r){var s=r[jo];s===void 0&&(s=r[jo]=new Set);var l=n+"__bubble";s.has(l)||(xv(r,n,2,!1),s.add(l))}function rm(n,r,s){var l=0;r&&(l|=4),xv(s,n,l,r)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function am(n){if(!n[Lc]){n[Lc]=!0,Bo.forEach(function(s){s!=="selectionchange"&&(BS.has(s)||rm(s,!1,n),rm(s,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Lc]||(r[Lc]=!0,rm("selectionchange",!1,r))}}function xv(n,r,s,l){switch(i0(r)){case 2:var f=mw;break;case 8:f=gw;break;default:f=vm}s=f.bind(null,r,s,n),f=void 0,!On||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,s,{capture:!0,passive:f}):n.addEventListener(r,s,!0):f!==void 0?n.addEventListener(r,s,{passive:f}):n.addEventListener(r,s,!1)}function sm(n,r,s,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===f)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;E!==null;){if(v=Ii(E),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue t}E=E.parentNode}}l=l.return}ju(function(){var L=d,G=Dn(s),K=[];t:{var j=my.get(n);if(j!==void 0){var B=vs,Tt=n;switch(n){case"keypress":if(ai(s)===0)break t;case"keydown":case"keyup":B=ws;break;case"focusin":Tt="focus",B=bs;break;case"focusout":Tt="blur",B=bs;break;case"beforeblur":case"afterblur":B=bs;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Mh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Ku;break;case cy:case fy:case hy:B=As;break;case dy:B=Wu;break;case"scroll":case"scrollend":B=Bu;break;case"wheel":B=Rs;break;case"copy":case"cut":case"paste":B=Ss;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Jo;break;case"toggle":case"beforetoggle":B=Zu}var yt=(r&4)!==0,te=!yt&&(n==="scroll"||n==="scrollend"),k=yt?j!==null?j+"Capture":null:j;yt=[];for(var M=L,U;M!==null;){var Q=M;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||k===null||(Q=wa(M,k),Q!=null&&yt.push(Ol(M,Q,U))),te)break;M=M.return}0<yt.length&&(j=new B(j,Tt,null,s,G),K.push({event:j,listeners:yt}))}}if((r&7)===0){t:{if(j=n==="mouseover"||n==="pointerover",B=n==="mouseout"||n==="pointerout",j&&s!==Ni&&(Tt=s.relatedTarget||s.fromElement)&&(Ii(Tt)||Tt[In]))break t;if((B||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,B?(Tt=s.relatedTarget||s.toElement,B=L,Tt=Tt?Ii(Tt):null,Tt!==null&&(te=u(Tt),yt=Tt.tag,Tt!==te||yt!==5&&yt!==27&&yt!==6)&&(Tt=null)):(B=null,Tt=L),B!==Tt)){if(yt=Nn,Q="onMouseLeave",k="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(yt=Jo,Q="onPointerLeave",k="onPointerEnter",M="pointer"),te=B==null?j:ei(B),U=Tt==null?j:ei(Tt),j=new yt(Q,M+"leave",B,s,G),j.target=te,j.relatedTarget=U,Q=null,Ii(G)===L&&(yt=new yt(k,M+"enter",Tt,s,G),yt.target=U,yt.relatedTarget=te,Q=yt),te=Q,B&&Tt)e:{for(yt=B,k=Tt,M=0,U=yt;U;U=$s(U))M++;for(U=0,Q=k;Q;Q=$s(Q))U++;for(;0<M-U;)yt=$s(yt),M--;for(;0<U-M;)k=$s(k),U--;for(;M--;){if(yt===k||k!==null&&yt===k.alternate)break e;yt=$s(yt),k=$s(k)}yt=null}else yt=null;B!==null&&Pv(K,j,B,yt,!1),Tt!==null&&te!==null&&Pv(K,te,Tt,yt,!0)}}t:{if(j=L?ei(L):window,B=j.nodeName&&j.nodeName.toLowerCase(),B==="select"||B==="input"&&j.type==="file")var ut=Jp;else if(Re(j))if(ty)ut=tS;else{ut=Z1;var Nt=$1}else B=j.nodeName,!B||B.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?L&&Yo(L.elementType)&&(ut=Jp):ut=J1;if(ut&&(ut=ut(n,L))){Vi(K,ut,s,G);break t}Nt&&Nt(n,j,L),n==="focusout"&&L&&j.type==="number"&&L.memoizedProps.value!=null&&gr(j,"number",j.value)}switch(Nt=L?ei(L):window,n){case"focusin":(Re(Nt)||Nt.contentEditable==="true")&&(Is=Nt,Uh=L,nl=null);break;case"focusout":nl=Uh=Is=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,ly(K,s,G);break;case"selectionchange":if(nS)break;case"keydown":case"keyup":ly(K,s,G)}var dt;if(li)t:{switch(n){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Ut?q(n,s)&&(_t="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(_t="onCompositionStart");_t&&(_&&s.locale!=="ko"&&(Ut||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Ut&&(dt=Ko()):(ri=G,pr="value"in ri?ri.value:ri.textContent,Ut=!0)),Nt=zc(L,_t),0<Nt.length&&(_t=new $o(_t,n,null,s,G),K.push({event:_t,listeners:Nt}),dt?_t.data=dt:(dt=nt(s),dt!==null&&(_t.data=dt)))),(dt=g?we(n,s):Lt(n,s))&&(_t=zc(L,"onBeforeInput"),0<_t.length&&(Nt=new $o("onBeforeInput","beforeinput",null,s,G),K.push({event:Nt,listeners:_t}),Nt.data=dt)),LS(K,n,L,s,G)}Mv(K,r)})}function Ol(n,r,s){return{instance:n,listener:r,currentTarget:s}}function zc(n,r){for(var s=r+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=wa(n,s),f!=null&&l.unshift(Ol(n,f,d)),f=wa(n,r),f!=null&&l.push(Ol(n,f,d))),n.tag===3)return l;n=n.return}return[]}function $s(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Pv(n,r,s,l,f){for(var d=r._reactName,v=[];s!==null&&s!==l;){var E=s,I=E.alternate,L=E.stateNode;if(E=E.tag,I!==null&&I===l)break;E!==5&&E!==26&&E!==27||L===null||(I=L,f?(L=wa(s,d),L!=null&&v.unshift(Ol(s,L,I))):f||(L=wa(s,d),L!=null&&v.push(Ol(s,L,I)))),s=s.return}v.length!==0&&n.push({event:r,listeners:v})}var qS=/\r\n?/g,FS=/\u0000|\uFFFD/g;function kv(n){return(typeof n=="string"?n:""+n).replace(qS,`
`).replace(FS,"")}function Vv(n,r){return r=kv(r),kv(n)===r}function jc(){}function Jt(n,r,s,l,f,d){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Cn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Cn(n,""+l);break;case"className":ni(n,"class",l);break;case"tabIndex":ni(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ni(n,s,l);break;case"style":Go(n,l,d);break;case"data":if(r!=="object"){ni(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){n.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=_s(""+l),n.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(r!=="input"&&Jt(n,r,"name",f.name,f,null),Jt(n,r,"formEncType",f.formEncType,f,null),Jt(n,r,"formMethod",f.formMethod,f,null),Jt(n,r,"formTarget",f.formTarget,f,null)):(Jt(n,r,"encType",f.encType,f,null),Jt(n,r,"method",f.method,f,null),Jt(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=_s(""+l),n.setAttribute(s,l);break;case"onClick":l!=null&&(n.onclick=jc);break;case"onScroll":l!=null&&xt("scroll",n);break;case"onScrollEnd":l!=null&&xt("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}s=_s(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""+l):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":l===!0?n.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,l):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(s,l):n.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(s):n.setAttribute(s,l);break;case"popover":xt("beforetoggle",n),xt("toggle",n),mr(n,"popover",l);break;case"xlinkActuate":je(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":je(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":je(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":je(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":je(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":je(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":je(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":je(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":je(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":mr(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Oh.get(s)||s,mr(n,s,l))}}function om(n,r,s,l,f,d){switch(s){case"style":Go(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"children":typeof l=="string"?Cn(n,l):(typeof l=="number"||typeof l=="bigint")&&Cn(n,""+l);break;case"onScroll":l!=null&&xt("scroll",n);break;case"onScrollEnd":l!=null&&xt("scrollend",n);break;case"onClick":l!=null&&(n.onclick=jc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ds.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),r=s.slice(2,f?s.length-7:void 0),d=n[_e]||null,d=d!=null?d[s]:null,typeof d=="function"&&n.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(r,l,f);break t}s in n?n[s]=l:l===!0?n.setAttribute(s,""):mr(n,s,l)}}}function He(n,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",n),xt("load",n);var l=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var v=s[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Jt(n,r,d,v,s,null)}}f&&Jt(n,r,"srcSet",s.srcSet,s,null),l&&Jt(n,r,"src",s.src,s,null);return;case"input":xt("invalid",n);var E=d=v=f=null,I=null,L=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":f=G;break;case"type":v=G;break;case"checked":I=G;break;case"defaultChecked":L=G;break;case"value":d=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,r));break;default:Jt(n,r,l,G,s,null)}}ba(n,d,E,I,L,v,f,!1),ys(n);return;case"select":xt("invalid",n),l=v=d=null;for(f in s)if(s.hasOwnProperty(f)&&(E=s[f],E!=null))switch(f){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Jt(n,r,f,E,s,null)}r=d,s=v,n.multiple=!!l,r!=null?Oi(n,!!l,r,!1):s!=null&&Oi(n,!!l,s,!0);return;case"textarea":xt("invalid",n),d=f=l=null;for(v in s)if(s.hasOwnProperty(v)&&(E=s[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":f=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Jt(n,r,v,E,s,null)}Aa(n,l,f,d),ys(n);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(l=s[I],l!=null))switch(I){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Jt(n,r,I,l,s,null)}return;case"dialog":xt("beforetoggle",n),xt("toggle",n),xt("cancel",n),xt("close",n);break;case"iframe":case"object":xt("load",n);break;case"video":case"audio":for(l=0;l<Dl.length;l++)xt(Dl[l],n);break;case"image":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"embed":case"source":case"link":xt("error",n),xt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in s)if(s.hasOwnProperty(L)&&(l=s[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Jt(n,r,L,l,s,null)}return;default:if(Yo(r)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&om(n,r,G,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Jt(n,r,E,l,s,null))}function HS(n,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,E=null,I=null,L=null,G=null;for(B in s){var K=s[B];if(s.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":I=K;default:l.hasOwnProperty(B)||Jt(n,r,B,null,l,K)}}for(var j in l){var B=l[j];if(K=s[j],l.hasOwnProperty(j)&&(B!=null||K!=null))switch(j){case"type":d=B;break;case"name":f=B;break;case"checked":L=B;break;case"defaultChecked":G=B;break;case"value":v=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,r));break;default:B!==K&&Jt(n,r,j,B,l,K)}}gn(n,v,E,I,L,G,d,f);return;case"select":B=v=E=j=null;for(d in s)if(I=s[d],s.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":B=I;default:l.hasOwnProperty(d)||Jt(n,r,d,null,l,I)}for(f in l)if(d=l[f],I=s[f],l.hasOwnProperty(f)&&(d!=null||I!=null))switch(f){case"value":j=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==I&&Jt(n,r,f,d,l,I)}r=E,s=v,l=B,j!=null?Oi(n,!!s,j,!1):!!l!=!!s&&(r!=null?Oi(n,!!s,r,!0):Oi(n,!!s,s?[]:"",!1));return;case"textarea":B=j=null;for(E in s)if(f=s[E],s.hasOwnProperty(E)&&f!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(n,r,E,null,l,f)}for(v in l)if(f=l[v],d=s[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":j=f;break;case"defaultValue":B=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==d&&Jt(n,r,v,f,l,d)}$t(n,j,B);return;case"option":for(var Tt in s)if(j=s[Tt],s.hasOwnProperty(Tt)&&j!=null&&!l.hasOwnProperty(Tt))switch(Tt){case"selected":n.selected=!1;break;default:Jt(n,r,Tt,null,l,j)}for(I in l)if(j=l[I],B=s[I],l.hasOwnProperty(I)&&j!==B&&(j!=null||B!=null))switch(I){case"selected":n.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Jt(n,r,I,j,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in s)j=s[yt],s.hasOwnProperty(yt)&&j!=null&&!l.hasOwnProperty(yt)&&Jt(n,r,yt,null,l,j);for(L in l)if(j=l[L],B=s[L],l.hasOwnProperty(L)&&j!==B&&(j!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,r));break;default:Jt(n,r,L,j,l,B)}return;default:if(Yo(r)){for(var te in s)j=s[te],s.hasOwnProperty(te)&&j!==void 0&&!l.hasOwnProperty(te)&&om(n,r,te,void 0,l,j);for(G in l)j=l[G],B=s[G],!l.hasOwnProperty(G)||j===B||j===void 0&&B===void 0||om(n,r,G,j,l,B);return}}for(var k in s)j=s[k],s.hasOwnProperty(k)&&j!=null&&!l.hasOwnProperty(k)&&Jt(n,r,k,null,l,j);for(K in l)j=l[K],B=s[K],!l.hasOwnProperty(K)||j===B||j==null&&B==null||Jt(n,r,K,j,l,B)}var lm=null,um=null;function Bc(n){return n.nodeType===9?n:n.ownerDocument}function Uv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function cm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var fm=null;function GS(){var n=window.event;return n&&n.type==="popstate"?n===fm?!1:(fm=n,!0):(fm=null,!1)}var zv=typeof setTimeout=="function"?setTimeout:void 0,YS=typeof clearTimeout=="function"?clearTimeout:void 0,jv=typeof Promise=="function"?Promise:void 0,QS=typeof queueMicrotask=="function"?queueMicrotask:typeof jv<"u"?function(n){return jv.resolve(null).then(n).catch(KS)}:zv;function KS(n){setTimeout(function(){throw n})}function Mr(n){return n==="head"}function Bv(n,r){var s=r,l=0,f=0;do{var d=s.nextSibling;if(n.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var v=n.ownerDocument;if(s&1&&Nl(v.documentElement),s&2&&Nl(v.body),s&4)for(s=v.head,Nl(s),v=s.firstChild;v;){var E=v.nextSibling,I=v.nodeName;v[_a]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||s.removeChild(v),v=E}}if(f===0){n.removeChild(d),zl(r);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);zl(r)}function hm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":hm(s),dr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function XS(n,r,s,l){for(;n.nodeType===1;){var f=s;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[_a])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Gn(n.nextSibling),n===null)break}return null}function WS(n,r,s){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Gn(n.nextSibling),n===null))return null;return n}function dm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function $S(n,r){var s=n.ownerDocument;if(n.data!=="$?"||s.readyState==="complete")r();else{var l=function(){r(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Gn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var mm=null;function qv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return n;r--}else s==="/$"&&r++}n=n.previousSibling}return null}function Fv(n,r,s){switch(r=Bc(s),n){case"html":if(n=r.documentElement,!n)throw Error(a(452));return n;case"head":if(n=r.head,!n)throw Error(a(453));return n;case"body":if(n=r.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Nl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);dr(n)}var Ln=new Map,Hv=new Set;function qc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Xi=it.d;it.d={f:ZS,r:JS,D:tw,C:ew,L:nw,m:iw,X:aw,S:rw,M:sw};function ZS(){var n=Xi.f(),r=xc();return n||r}function JS(n){var r=ti(n);r!==null&&r.tag===5&&r.type==="form"?c_(r):Xi.r(n)}var Zs=typeof document>"u"?null:document;function Gv(n,r,s){var l=Zs;if(l&&typeof r=="string"&&r){var f=ve(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),Hv.has(f)||(Hv.add(f),n={rel:n,crossOrigin:s,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),He(r,"link",n),me(r),l.head.appendChild(r)))}}function tw(n){Xi.D(n),Gv("dns-prefetch",n,null)}function ew(n,r){Xi.C(n,r),Gv("preconnect",n,r)}function nw(n,r,s){Xi.L(n,r,s);var l=Zs;if(l&&n&&r){var f='link[rel="preload"][as="'+ve(r)+'"]';r==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+ve(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+ve(s.imageSizes)+'"]')):f+='[href="'+ve(n)+'"]';var d=f;switch(r){case"style":d=Js(n);break;case"script":d=to(n)}Ln.has(d)||(n=T({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:n,as:r},s),Ln.set(d,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(Ml(d))||r==="script"&&l.querySelector(xl(d))||(r=l.createElement("link"),He(r,"link",n),me(r),l.head.appendChild(r)))}}function iw(n,r){Xi.m(n,r);var s=Zs;if(s&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+ve(l)+'"][href="'+ve(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=to(n)}if(!Ln.has(d)&&(n=T({rel:"modulepreload",href:n},r),Ln.set(d,n),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(xl(d)))return}l=s.createElement("link"),He(l,"link",n),me(l),s.head.appendChild(l)}}}function rw(n,r,s){Xi.S(n,r,s);var l=Zs;if(l&&n){var f=nn(l).hoistableStyles,d=Js(n);r=r||"default";var v=f.get(d);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(Ml(d)))E.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":r},s),(s=Ln.get(d))&&gm(n,s);var I=v=l.createElement("link");me(I),He(I,"link",n),I._p=new Promise(function(L,G){I.onload=L,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Fc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:E},f.set(d,v)}}}function aw(n,r){Xi.X(n,r);var s=Zs;if(s&&n){var l=nn(s).hoistableScripts,f=to(n),d=l.get(f);d||(d=s.querySelector(xl(f)),d||(n=T({src:n,async:!0},r),(r=Ln.get(f))&&pm(n,r),d=s.createElement("script"),me(d),He(d,"link",n),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function sw(n,r){Xi.M(n,r);var s=Zs;if(s&&n){var l=nn(s).hoistableScripts,f=to(n),d=l.get(f);d||(d=s.querySelector(xl(f)),d||(n=T({src:n,async:!0,type:"module"},r),(r=Ln.get(f))&&pm(n,r),d=s.createElement("script"),me(d),He(d,"link",n),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Yv(n,r,s,l){var f=(f=At.current)?qc(f):null;if(!f)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=Js(s.href),s=nn(f).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=Js(s.href);var d=nn(f).hoistableStyles,v=d.get(n);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,v),(d=f.querySelector(Ml(n)))&&!d._p&&(v.instance=d,v.state.loading=5),Ln.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Ln.set(n,s),d||ow(f,n,s,v.state))),r&&l===null)throw Error(a(528,""));return v}if(r&&l!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=to(s),s=nn(f).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function Js(n){return'href="'+ve(n)+'"'}function Ml(n){return'link[rel="stylesheet"]['+n+"]"}function Qv(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function ow(n,r,s,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),He(r,"link",s),me(r),n.head.appendChild(r))}function to(n){return'[src="'+ve(n)+'"]'}function xl(n){return"script[async]"+n}function Kv(n,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+ve(s.href)+'"]');if(l)return r.instance=l,me(l),l;var f=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),me(l),He(l,"style",f),Fc(l,s.precedence,n),r.instance=l;case"stylesheet":f=Js(s.href);var d=n.querySelector(Ml(f));if(d)return r.state.loading|=4,r.instance=d,me(d),d;l=Qv(s),(f=Ln.get(f))&&gm(l,f),d=(n.ownerDocument||n).createElement("link"),me(d);var v=d;return v._p=new Promise(function(E,I){v.onload=E,v.onerror=I}),He(d,"link",l),r.state.loading|=4,Fc(d,s.precedence,n),r.instance=d;case"script":return d=to(s.src),(f=n.querySelector(xl(d)))?(r.instance=f,me(f),f):(l=s,(f=Ln.get(d))&&(l=T({},s),pm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),me(f),He(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Fc(l,s.precedence,n));return r.instance}function Fc(n,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===r)d=E;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(n,r.firstChild))}function gm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function pm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Hc=null;function Xv(n,r,s){if(Hc===null){var l=new Map,f=Hc=new Map;f.set(s,l)}else f=Hc,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(n))return l;for(l.set(n,null),s=s.getElementsByTagName(n),f=0;f<s.length;f++){var d=s[f];if(!(d[_a]||d[Se]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=n+v;var E=l.get(v);E?E.push(d):l.set(v,[d])}}return l}function Wv(n,r,s){n=n.ownerDocument||n,n.head.insertBefore(s,r==="title"?n.querySelector("head > title"):null)}function lw(n,r,s){if(s===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function $v(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Pl=null;function uw(){}function cw(n,r,s){if(Pl===null)throw Error(a(475));var l=Pl;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Js(s.href),d=n.querySelector(Ml(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Gc.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=d,me(d);return}d=n.ownerDocument||n,s=Qv(s),(f=Ln.get(f))&&gm(s,f),d=d.createElement("link"),me(d);var v=d;v._p=new Promise(function(E,I){v.onload=E,v.onerror=I}),He(d,"link",s),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Gc.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function fw(){if(Pl===null)throw Error(a(475));var n=Pl;return n.stylesheets&&n.count===0&&ym(n,n.stylesheets),0<n.count?function(r){var s=setTimeout(function(){if(n.stylesheets&&ym(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(s)}}:null}function Gc(){if(this.count--,this.count===0){if(this.stylesheets)ym(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Yc=null;function ym(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Yc=new Map,r.forEach(hw,n),Yc=null,Gc.call(n))}function hw(n,r){if(!(r.state.loading&4)){var s=Yc.get(n);if(s)var l=s.get(null);else{s=new Map,Yc.set(n,s);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),l=v)}l&&s.set(null,l)}f=r.instance,v=f.getAttribute("data-precedence"),d=s.get(v)||l,d===l&&s.set(null,f),s.set(v,f),this.count++,l=Gc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var kl={$$typeof:at,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function dw(n,r,s,l,f,d,v,E){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Zv(n,r,s,l,f,d,v,E,I,L,G,K){return n=new dw(n,r,s,v,E,I,L,K),r=1,d===!0&&(r|=24),d=yn(3,null,null,r),n.current=d,d.stateNode=n,r=Zh(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:r},nd(d),n}function Jv(n){return n?(n=Ns,n):Ns}function t0(n,r,s,l,f,d){f=Jv(f),l.context===null?l.context=f:l.pendingContext=f,l=vr(r),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Tr(n,l,r),s!==null&&(bn(s,n,r),fl(s,n,r))}function e0(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<r?s:r}}function _m(n,r){e0(n,r),(n=n.alternate)&&e0(n,r)}function n0(n){if(n.tag===13){var r=Os(n,67108864);r!==null&&bn(r,n,67108864),_m(n,67108864)}}var Qc=!0;function mw(n,r,s,l){var f=H.T;H.T=null;var d=it.p;try{it.p=2,vm(n,r,s,l)}finally{it.p=d,H.T=f}}function gw(n,r,s,l){var f=H.T;H.T=null;var d=it.p;try{it.p=8,vm(n,r,s,l)}finally{it.p=d,H.T=f}}function vm(n,r,s,l){if(Qc){var f=Tm(l);if(f===null)sm(n,r,l,Kc,s),r0(n,l);else if(yw(f,n,r,s,l))l.stopPropagation();else if(r0(n,l),r&4&&-1<pw.indexOf(n)){for(;f!==null;){var d=ti(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=jn(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var I=1<<31-Ke(v);E.entanglements[1]|=I,v&=~I}mi(d),(Kt&6)===0&&(Nc=Rn()+500,Cl(0))}}break;case 13:E=Os(d,2),E!==null&&bn(E,d,2),xc(),_m(d,2)}if(d=Tm(l),d===null&&sm(n,r,l,Kc,s),d===f)break;f=d}f!==null&&l.stopPropagation()}else sm(n,r,l,null,s)}}function Tm(n){return n=Dn(n),Em(n)}var Kc=null;function Em(n){if(Kc=null,n=Ii(n),n!==null){var r=u(n);if(r===null)n=null;else{var s=r.tag;if(s===13){if(n=h(r),n!==null)return n;n=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Kc=n,null}function i0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sh()){case xo:return 2;case us:return 8;case da:case wh:return 32;case cs:return 268435456;default:return 32}default:return 32}}var bm=!1,xr=null,Pr=null,kr=null,Vl=new Map,Ul=new Map,Vr=[],pw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function r0(n,r){switch(n){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":Vl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(r.pointerId)}}function Ll(n,r,s,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=ti(r),r!==null&&n0(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function yw(n,r,s,l,f){switch(r){case"focusin":return xr=Ll(xr,n,r,s,l,f),!0;case"dragenter":return Pr=Ll(Pr,n,r,s,l,f),!0;case"mouseover":return kr=Ll(kr,n,r,s,l,f),!0;case"pointerover":var d=f.pointerId;return Vl.set(d,Ll(Vl.get(d)||null,n,r,s,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ul.set(d,Ll(Ul.get(d)||null,n,r,s,l,f)),!0}return!1}function a0(n){var r=Ii(n.target);if(r!==null){var s=u(r);if(s!==null){if(r=s.tag,r===13){if(r=h(s),r!==null){n.blockedOn=r,xu(n.priority,function(){if(s.tag===13){var l=En();l=cr(l);var f=Os(s,l);f!==null&&bn(f,s,l),_m(s,l)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Xc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var s=Tm(n.nativeEvent);if(s===null){s=n.nativeEvent;var l=new s.constructor(s.type,s);Ni=l,s.target.dispatchEvent(l),Ni=null}else return r=ti(s),r!==null&&n0(r),n.blockedOn=s,!1;r.shift()}return!0}function s0(n,r,s){Xc(n)&&s.delete(r)}function _w(){bm=!1,xr!==null&&Xc(xr)&&(xr=null),Pr!==null&&Xc(Pr)&&(Pr=null),kr!==null&&Xc(kr)&&(kr=null),Vl.forEach(s0),Ul.forEach(s0)}function Wc(n,r){n.blockedOn===r&&(n.blockedOn=null,bm||(bm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,_w)))}var $c=null;function o0(n){$c!==n&&($c=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){$c===n&&($c=null);for(var r=0;r<n.length;r+=3){var s=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(Em(l||s)===null)continue;break}var d=ti(s);d!==null&&(n.splice(r,3),r-=3,Ed(d,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function zl(n){function r(I){return Wc(I,n)}xr!==null&&Wc(xr,n),Pr!==null&&Wc(Pr,n),kr!==null&&Wc(kr,n),Vl.forEach(r),Ul.forEach(r);for(var s=0;s<Vr.length;s++){var l=Vr[s];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Vr.length&&(s=Vr[0],s.blockedOn===null);)a0(s),s.blockedOn===null&&Vr.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],d=s[l+1],v=f[_e]||null;if(typeof d=="function")v||o0(s);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[_e]||null)E=v.formAction;else if(Em(f)!==null)continue}else E=v.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),o0(s)}}}function Am(n){this._internalRoot=n}Zc.prototype.render=Am.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,l=En();t0(s,l,n,r,null,null)},Zc.prototype.unmount=Am.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;t0(n.current,2,null,n,null,null),xc(),r[In]=null}};function Zc(n){this._internalRoot=n}Zc.prototype.unstable_scheduleHydration=function(n){if(n){var r=fr();n={blockedOn:null,target:n,priority:r};for(var s=0;s<Vr.length&&r!==0&&r<Vr[s].priority;s++);Vr.splice(s,0,n),s===0&&a0(n)}};var l0=t.version;if(l0!=="19.1.0")throw Error(a(527,l0,"19.1.0"));it.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=p(r),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var vw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{fe=Jc.inject(vw),Qt=Jc}catch{}}return Bl.createRoot=function(n,r){if(!o(n))throw Error(a(299));var s=!1,l="",f=S_,d=w_,v=R_,E=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(E=r.unstable_transitionCallbacks)),r=Zv(n,1,!1,null,null,s,l,f,d,v,E,null),n[In]=r.current,am(n),new Am(r)},Bl.hydrateRoot=function(n,r,s){if(!o(n))throw Error(a(299));var l=!1,f="",d=S_,v=w_,E=R_,I=null,L=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks),s.formState!==void 0&&(L=s.formState)),r=Zv(n,1,!0,r,s??null,l,f,d,v,E,I,L),r.context=Jv(null),s=r.current,l=En(),l=cr(l),f=vr(l),f.callback=null,Tr(s,f,l),s=l,r.current.lanes=s,Ri(r,s),mi(r),n[In]=r.current,am(n),new Zc(r)},Bl.version="19.1.0",Bl}var _0;function Dw(){if(_0)return wm.exports;_0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),wm.exports=Cw(),wm.exports}var Ow=Dw(),Ht=Kg();const Af=Qg(Ht);var zn=(i=>(i.ALL="all",i.ACTIVE="active",i.COMPLETED="completed",i))(zn||{});const Nw=()=>{};var v0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=function(i){const t=[];let e=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},Mw=function(i){const t=[];let e=0,a=0;for(;e<i.length;){const o=i[e++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[e++];t[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[e++],h=i[e++],m=i[e++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[a++]=String.fromCharCode(55296+(p>>10)),t[a++]=String.fromCharCode(56320+(p&1023))}else{const u=i[e++],h=i[e++];t[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},UE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,y=p?i[o+2]:0,T=u>>2,S=(u&3)<<4|m>>4;let R=(m&15)<<2|y>>6,z=y&63;p||(z=64,h||(R=64)),a.push(e[T],e[S],e[R],e[z])}return a.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(VE(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):Mw(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const u=e[i.charAt(o++)],m=o<i.length?e[i.charAt(o)]:0;++o;const y=o<i.length?e[i.charAt(o)]:64;++o;const S=o<i.length?e[i.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new xw;const R=u<<2|m>>4;if(a.push(R),y!==64){const z=m<<4&240|y>>2;if(a.push(z),S!==64){const F=y<<6&192|S;a.push(F)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class xw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pw=function(i){const t=VE(i);return UE.encodeByteArray(t,!0)},Sf=function(i){return Pw(i).replace(/\./g,"")},LE=function(i){try{return UE.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=()=>kw().__FIREBASE_DEFAULTS__,Uw=()=>{if(typeof process>"u"||typeof v0>"u")return;const i=v0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Lw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&LE(i[1]);return t&&JSON.parse(t)},Qf=()=>{try{return Nw()||Vw()||Uw()||Lw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},zE=i=>{var t,e;return(e=(t=Qf())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[i]},zw=i=>{const t=zE(i);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),a]:[t.substring(0,e),a]},jE=()=>{var i;return(i=Qf())===null||i===void 0?void 0:i.config},BE=i=>{var t;return(t=Qf())===null||t===void 0?void 0:t[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,a)=>{e?this.reject(e):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},a=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Sf(JSON.stringify(e)),Sf(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function Fw(){var i;const t=(i=Qf())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Hw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Gw(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Yw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qw(){const i=tn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function Kw(){return!Fw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xw(){try{return typeof indexedDB=="object"}catch{return!1}}function Ww(){return new Promise((i,t)=>{try{let e=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="FirebaseError";class sr extends Error{constructor(t,e,a){super(e),this.code=t,this.customData=a,this.name=$w,Object.setPrototypeOf(this,sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pu.prototype.create)}}class pu{constructor(t,e,a){this.service=t,this.serviceName=e,this.errors=a}create(t,...e){const a=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?Zw(u,a):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new sr(o,m,a)}}function Zw(i,t){return i.replace(Jw,(e,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const Jw=/\{\$([^}]+)}/g;function tR(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function ts(i,t){if(i===t)return!0;const e=Object.keys(i),a=Object.keys(t);for(const o of e){if(!a.includes(o))return!1;const u=i[o],h=t[o];if(T0(u)&&T0(h)){if(!ts(u,h))return!1}else if(u!==h)return!1}for(const o of a)if(!e.includes(o))return!1;return!0}function T0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(i){const t=[];for(const[e,a]of Object.entries(i))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function eR(i,t){const e=new nR(i,t);return e.subscribe.bind(e)}class nR{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,a){let o;if(t===void 0&&e===void 0&&a===void 0)throw new Error("Missing Observer.");iR(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:a},o.next===void 0&&(o.next=Om),o.error===void 0&&(o.error=Om),o.complete===void 0&&(o.complete=Om);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iR(i,t){if(typeof i!="object"||i===null)return!1;for(const e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function Om(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(i){return i&&i._delegate?i._delegate:i}class es{constructor(t,e,a){this.name=t,this.instanceFactory=e,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const a=new jw;if(this.instancesDeferred.set(e,a),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(sR(t))try{this.getOrInitializeService({instanceIdentifier:Qa})}catch{}for(const[e,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(t=Qa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Qa){return this.instances.has(t)}getOptions(t=Qa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:e});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&h.resolve(o)}return o}onInit(t,e){var a;const o=this.normalizeInstanceIdentifier(e),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(t),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&t(h,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,e){const a=this.onInitCallbacks.get(e);if(a)for(const o of a)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:aR(t),options:e}),this.instances.set(t,a),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Qa){return this.component?this.component.multipleInstances?t:Qa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aR(i){return i===Qa?void 0:i}function sR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new rR(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(kt||(kt={}));const lR={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},uR=kt.INFO,cR={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},fR=(i,t,...e)=>{if(t<i.logLevel)return;const a=new Date().toISOString(),o=cR[t];if(o)console[o](`[${a}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Xg{constructor(t){this.name=t,this._logLevel=uR,this._logHandler=fR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?lR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const hR=(i,t)=>t.some(e=>i instanceof e);let E0,b0;function dR(){return E0||(E0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mR(){return b0||(b0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qE=new WeakMap,eg=new WeakMap,FE=new WeakMap,Nm=new WeakMap,Wg=new WeakMap;function gR(i){const t=new Promise((e,a)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{e(Yr(i.result)),o()},h=()=>{a(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return t.then(e=>{e instanceof IDBCursor&&qE.set(e,i)}).catch(()=>{}),Wg.set(t,i),t}function pR(i){if(eg.has(i))return;const t=new Promise((e,a)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{e(),o()},h=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});eg.set(i,t)}let ng={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return eg.get(i);if(t==="objectStoreNames")return i.objectStoreNames||FE.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Yr(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function yR(i){ng=i(ng)}function _R(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const a=i.call(Mm(this),t,...e);return FE.set(a,t.sort?t.sort():[t]),Yr(a)}:mR().includes(i)?function(...t){return i.apply(Mm(this),t),Yr(qE.get(this))}:function(...t){return Yr(i.apply(Mm(this),t))}}function vR(i){return typeof i=="function"?_R(i):(i instanceof IDBTransaction&&pR(i),hR(i,dR())?new Proxy(i,ng):i)}function Yr(i){if(i instanceof IDBRequest)return gR(i);if(Nm.has(i))return Nm.get(i);const t=vR(i);return t!==i&&(Nm.set(i,t),Wg.set(t,i)),t}const Mm=i=>Wg.get(i);function TR(i,t,{blocked:e,upgrade:a,blocking:o,terminated:u}={}){const h=indexedDB.open(i,t),m=Yr(h);return a&&h.addEventListener("upgradeneeded",p=>{a(Yr(h.result),p.oldVersion,p.newVersion,Yr(h.transaction),p)}),e&&h.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const ER=["get","getKey","getAll","getAllKeys","count"],bR=["put","add","delete","clear"],xm=new Map;function A0(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(xm.get(t))return xm.get(t);const e=t.replace(/FromIndex$/,""),a=t!==e,o=bR.includes(e);if(!(e in(a?IDBIndex:IDBObjectStore).prototype)||!(o||ER.includes(e)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let y=p.store;return a&&(y=y.index(m.shift())),(await Promise.all([y[e](...m),o&&p.done]))[0]};return xm.set(t,u),u}yR(i=>({...i,get:(t,e,a)=>A0(t,e)||i.get(t,e,a),has:(t,e)=>!!A0(t,e)||i.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(SR(e)){const a=e.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(e=>e).join(" ")}}function SR(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ig="@firebase/app",S0="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new Xg("@firebase/app"),wR="@firebase/app-compat",RR="@firebase/analytics-compat",IR="@firebase/analytics",CR="@firebase/app-check-compat",DR="@firebase/app-check",OR="@firebase/auth",NR="@firebase/auth-compat",MR="@firebase/database",xR="@firebase/data-connect",PR="@firebase/database-compat",kR="@firebase/functions",VR="@firebase/functions-compat",UR="@firebase/installations",LR="@firebase/installations-compat",zR="@firebase/messaging",jR="@firebase/messaging-compat",BR="@firebase/performance",qR="@firebase/performance-compat",FR="@firebase/remote-config",HR="@firebase/remote-config-compat",GR="@firebase/storage",YR="@firebase/storage-compat",QR="@firebase/firestore",KR="@firebase/vertexai",XR="@firebase/firestore-compat",WR="firebase",$R="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="[DEFAULT]",ZR={[ig]:"fire-core",[wR]:"fire-core-compat",[IR]:"fire-analytics",[RR]:"fire-analytics-compat",[DR]:"fire-app-check",[CR]:"fire-app-check-compat",[OR]:"fire-auth",[NR]:"fire-auth-compat",[MR]:"fire-rtdb",[xR]:"fire-data-connect",[PR]:"fire-rtdb-compat",[kR]:"fire-fn",[VR]:"fire-fn-compat",[UR]:"fire-iid",[LR]:"fire-iid-compat",[zR]:"fire-fcm",[jR]:"fire-fcm-compat",[BR]:"fire-perf",[qR]:"fire-perf-compat",[FR]:"fire-rc",[HR]:"fire-rc-compat",[GR]:"fire-gcs",[YR]:"fire-gcs-compat",[QR]:"fire-fst",[XR]:"fire-fst-compat",[KR]:"fire-vertex","fire-js":"fire-js",[WR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf=new Map,JR=new Map,ag=new Map;function w0(i,t){try{i.container.addComponent(t)}catch(e){Ji.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function mo(i){const t=i.name;if(ag.has(t))return Ji.debug(`There were multiple attempts to register component ${t}.`),!1;ag.set(t,i);for(const e of wf.values())w0(e,i);for(const e of JR.values())w0(e,i);return!0}function $g(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function Qn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qr=new pu("app","Firebase",tI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(t,e,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=$R;function HE(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const a=Object.assign({name:rg,automaticDataCollectionEnabled:!1},t),o=a.name;if(typeof o!="string"||!o)throw Qr.create("bad-app-name",{appName:String(o)});if(e||(e=jE()),!e)throw Qr.create("no-options");const u=wf.get(o);if(u){if(ts(e,u.options)&&ts(a,u.config))return u;throw Qr.create("duplicate-app",{appName:o})}const h=new oR(o);for(const p of ag.values())h.addComponent(p);const m=new eI(e,a,h);return wf.set(o,m),m}function GE(i=rg){const t=wf.get(i);if(!t&&i===rg&&jE())return HE();if(!t)throw Qr.create("no-app",{appName:i});return t}function Kr(i,t,e){var a;let o=(a=ZR[i])!==null&&a!==void 0?a:i;e&&(o+=`-${e}`);const u=o.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ji.warn(m.join(" "));return}mo(new es(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="firebase-heartbeat-database",iI=1,iu="firebase-heartbeat-store";let Pm=null;function YE(){return Pm||(Pm=TR(nI,iI,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(iu)}catch(e){console.warn(e)}}}}).catch(i=>{throw Qr.create("idb-open",{originalErrorMessage:i.message})})),Pm}async function rI(i){try{const e=(await YE()).transaction(iu),a=await e.objectStore(iu).get(QE(i));return await e.done,a}catch(t){if(t instanceof sr)Ji.warn(t.message);else{const e=Qr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ji.warn(e.message)}}}async function R0(i,t){try{const a=(await YE()).transaction(iu,"readwrite");await a.objectStore(iu).put(t,QE(i)),await a.done}catch(e){if(e instanceof sr)Ji.warn(e.message);else{const a=Qr.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Ji.warn(a.message)}}}function QE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=1024,sI=30;class oI{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new uI(e),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,e;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=I0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>sI){const h=cI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Ji.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=I0(),{heartbeatsToSend:a,unsentEntries:o}=lI(this._heartbeatsCache.heartbeats),u=Sf(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return Ji.warn(e),""}}}function I0(){return new Date().toISOString().substring(0,10)}function lI(i,t=aI){const e=[];let a=i.slice();for(const o of i){const u=e.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),C0(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),C0(e)>t){e.pop();break}a=a.slice(1)}return{heartbeatsToSend:e,unsentEntries:a}}class uI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Xw()?Ww().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await rI(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const o=await this.read();return R0(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const o=await this.read();return R0(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function C0(i){return Sf(JSON.stringify({version:2,heartbeats:i})).length}function cI(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let a=1;a<i.length;a++)i[a].date<e&&(e=i[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(i){mo(new es("platform-logger",t=>new AR(t),"PRIVATE")),mo(new es("heartbeat",t=>new oI(t),"PRIVATE")),Kr(ig,S0,i),Kr(ig,S0,"esm2017"),Kr("fire-js","")}fI("");var hI="firebase",dI="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(hI,dI,"app");function Zg(i,t){var e={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(e[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(i);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(i,a[o])&&(e[a[o]]=i[a[o]]);return e}function KE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mI=KE,XE=new pu("auth","Firebase",KE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf=new Xg("@firebase/auth");function gI(i,...t){Rf.logLevel<=kt.WARN&&Rf.warn(`Auth (${So}): ${i}`,...t)}function cf(i,...t){Rf.logLevel<=kt.ERROR&&Rf.error(`Auth (${So}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(i,...t){throw tp(i,...t)}function Xn(i,...t){return tp(i,...t)}function Jg(i,t,e){const a=Object.assign(Object.assign({},mI()),{[t]:e});return new pu("auth","Firebase",a).create(t,{appName:i.name})}function Za(i){return Jg(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pI(i,t,e){const a=e;if(!(t instanceof a))throw a.name!==t.constructor.name&&bi(i,"argument-error"),Jg(i,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tp(i,...t){if(typeof i!="string"){const e=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(e,...a)}return XE.create(i,...t)}function bt(i,t,...e){if(!i)throw tp(t,...e)}function $i(i){const t="INTERNAL ASSERTION FAILED: "+i;throw cf(t),new Error(t)}function tr(i,t){i||$i(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function yI(){return D0()==="http:"||D0()==="https:"}function D0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yI()||Gw()||"connection"in navigator)?navigator.onLine:!0}function vI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(t,e){this.shortDelay=t,this.longDelay=e,tr(e>t,"Short delay should be less than long delay!"),this.isMobile=qw()||Yw()}get(){return _I()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(i,t){tr(i.emulator,"Emulator should always be set here");const{url:e}=i.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{static initialize(t,e,a){this.fetchImpl=t,e&&(this.headersImpl=e),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bI=new _u(3e4,6e4);function np(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}async function wo(i,t,e,a,o={}){return $E(i,o,async()=>{let u={},h={};a&&(t==="GET"?h=a:u={body:JSON.stringify(a)});const m=yu(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const y=Object.assign({method:t,headers:p},u);return Hw()||(y.referrerPolicy="no-referrer"),WE.fetch()(await ZE(i,i.config.apiHost,e,m),y)})}async function $E(i,t,e){i._canInitEmulator=!1;const a=Object.assign(Object.assign({},TI),t);try{const o=new SI(i),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw tf(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw tf(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw tf(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw tf(i,"user-disabled",h);const T=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Jg(i,T,y);bi(i,T)}}catch(o){if(o instanceof sr)throw o;bi(i,"network-request-failed",{message:String(o)})}}async function AI(i,t,e,a,o={}){const u=await wo(i,t,e,a,o);return"mfaPendingCredential"in u&&bi(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function ZE(i,t,e,a){const o=`${t}${e}?${a}`,u=i,h=u.config.emulator?ep(i.config,o):`${i.config.apiScheme}://${o}`;return EI.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class SI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,a)=>{this.timer=setTimeout(()=>a(Xn(this.auth,"network-request-failed")),bI.get())})}}function tf(i,t,e){const a={appName:i.name};e.email&&(a.email=e.email),e.phoneNumber&&(a.phoneNumber=e.phoneNumber);const o=Xn(i,t,a);return o.customData._tokenResponse=e,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(i,t){return wo(i,"POST","/v1/accounts:delete",t)}async function If(i,t){return wo(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function RI(i,t=!1){const e=Ne(i),a=await e.getIdToken(t),o=ip(a);bt(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:Wl(km(o.auth_time)),issuedAtTime:Wl(km(o.iat)),expirationTime:Wl(km(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function km(i){return Number(i)*1e3}function ip(i){const[t,e,a]=i.split(".");if(t===void 0||e===void 0||a===void 0)return cf("JWT malformed, contained fewer than 3 sections"),null;try{const o=LE(e);return o?JSON.parse(o):(cf("Failed to decode base64 JWT payload"),null)}catch(o){return cf("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function O0(i){const t=ip(i);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(i,t,e=!1){if(e)return t;try{return await t}catch(a){throw a instanceof sr&&II(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function II({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cf(i){var t;const e=i.auth,a=await i.getIdToken(),o=await ru(i,If(e,{idToken:a}));bt(o==null?void 0:o.users.length,e,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?JE(u.providerUserInfo):[],m=OI(i.providerData,h),p=i.isAnonymous,y=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),T=p?y:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new og(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(i,S)}async function DI(i){const t=Ne(i);await Cf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function OI(i,t){return[...i.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function JE(i){return i.map(t=>{var{providerId:e}=t,a=Zg(t,["providerId"]);return{providerId:e,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NI(i,t){const e=await $E(i,{},async()=>{const a=yu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await ZE(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",WE.fetch()(h,{method:"POST",headers:m,body:a})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function MI(i,t){return wo(i,"POST","/v2/accounts:revokeToken",np(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):O0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const e=O0(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:a,refreshToken:o,expiresIn:u}=await NI(t,e);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(t,e,a){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,e){const{refreshToken:a,accessToken:o,expirationTime:u}=e,h=new lo;return a&&(bt(typeof a=="string","internal-error",{appName:t}),h.refreshToken=a),o&&(bt(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),u&&(bt(typeof u=="number","internal-error",{appName:t}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(i,t){bt(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class Kn{constructor(t){var{uid:e,auth:a,stsTokenManager:o}=t,u=Zg(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new CI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new og(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const e=await ru(this,this.stsTokenManager.getToken(this.auth,t));return bt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return RI(this,t)}reload(){return DI(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Kn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),e&&await Cf(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(Za(this.auth));const t=await this.getIdToken();return await ru(this,wI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var a,o,u,h,m,p,y,T;const S=(a=e.displayName)!==null&&a!==void 0?a:void 0,R=(o=e.email)!==null&&o!==void 0?o:void 0,z=(u=e.phoneNumber)!==null&&u!==void 0?u:void 0,F=(h=e.photoURL)!==null&&h!==void 0?h:void 0,$=(m=e.tenantId)!==null&&m!==void 0?m:void 0,Y=(p=e._redirectEventId)!==null&&p!==void 0?p:void 0,ct=(y=e.createdAt)!==null&&y!==void 0?y:void 0,lt=(T=e.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:at,emailVerified:vt,isAnonymous:ft,providerData:It,stsTokenManager:x}=e;bt(at&&x,t,"internal-error");const A=lo.fromJSON(this.name,x);bt(typeof at=="string",t,"internal-error"),Lr(S,t.name),Lr(R,t.name),bt(typeof vt=="boolean",t,"internal-error"),bt(typeof ft=="boolean",t,"internal-error"),Lr(z,t.name),Lr(F,t.name),Lr($,t.name),Lr(Y,t.name),Lr(ct,t.name),Lr(lt,t.name);const w=new Kn({uid:at,auth:t,email:R,emailVerified:vt,displayName:S,isAnonymous:ft,photoURL:F,phoneNumber:z,tenantId:$,stsTokenManager:A,createdAt:ct,lastLoginAt:lt});return It&&Array.isArray(It)&&(w.providerData=It.map(C=>Object.assign({},C))),Y&&(w._redirectEventId=Y),w}static async _fromIdTokenResponse(t,e,a=!1){const o=new lo;o.updateFromServerResponse(e);const u=new Kn({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Cf(u),u}static async _fromGetAccountInfoResponse(t,e,a){const o=e.users[0];bt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?JE(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new lo;m.updateFromIdToken(a);const p=new Kn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new og(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=new Map;function Zi(i){tr(i instanceof Function,"Expected a class definition");let t=N0.get(i);return t?(tr(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,N0.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}tb.type="NONE";const M0=tb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(i,t,e){return`firebase:${i}:${t}:${e}`}class uo{constructor(t,e,a){this.persistence=t,this.auth=e,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=ff(this.userKey,o.apiKey,u),this.fullPersistenceKey=ff("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await If(this.auth,{idToken:t}).catch(()=>{});return e?Kn._fromGetAccountInfoResponse(this.auth,e,t):null}return Kn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,a="authUser"){if(!e.length)return new uo(Zi(M0),t,a);const o=(await Promise.all(e.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Zi(M0);const h=ff(a,t.config.apiKey,t.name);let m=null;for(const y of e)try{const T=await y._get(h);if(T){let S;if(typeof T=="string"){const R=await If(t,{idToken:T}).catch(()=>{});if(!R)break;S=await Kn._fromGetAccountInfoResponse(t,R,T)}else S=Kn._fromJSON(t,T);y!==u&&(m=S),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new uo(u,t,a):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(e.map(async y=>{if(y!==u)try{await y._remove(h)}catch{}})),new uo(u,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(rb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(eb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(sb(t))return"Blackberry";if(ob(t))return"Webos";if(nb(t))return"Safari";if((t.includes("chrome/")||ib(t))&&!t.includes("edge/"))return"Chrome";if(ab(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(e);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function eb(i=tn()){return/firefox\//i.test(i)}function nb(i=tn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ib(i=tn()){return/crios\//i.test(i)}function rb(i=tn()){return/iemobile/i.test(i)}function ab(i=tn()){return/android/i.test(i)}function sb(i=tn()){return/blackberry/i.test(i)}function ob(i=tn()){return/webos/i.test(i)}function rp(i=tn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function xI(i=tn()){var t;return rp(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function PI(){return Qw()&&document.documentMode===10}function lb(i=tn()){return rp(i)||ab(i)||ob(i)||sb(i)||/windows phone/i.test(i)||rb(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(i,t=[]){let e;switch(i){case"Browser":e=x0(tn());break;case"Worker":e=`${x0(tn())}-${i}`;break;default:e=i}const a=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${So}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const a=u=>new Promise((h,m)=>{try{const p=t(u);h(p)}catch(p){m(p)}});a.onAbort=e,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const a of this.queue)await a(t),a.onAbort&&e.push(a.onAbort)}catch(a){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VI(i,t={}){return wo(i,"GET","/v2/passwordPolicy",np(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=6;class LI{constructor(t){var e,a,o,u;const h=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=h.minPasswordLength)!==null&&e!==void 0?e:UI,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=t.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,a,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(e=p.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,e){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(e.meetsMinPasswordLength=t.length>=a),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,e,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(t,e,a,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new P0(this),this.idTokenSubscription=new P0(this),this.beforeStateQueue=new kI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Zi(e)),this._initializationPromise=this.queue(async()=>{var a,o,u;if(!this._deleted&&(this.persistenceManager=await uo.create(this,t),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await If(this,{idToken:t}),a=await Kn._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(a)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Qn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Cf(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=vI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Qn(this.app))return Promise.reject(Za(this));const e=t?Ne(t):null;return e&&bt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(Za(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Qn(this.app)?Promise.reject(Za(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await VI(this),e=new LI(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new pu("auth","Firebase",t())}onAuthStateChanged(t,e,a){return this.registerStateListener(this.authStateSubscription,t,e,a)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,a){return this.registerStateListener(this.idTokenSubscription,t,e,a)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(a.tenantId=this.tenantId),await MI(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const a=await this.getOrInitRedirectPersistenceManager(e);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Zi(t)||this._popupRedirectResolver;bt(e,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[Zi(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,a;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,a,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,a,o);return()=>{h=!0,p()}}else{const p=t.addObserver(e);return()=>{h=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ub(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const a=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());a&&(e["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(e["X-Firebase-AppCheck"]=o),e}async _getAppCheckToken(){var t;if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&gI(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Kf(i){return Ne(i)}class P0{constructor(t){this.auth=t,this.observer=null,this.addObserver=eR(e=>this.observer=e)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ap={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jI(i){ap=i}function BI(i){return ap.loadJS(i)}function qI(){return ap.gapiScript}function FI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(i,t){const e=$g(i,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(ts(u,t??{}))return o;bi(o,"already-initialized")}return e.initialize({options:t})}function GI(i,t){const e=(t==null?void 0:t.persistence)||[],a=(Array.isArray(e)?e:[e]).map(Zi);t!=null&&t.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function YI(i,t,e){const a=Kf(i);bt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,u=cb(t),{host:h,port:m}=QI(t),p=m===null?"":`:${m}`,y={url:`${u}//${h}${p}/`},T=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){bt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),bt(ts(y,a.config.emulator)&&ts(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,KI()}function cb(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function QI(i){const t=cb(i),e=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!e)return{host:"",port:null};const a=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:k0(a.substr(u.length+1))}}else{const[u,h]=a.split(":");return{host:u,port:k0(h)}}}function k0(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function KI(){function i(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return $i("not implemented")}_getIdTokenResponse(t){return $i("not implemented")}_linkToIdToken(t,e){return $i("not implemented")}_getReauthenticationResolver(t){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(i,t){return AI(i,"POST","/v1/accounts:signInWithIdp",np(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="http://localhost";class ns extends fb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new ns(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):bi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o}=e,u=Zg(e,["providerId","signInMethod"]);if(!a||!o)return null;const h=new ns(a,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(t){const e=this.buildRequest();return co(t,e)}_linkToIdToken(t,e){const a=this.buildRequest();return a.idToken=e,co(t,a)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,co(t,e)}buildRequest(){const t={requestUri:XI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=yu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends sp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends vu{constructor(){super("facebook.com")}static credential(t){return ns._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qr.credential(t.oauthAccessToken)}catch{return null}}}qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return ns._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Wi.credentialFromTaggedObject(t)}static credentialFromError(t){return Wi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:a}=t;if(!e&&!a)return null;try{return Wi.credential(e,a)}catch{return null}}}Wi.GOOGLE_SIGN_IN_METHOD="google.com";Wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends vu{constructor(){super("github.com")}static credential(t){return ns._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fr.credential(t.oauthAccessToken)}catch{return null}}}Fr.GITHUB_SIGN_IN_METHOD="github.com";Fr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends vu{constructor(){super("twitter.com")}static credential(t,e){return ns._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:a}=t;if(!e||!a)return null;try{return Hr.credential(e,a)}catch{return null}}}Hr.TWITTER_SIGN_IN_METHOD="twitter.com";Hr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,a,o=!1){const u=await Kn._fromIdTokenResponse(t,a,o),h=V0(a);return new go({user:u,providerId:h,_tokenResponse:a,operationType:e})}static async _forOperation(t,e,a){await t._updateTokensIfNecessary(a,!0);const o=V0(a);return new go({user:t,providerId:o,_tokenResponse:a,operationType:e})}}function V0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df extends sr{constructor(t,e,a,o){var u;super(e.code,e.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Df.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:e.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,e,a,o){return new Df(t,e,a,o)}}function hb(i,t,e,a){return(t==="reauthenticate"?e._getReauthenticationResolver(i):e._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Df._fromErrorAndOperation(i,u,t,a):u})}async function WI(i,t,e=!1){const a=await ru(i,t._linkToIdToken(i.auth,await i.getIdToken()),e);return go._forOperation(i,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $I(i,t,e=!1){const{auth:a}=i;if(Qn(a.app))return Promise.reject(Za(a));const o="reauthenticate";try{const u=await ru(i,hb(a,o,t,i),e);bt(u.idToken,a,"internal-error");const h=ip(u.idToken);bt(h,a,"internal-error");const{sub:m}=h;return bt(i.uid===m,a,"user-mismatch"),go._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&bi(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZI(i,t,e=!1){if(Qn(i.app))return Promise.reject(Za(i));const a="signIn",o=await hb(i,a,t),u=await go._fromIdTokenResponse(i,a,o);return e||await i._updateCurrentUser(u.user),u}function JI(i,t,e,a){return Ne(i).onIdTokenChanged(t,e,a)}function t2(i,t,e){return Ne(i).beforeAuthStateChanged(t,e)}function db(i,t,e,a){return Ne(i).onAuthStateChanged(t,e,a)}const Of="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Of,"1"),this.storage.removeItem(Of),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=1e3,n2=10;class gb extends mb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const a=this.storage.getItem(e),o=this.localCache[e];a!==o&&t(e,o,a)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const a=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(a);!e&&this.localCache[a]===h||this.notifyListeners(a,h)},u=this.storage.getItem(a);PI()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,n2):o()}notifyListeners(t,e){this.localCache[t]=e;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:a}),!0)})},e2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}gb.type="LOCAL";const i2=gb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb extends mb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}pb.type="SESSION";const yb=pb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const a=new Xf(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:a,eventType:o,data:u}=e.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;e.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(h).map(async y=>y(e.origin,u)),p=await r2(m);e.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(i="",t=10){let e="";for(let a=0;a<t;a++)e+=Math.floor(Math.random()*10);return i+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const y=op("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},a);h={messageChannel:o,onMessage(S){const R=S;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:y,data:e},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(){return window}function s2(i){vi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(){return typeof vi().WorkerGlobalScope<"u"&&typeof vi().importScripts=="function"}async function o2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function l2(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function u2(){return _b()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="firebaseLocalStorageDb",c2=1,Nf="firebaseLocalStorage",Tb="fbase_key";class Tu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Wf(i,t){return i.transaction([Nf],t?"readwrite":"readonly").objectStore(Nf)}function f2(){const i=indexedDB.deleteDatabase(vb);return new Tu(i).toPromise()}function lg(){const i=indexedDB.open(vb,c2);return new Promise((t,e)=>{i.addEventListener("error",()=>{e(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(Nf,{keyPath:Tb})}catch(o){e(o)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(Nf)?t(a):(a.close(),await f2(),t(await lg()))})})}async function U0(i,t,e){const a=Wf(i,!0).put({[Tb]:t,value:e});return new Tu(a).toPromise()}async function h2(i,t){const e=Wf(i,!1).get(t),a=await new Tu(e).toPromise();return a===void 0?null:a.value}function L0(i,t){const e=Wf(i,!0).delete(t);return new Tu(e).toPromise()}const d2=800,m2=3;class Eb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lg(),this.db)}async _withRetries(t){let e=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(e++>m2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _b()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xf._getInstance(u2()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await o2(),!this.activeServiceWorker)return;this.sender=new a2(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((t=a[0])===null||t===void 0)&&t.fulfilled&&!((e=a[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||l2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await lg();return await U0(t,Of,"1"),await L0(t,Of),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(a=>U0(a,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(a=>h2(a,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>L0(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Wf(o,!1).getAll();return new Tu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),d2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Eb.type="LOCAL";const g2=Eb;new _u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(i,t){return t?Zi(t):(bt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp extends fb{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return co(t,this._buildIdpRequest())}_linkToIdToken(t,e){return co(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return co(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function p2(i){return ZI(i.auth,new lp(i),i.bypassAuthState)}function y2(i){const{auth:t,user:e}=i;return bt(e,t,"internal-error"),$I(e,new lp(i),i.bypassAuthState)}async function _2(i){const{auth:t,user:e}=i;return bt(e,t,"internal-error"),WI(e,new lp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(t,e,a,o,u=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:a,postBody:o,tenantId:u,error:h,type:m}=t;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:e,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return p2;case"linkViaPopup":case"linkViaRedirect":return _2;case"reauthViaPopup":case"reauthViaRedirect":return y2;default:bi(this.auth,"internal-error")}}resolve(t){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=new _u(2e3,1e4);async function T2(i,t,e){if(Qn(i.app))return Promise.reject(Xn(i,"operation-not-supported-in-this-environment"));const a=Kf(i);pI(i,t,sp);const o=bb(a,e);return new Xa(a,"signInViaPopup",t,o).executeNotNull()}class Xa extends Ab{constructor(t,e,a,o,u){super(t,e,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){tr(this.filter.length===1,"Popup operations only handle one event");const t=op();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,a;if(!((a=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,v2.get())};t()}}Xa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="pendingRedirect",hf=new Map;class b2 extends Ab{constructor(t,e,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,a),this.eventId=null}async execute(){let t=hf.get(this.auth._key());if(!t){try{const a=await A2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(e){t=()=>Promise.reject(e)}hf.set(this.auth._key(),t)}return this.bypassAuthState||hf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function A2(i,t){const e=R2(t),a=w2(i);if(!await a._isAvailable())return!1;const o=await a._get(e)==="true";return await a._remove(e),o}function S2(i,t){hf.set(i._key(),t)}function w2(i){return Zi(i._redirectPersistence)}function R2(i){return ff(E2,i.config.apiKey,i.name)}async function I2(i,t,e=!1){if(Qn(i.app))return Promise.reject(Za(i));const a=Kf(i),o=bb(a,t),h=await new b2(a,o,e).execute();return h&&!e&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=10*60*1e3;class D2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(e=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!O2(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var a;if(t.error&&!Sb(t)){const o=((a=t.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";e.onError(Xn(this.auth,o))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const a=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=C2&&this.cachedEventUids.clear(),this.cachedEventUids.has(z0(t))}saveEventToCache(t){this.cachedEventUids.add(z0(t)),this.lastProcessedEventTime=Date.now()}}function z0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function Sb({type:i,error:t}){return i==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function O2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sb(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N2(i,t={}){return wo(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,x2=/^https?/;async function P2(i){if(i.config.emulator)return;const{authorizedDomains:t}=await N2(i);for(const e of t)try{if(k2(e))return}catch{}bi(i,"unauthorized-domain")}function k2(i){const t=sg(),{protocol:e,hostname:a}=new URL(t);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&a===""?e==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&h.hostname===a}if(!x2.test(e))return!1;if(M2.test(i))return a===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=new _u(3e4,6e4);function j0(){const i=vi().___jsl;if(i!=null&&i.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let e=0;e<i.CP.length;e++)i.CP[e]=null}}function U2(i){return new Promise((t,e)=>{var a,o,u;function h(){j0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{j0(),e(Xn(i,"network-request-failed"))},timeout:V2.get()})}if(!((o=(a=vi().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=vi().gapi)===null||u===void 0)&&u.load)h();else{const m=FI("iframefcb");return vi()[m]=()=>{gapi.load?h():e(Xn(i,"network-request-failed"))},BI(`${qI()}?onload=${m}`).catch(p=>e(p))}}).catch(t=>{throw df=null,t})}let df=null;function L2(i){return df=df||U2(i),df}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=new _u(5e3,15e3),j2="__/auth/iframe",B2="emulator/auth/iframe",q2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},F2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function H2(i){const t=i.config;bt(t.authDomain,i,"auth-domain-config-required");const e=t.emulator?ep(t,B2):`https://${i.config.authDomain}/${j2}`,a={apiKey:t.apiKey,appName:i.name,v:So},o=F2.get(i.config.apiHost);o&&(a.eid=o);const u=i._getFrameworks();return u.length&&(a.fw=u.join(",")),`${e}?${yu(a).slice(1)}`}async function G2(i){const t=await L2(i),e=vi().gapi;return bt(e,i,"internal-error"),t.open({where:document.body,url:H2(i),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:q2,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const h=Xn(i,"network-request-failed"),m=vi().setTimeout(()=>{u(h)},z2.get());function p(){vi().clearTimeout(m),o(a)}a.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Q2=500,K2=600,X2="_blank",W2="http://localhost";class B0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $2(i,t,e,a=Q2,o=K2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p=Object.assign(Object.assign({},Y2),{width:a.toString(),height:o.toString(),top:u,left:h}),y=tn().toLowerCase();e&&(m=ib(y)?X2:e),eb(y)&&(t=t||W2,p.scrollbars="yes");const T=Object.entries(p).reduce((R,[z,F])=>`${R}${z}=${F},`,"");if(xI(y)&&m!=="_self")return Z2(t||"",m),new B0(null);const S=window.open(t||"",m,T);bt(S,i,"popup-blocked");try{S.focus()}catch{}return new B0(S)}function Z2(i,t){const e=document.createElement("a");e.href=i,e.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="__/auth/handler",tC="emulator/auth/handler",eC=encodeURIComponent("fac");async function q0(i,t,e,a,o,u){bt(i.config.authDomain,i,"auth-domain-config-required"),bt(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:e,redirectUrl:a,v:So,eventId:o};if(t instanceof sp){t.setDefaultLanguage(i.languageCode),h.providerId=t.providerId||"",tR(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,S]of Object.entries({}))h[T]=S}if(t instanceof vu){const T=t.getScopes().filter(S=>S!=="");T.length>0&&(h.scopes=T.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await i._getAppCheckToken(),y=p?`#${eC}=${encodeURIComponent(p)}`:"";return`${nC(i)}?${yu(m).slice(1)}${y}`}function nC({config:i}){return i.emulator?ep(i,tC):`https://${i.authDomain}/${J2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="webStorageSupport";class iC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yb,this._completeRedirectFn=I2,this._overrideRedirectResult=S2}async _openPopup(t,e,a,o){var u;tr((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await q0(t,e,a,sg(),o);return $2(t,h,op())}async _openRedirect(t,e,a,o){await this._originValidation(t);const u=await q0(t,e,a,sg(),o);return s2(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(tr(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(t);return this.eventManagers[e]={promise:a},a.catch(()=>{delete this.eventManagers[e]}),a}async initAndGetManager(t){const e=await G2(t),a=new D2(t);return e.register("authEvent",o=>(bt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=e,a}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Vm,{type:Vm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Vm];h!==void 0&&e(!!h),bi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=P2(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return lb()||nb()||rp()}}const rC=iC;var F0="@firebase/auth",H0="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oC(i){mo(new es("auth",(t,{options:e})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=a.options;bt(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ub(i)},y=new zI(a,o,u,p);return GI(y,e),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,a)=>{t.getProvider("auth-internal").initialize()})),mo(new es("auth-internal",t=>{const e=Kf(t.getProvider("auth").getImmediate());return(a=>new aC(a))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(F0,H0,sC(i)),Kr(F0,H0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=5*60,uC=BE("authIdTokenMaxAge")||lC;let G0=null;const cC=i=>async t=>{const e=t&&await t.getIdTokenResult(),a=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(a&&a>uC)return;const o=e==null?void 0:e.token;G0!==o&&(G0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function fC(i=GE()){const t=$g(i,"auth");if(t.isInitialized())return t.getImmediate();const e=HI(i,{popupRedirectResolver:rC,persistence:[g2,i2,yb]}),a=BE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const h=cC(u.toString());t2(e,h,()=>h(e.currentUser)),JI(e,m=>h(m))}}const o=zE("auth");return o&&YI(e,`http://${o}`),e}function hC(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}jI({loadJS(i){return new Promise((t,e)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=t,a.onerror=o=>{const u=Xn("internal-error");u.customData=o,e(u)},a.type="text/javascript",a.charset="UTF-8",hC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oC("Browser");var Y0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xr,wb;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,A){function w(){}w.prototype=A.prototype,x.D=A.prototype,x.prototype=new w,x.prototype.constructor=x,x.C=function(C,N,P){for(var D=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)D[ze-2]=arguments[ze];return A.prototype[N].apply(C,D)}}function e(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,e),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,A,w){w||(w=0);var C=Array(16);if(typeof A=="string")for(var N=0;16>N;++N)C[N]=A.charCodeAt(w++)|A.charCodeAt(w++)<<8|A.charCodeAt(w++)<<16|A.charCodeAt(w++)<<24;else for(N=0;16>N;++N)C[N]=A[w++]|A[w++]<<8|A[w++]<<16|A[w++]<<24;A=x.g[0],w=x.g[1],N=x.g[2];var P=x.g[3],D=A+(P^w&(N^P))+C[0]+3614090360&4294967295;A=w+(D<<7&4294967295|D>>>25),D=P+(N^A&(w^N))+C[1]+3905402710&4294967295,P=A+(D<<12&4294967295|D>>>20),D=N+(w^P&(A^w))+C[2]+606105819&4294967295,N=P+(D<<17&4294967295|D>>>15),D=w+(A^N&(P^A))+C[3]+3250441966&4294967295,w=N+(D<<22&4294967295|D>>>10),D=A+(P^w&(N^P))+C[4]+4118548399&4294967295,A=w+(D<<7&4294967295|D>>>25),D=P+(N^A&(w^N))+C[5]+1200080426&4294967295,P=A+(D<<12&4294967295|D>>>20),D=N+(w^P&(A^w))+C[6]+2821735955&4294967295,N=P+(D<<17&4294967295|D>>>15),D=w+(A^N&(P^A))+C[7]+4249261313&4294967295,w=N+(D<<22&4294967295|D>>>10),D=A+(P^w&(N^P))+C[8]+1770035416&4294967295,A=w+(D<<7&4294967295|D>>>25),D=P+(N^A&(w^N))+C[9]+2336552879&4294967295,P=A+(D<<12&4294967295|D>>>20),D=N+(w^P&(A^w))+C[10]+4294925233&4294967295,N=P+(D<<17&4294967295|D>>>15),D=w+(A^N&(P^A))+C[11]+2304563134&4294967295,w=N+(D<<22&4294967295|D>>>10),D=A+(P^w&(N^P))+C[12]+1804603682&4294967295,A=w+(D<<7&4294967295|D>>>25),D=P+(N^A&(w^N))+C[13]+4254626195&4294967295,P=A+(D<<12&4294967295|D>>>20),D=N+(w^P&(A^w))+C[14]+2792965006&4294967295,N=P+(D<<17&4294967295|D>>>15),D=w+(A^N&(P^A))+C[15]+1236535329&4294967295,w=N+(D<<22&4294967295|D>>>10),D=A+(N^P&(w^N))+C[1]+4129170786&4294967295,A=w+(D<<5&4294967295|D>>>27),D=P+(w^N&(A^w))+C[6]+3225465664&4294967295,P=A+(D<<9&4294967295|D>>>23),D=N+(A^w&(P^A))+C[11]+643717713&4294967295,N=P+(D<<14&4294967295|D>>>18),D=w+(P^A&(N^P))+C[0]+3921069994&4294967295,w=N+(D<<20&4294967295|D>>>12),D=A+(N^P&(w^N))+C[5]+3593408605&4294967295,A=w+(D<<5&4294967295|D>>>27),D=P+(w^N&(A^w))+C[10]+38016083&4294967295,P=A+(D<<9&4294967295|D>>>23),D=N+(A^w&(P^A))+C[15]+3634488961&4294967295,N=P+(D<<14&4294967295|D>>>18),D=w+(P^A&(N^P))+C[4]+3889429448&4294967295,w=N+(D<<20&4294967295|D>>>12),D=A+(N^P&(w^N))+C[9]+568446438&4294967295,A=w+(D<<5&4294967295|D>>>27),D=P+(w^N&(A^w))+C[14]+3275163606&4294967295,P=A+(D<<9&4294967295|D>>>23),D=N+(A^w&(P^A))+C[3]+4107603335&4294967295,N=P+(D<<14&4294967295|D>>>18),D=w+(P^A&(N^P))+C[8]+1163531501&4294967295,w=N+(D<<20&4294967295|D>>>12),D=A+(N^P&(w^N))+C[13]+2850285829&4294967295,A=w+(D<<5&4294967295|D>>>27),D=P+(w^N&(A^w))+C[2]+4243563512&4294967295,P=A+(D<<9&4294967295|D>>>23),D=N+(A^w&(P^A))+C[7]+1735328473&4294967295,N=P+(D<<14&4294967295|D>>>18),D=w+(P^A&(N^P))+C[12]+2368359562&4294967295,w=N+(D<<20&4294967295|D>>>12),D=A+(w^N^P)+C[5]+4294588738&4294967295,A=w+(D<<4&4294967295|D>>>28),D=P+(A^w^N)+C[8]+2272392833&4294967295,P=A+(D<<11&4294967295|D>>>21),D=N+(P^A^w)+C[11]+1839030562&4294967295,N=P+(D<<16&4294967295|D>>>16),D=w+(N^P^A)+C[14]+4259657740&4294967295,w=N+(D<<23&4294967295|D>>>9),D=A+(w^N^P)+C[1]+2763975236&4294967295,A=w+(D<<4&4294967295|D>>>28),D=P+(A^w^N)+C[4]+1272893353&4294967295,P=A+(D<<11&4294967295|D>>>21),D=N+(P^A^w)+C[7]+4139469664&4294967295,N=P+(D<<16&4294967295|D>>>16),D=w+(N^P^A)+C[10]+3200236656&4294967295,w=N+(D<<23&4294967295|D>>>9),D=A+(w^N^P)+C[13]+681279174&4294967295,A=w+(D<<4&4294967295|D>>>28),D=P+(A^w^N)+C[0]+3936430074&4294967295,P=A+(D<<11&4294967295|D>>>21),D=N+(P^A^w)+C[3]+3572445317&4294967295,N=P+(D<<16&4294967295|D>>>16),D=w+(N^P^A)+C[6]+76029189&4294967295,w=N+(D<<23&4294967295|D>>>9),D=A+(w^N^P)+C[9]+3654602809&4294967295,A=w+(D<<4&4294967295|D>>>28),D=P+(A^w^N)+C[12]+3873151461&4294967295,P=A+(D<<11&4294967295|D>>>21),D=N+(P^A^w)+C[15]+530742520&4294967295,N=P+(D<<16&4294967295|D>>>16),D=w+(N^P^A)+C[2]+3299628645&4294967295,w=N+(D<<23&4294967295|D>>>9),D=A+(N^(w|~P))+C[0]+4096336452&4294967295,A=w+(D<<6&4294967295|D>>>26),D=P+(w^(A|~N))+C[7]+1126891415&4294967295,P=A+(D<<10&4294967295|D>>>22),D=N+(A^(P|~w))+C[14]+2878612391&4294967295,N=P+(D<<15&4294967295|D>>>17),D=w+(P^(N|~A))+C[5]+4237533241&4294967295,w=N+(D<<21&4294967295|D>>>11),D=A+(N^(w|~P))+C[12]+1700485571&4294967295,A=w+(D<<6&4294967295|D>>>26),D=P+(w^(A|~N))+C[3]+2399980690&4294967295,P=A+(D<<10&4294967295|D>>>22),D=N+(A^(P|~w))+C[10]+4293915773&4294967295,N=P+(D<<15&4294967295|D>>>17),D=w+(P^(N|~A))+C[1]+2240044497&4294967295,w=N+(D<<21&4294967295|D>>>11),D=A+(N^(w|~P))+C[8]+1873313359&4294967295,A=w+(D<<6&4294967295|D>>>26),D=P+(w^(A|~N))+C[15]+4264355552&4294967295,P=A+(D<<10&4294967295|D>>>22),D=N+(A^(P|~w))+C[6]+2734768916&4294967295,N=P+(D<<15&4294967295|D>>>17),D=w+(P^(N|~A))+C[13]+1309151649&4294967295,w=N+(D<<21&4294967295|D>>>11),D=A+(N^(w|~P))+C[4]+4149444226&4294967295,A=w+(D<<6&4294967295|D>>>26),D=P+(w^(A|~N))+C[11]+3174756917&4294967295,P=A+(D<<10&4294967295|D>>>22),D=N+(A^(P|~w))+C[2]+718787259&4294967295,N=P+(D<<15&4294967295|D>>>17),D=w+(P^(N|~A))+C[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+P&4294967295}a.prototype.u=function(x,A){A===void 0&&(A=x.length);for(var w=A-this.blockSize,C=this.B,N=this.h,P=0;P<A;){if(N==0)for(;P<=w;)o(this,x,P),P+=this.blockSize;if(typeof x=="string"){for(;P<A;)if(C[N++]=x.charCodeAt(P++),N==this.blockSize){o(this,C),N=0;break}}else for(;P<A;)if(C[N++]=x[P++],N==this.blockSize){o(this,C),N=0;break}}this.h=N,this.o+=A},a.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;var w=8*this.o;for(A=x.length-8;A<x.length;++A)x[A]=w&255,w/=256;for(this.u(x),x=Array(16),A=w=0;4>A;++A)for(var C=0;32>C;C+=8)x[w++]=this.g[A]>>>C&255;return x};function u(x,A){var w=m;return Object.prototype.hasOwnProperty.call(w,x)?w[x]:w[x]=A(x)}function h(x,A){this.h=A;for(var w=[],C=!0,N=x.length-1;0<=N;N--){var P=x[N]|0;C&&P==A||(w[N]=P,C=!1)}this.g=w}var m={};function p(x){return-128<=x&&128>x?u(x,function(A){return new h([A|0],0>A?-1:0)}):new h([x|0],0>x?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return S;if(0>x)return Y(y(-x));for(var A=[],w=1,C=0;x>=w;C++)A[C]=x/w|0,w*=4294967296;return new h(A,0)}function T(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return Y(T(x.substring(1),A));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=y(Math.pow(A,8)),C=S,N=0;N<x.length;N+=8){var P=Math.min(8,x.length-N),D=parseInt(x.substring(N,N+P),A);8>P?(P=y(Math.pow(A,P)),C=C.j(P).add(y(D))):(C=C.j(w),C=C.add(y(D)))}return C}var S=p(0),R=p(1),z=p(16777216);i=h.prototype,i.m=function(){if($(this))return-Y(this).m();for(var x=0,A=1,w=0;w<this.g.length;w++){var C=this.i(w);x+=(0<=C?C:4294967296+C)*A,A*=4294967296}return x},i.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(F(this))return"0";if($(this))return"-"+Y(this).toString(x);for(var A=y(Math.pow(x,6)),w=this,C="";;){var N=vt(w,A).g;w=ct(w,N.j(A));var P=((0<w.g.length?w.g[0]:w.h)>>>0).toString(x);if(w=N,F(w))return P+C;for(;6>P.length;)P="0"+P;C=P+C}},i.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function F(x){if(x.h!=0)return!1;for(var A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function $(x){return x.h==-1}i.l=function(x){return x=ct(this,x),$(x)?-1:F(x)?0:1};function Y(x){for(var A=x.g.length,w=[],C=0;C<A;C++)w[C]=~x.g[C];return new h(w,~x.h).add(R)}i.abs=function(){return $(this)?Y(this):this},i.add=function(x){for(var A=Math.max(this.g.length,x.g.length),w=[],C=0,N=0;N<=A;N++){var P=C+(this.i(N)&65535)+(x.i(N)&65535),D=(P>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);C=D>>>16,P&=65535,D&=65535,w[N]=D<<16|P}return new h(w,w[w.length-1]&-2147483648?-1:0)};function ct(x,A){return x.add(Y(A))}i.j=function(x){if(F(this)||F(x))return S;if($(this))return $(x)?Y(this).j(Y(x)):Y(Y(this).j(x));if($(x))return Y(this.j(Y(x)));if(0>this.l(z)&&0>x.l(z))return y(this.m()*x.m());for(var A=this.g.length+x.g.length,w=[],C=0;C<2*A;C++)w[C]=0;for(C=0;C<this.g.length;C++)for(var N=0;N<x.g.length;N++){var P=this.i(C)>>>16,D=this.i(C)&65535,ze=x.i(N)>>>16,ce=x.i(N)&65535;w[2*C+2*N]+=D*ce,lt(w,2*C+2*N),w[2*C+2*N+1]+=P*ce,lt(w,2*C+2*N+1),w[2*C+2*N+1]+=D*ze,lt(w,2*C+2*N+1),w[2*C+2*N+2]+=P*ze,lt(w,2*C+2*N+2)}for(C=0;C<A;C++)w[C]=w[2*C+1]<<16|w[2*C];for(C=A;C<2*A;C++)w[C]=0;return new h(w,0)};function lt(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function at(x,A){this.g=x,this.h=A}function vt(x,A){if(F(A))throw Error("division by zero");if(F(x))return new at(S,S);if($(x))return A=vt(Y(x),A),new at(Y(A.g),Y(A.h));if($(A))return A=vt(x,Y(A)),new at(Y(A.g),A.h);if(30<x.g.length){if($(x)||$(A))throw Error("slowDivide_ only works with positive integers.");for(var w=R,C=A;0>=C.l(x);)w=ft(w),C=ft(C);var N=It(w,1),P=It(C,1);for(C=It(C,2),w=It(w,2);!F(C);){var D=P.add(C);0>=D.l(x)&&(N=N.add(w),P=D),C=It(C,1),w=It(w,1)}return A=ct(x,N.j(A)),new at(N,A)}for(N=S;0<=x.l(A);){for(w=Math.max(1,Math.floor(x.m()/A.m())),C=Math.ceil(Math.log(w)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),P=y(w),D=P.j(A);$(D)||0<D.l(x);)w-=C,P=y(w),D=P.j(A);F(P)&&(P=R),N=N.add(P),x=ct(x,D)}return new at(N,x)}i.A=function(x){return vt(this,x).h},i.and=function(x){for(var A=Math.max(this.g.length,x.g.length),w=[],C=0;C<A;C++)w[C]=this.i(C)&x.i(C);return new h(w,this.h&x.h)},i.or=function(x){for(var A=Math.max(this.g.length,x.g.length),w=[],C=0;C<A;C++)w[C]=this.i(C)|x.i(C);return new h(w,this.h|x.h)},i.xor=function(x){for(var A=Math.max(this.g.length,x.g.length),w=[],C=0;C<A;C++)w[C]=this.i(C)^x.i(C);return new h(w,this.h^x.h)};function ft(x){for(var A=x.g.length+1,w=[],C=0;C<A;C++)w[C]=x.i(C)<<1|x.i(C-1)>>>31;return new h(w,x.h)}function It(x,A){var w=A>>5;A%=32;for(var C=x.g.length-w,N=[],P=0;P<C;P++)N[P]=0<A?x.i(P+w)>>>A|x.i(P+w+1)<<32-A:x.i(P+w);return new h(N,x.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,wb=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=T,Xr=h}).apply(typeof Y0<"u"?Y0:typeof self<"u"?self:typeof window<"u"?window:{});var ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rb,Gl,Ib,mf,ug,Cb,Db,Ob;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function e(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ef=="object"&&ef];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=e(this);function o(c,g){if(g)t:{var _=a;c=c.split(".");for(var b=0;b<c.length-1;b++){var V=c[b];if(!(V in _))break t;_=_[V]}c=c[c.length-1],b=_[c],g=g(b),g!=b&&g!=null&&t(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,b=!1,V={next:function(){if(!b&&_<c.length){var q=_++;return{value:g(q,c[q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function T(c,g,_){return c.call.apply(c.bind,arguments)}function S(c,g,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,b),c.apply(g,V)}}return function(){return c.apply(g,arguments)}}function R(c,g,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:S,R.apply(null,arguments)}function z(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function F(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,V,q){for(var nt=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)nt[Ut-2]=arguments[Ut];return g.prototype[V].apply(b,nt)}}function $(c){const g=c.length;if(0<g){const _=Array(g);for(let b=0;b<g;b++)_[b]=c[b];return _}return[]}function Y(c,g){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const V=c.length||0,q=b.length||0;c.length=V+q;for(let nt=0;nt<q;nt++)c[V+nt]=b[nt]}else c.push(b)}}class ct{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function lt(c){return/^[\s\xa0]*$/.test(c)}function at(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function vt(c){return vt[" "](c),c}vt[" "]=function(){};var ft=at().indexOf("Gecko")!=-1&&!(at().toLowerCase().indexOf("webkit")!=-1&&at().indexOf("Edge")==-1)&&!(at().indexOf("Trident")!=-1||at().indexOf("MSIE")!=-1)&&at().indexOf("Edge")==-1;function It(c,g,_){for(const b in c)g.call(_,c[b],b,c)}function x(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function A(c){const g={};for(const _ in c)g[_]=c[_];return g}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,g){let _,b;for(let V=1;V<arguments.length;V++){b=arguments[V];for(_ in b)c[_]=b[_];for(let q=0;q<w.length;q++)_=w[q],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function N(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function P(c){m.setTimeout(()=>{throw c},0)}function D(){var c=qt;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ze{constructor(){this.h=this.g=null}add(g,_){const b=ce.get();b.set(g,_),this.h?this.h.next=b:this.g=b,this.h=b}}var ce=new ct(()=>new H,c=>c.reset());class H{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let it,mt=!1,qt=new ze,O=()=>{const c=m.Promise.resolve(void 0);it=()=>{c.then(Z)}};var Z=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){P(_)}var g=ce;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}mt=!1};function rt(){this.s=this.s,this.C=this.C}rt.prototype.s=!1,rt.prototype.ma=function(){this.s||(this.s=!0,this.N())},rt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var pt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c}();function Ot(c,g){if(et.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ft){t:{try{vt(g.nodeName);var V=!0;break t}catch{}V=!1}V||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:At[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ot.aa.h.call(this)}}F(Ot,et);var At={2:"touch",3:"pen",4:"mouse"};Ot.prototype.h=function(){Ot.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),ne=0;function Zn(c,g,_,b,V){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!b,this.ha=V,this.key=++ne,this.da=this.fa=!1}function ur(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Si(c){this.src=c,this.g={},this.h=0}Si.prototype.add=function(c,g,_,b,V){var q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);var nt=fa(c,g,b,V);return-1<nt?(g=c[nt],_||(g.fa=!1)):(g=new Zn(g,this.src,q,!!b,V),g.fa=_,c.push(g)),g};function ca(c,g){var _=g.type;if(_ in c.g){var b=c.g[_],V=Array.prototype.indexOf.call(b,g,void 0),q;(q=0<=V)&&Array.prototype.splice.call(b,V,1),q&&(ur(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function fa(c,g,_,b){for(var V=0;V<c.length;++V){var q=c[V];if(!q.da&&q.listener==g&&q.capture==!!_&&q.ha==b)return V}return-1}var ha="closure_lm_"+(1e6*Math.random()|0),Mo={};function Ou(c,g,_,b,V){if(Array.isArray(g)){for(var q=0;q<g.length;q++)Ou(c,g[q],_,b,V);return null}return _=Nu(_),c&&c[Me]?c.K(g,_,y(b)?!!b.capture:!1,V):Rn(c,g,_,!1,b,V)}function Rn(c,g,_,b,V,q){if(!g)throw Error("Invalid event type");var nt=y(V)?!!V.capture:!!V,Ut=cs(c);if(Ut||(c[ha]=Ut=new Si(c)),_=Ut.add(g,_,b,nt,q),_.proxy)return _;if(b=Sh(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)pt||(V=nt),V===void 0&&(V=!1),c.addEventListener(g.toString(),b,V);else if(c.attachEvent)c.attachEvent(da(g.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Sh(){function c(_){return g.call(c.src,c.listener,_)}const g=wh;return c}function xo(c,g,_,b,V){if(Array.isArray(g))for(var q=0;q<g.length;q++)xo(c,g[q],_,b,V);else b=y(b)?!!b.capture:!!b,_=Nu(_),c&&c[Me]?(c=c.i,g=String(g).toString(),g in c.g&&(q=c.g[g],_=fa(q,_,b,V),-1<_&&(ur(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete c.g[g],c.h--)))):c&&(c=cs(c))&&(g=c.g[g.toString()],c=-1,g&&(c=fa(g,_,b,V)),(_=-1<c?g[c]:null)&&us(_))}function us(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Me])ca(g.i,c);else{var _=c.type,b=c.proxy;g.removeEventListener?g.removeEventListener(_,b,c.capture):g.detachEvent?g.detachEvent(da(_),b):g.addListener&&g.removeListener&&g.removeListener(b),(_=cs(g))?(ca(_,c),_.h==0&&(_.src=null,g[ha]=null)):ur(c)}}}function da(c){return c in Mo?Mo[c]:Mo[c]="on"+c}function wh(c,g){if(c.da)c=!0;else{g=new Ot(g,this);var _=c.listener,b=c.ha||c.src;c.fa&&us(c),c=_.call(b,g)}return c}function cs(c){return c=c[ha],c instanceof Si?c:null}var Po="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nu(c){return typeof c=="function"?c:(c[Po]||(c[Po]=function(g){return c.handleEvent(g)}),c[Po])}function fe(){rt.call(this),this.i=new Si(this),this.M=this,this.F=null}F(fe,rt),fe.prototype[Me]=!0,fe.prototype.removeEventListener=function(c,g,_,b){xo(this,c,g,_,b)};function Qt(c,g){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=g.type||g,typeof g=="string")g=new et(g,c);else if(g instanceof et)g.target=g.target||c;else{var V=g;g=new et(b,c),C(g,V)}if(V=!0,_)for(var q=_.length-1;0<=q;q--){var nt=g.g=_[q];V=mn(nt,b,!0,g)&&V}if(nt=g.g=c,V=mn(nt,b,!0,g)&&V,V=mn(nt,b,!1,g)&&V,_)for(q=0;q<_.length;q++)nt=g.g=_[q],V=mn(nt,b,!1,g)&&V}fe.prototype.N=function(){if(fe.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],b=0;b<_.length;b++)ur(_[b]);delete c.g[g],c.h--}}this.F=null},fe.prototype.K=function(c,g,_,b){return this.i.add(String(c),g,!1,_,b)},fe.prototype.L=function(c,g,_,b){return this.i.add(String(c),g,!0,_,b)};function mn(c,g,_,b){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var V=!0,q=0;q<g.length;++q){var nt=g[q];if(nt&&!nt.da&&nt.capture==_){var Ut=nt.listener,we=nt.ha||nt.src;nt.fa&&ca(c.i,nt),V=Ut.call(we,b)!==!1&&V}}return V&&!b.defaultPrevented}function Ke(c,g,_){if(typeof c=="function")_&&(c=R(c,_));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function Mu(c){c.g=Ke(()=>{c.g=null,c.i&&(c.i=!1,Mu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Rh extends rt{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Mu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ma(c){rt.call(this),this.h=c,this.g={}}F(ma,rt);var ga=[];function pa(c){It(c.g,function(g,_){this.g.hasOwnProperty(_)&&us(g)},c),c.g={}}ma.prototype.N=function(){ma.aa.N.call(this),pa(this)},ma.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jn=m.JSON.stringify,fs=m.JSON.parse,ya=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function ko(){}ko.prototype.h=null;function Vo(c){return c.h||(c.h=c.i())}function Uo(){}var wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ri(){et.call(this,"d")}F(Ri,et);function Lo(){et.call(this,"c")}F(Lo,et);var Jn={},zo=null;function cr(){return zo=zo||new fe}Jn.La="serverreachability";function hs(c){et.call(this,Jn.La,c)}F(hs,et);function fr(c){const g=cr();Qt(g,new hs(g))}Jn.STAT_EVENT="statevent";function xu(c,g){et.call(this,Jn.STAT_EVENT,c),this.stat=g}F(xu,et);function se(c){const g=cr();Qt(g,new xu(g,c))}Jn.Ma="timingevent";function Se(c,g){et.call(this,Jn.Ma,c),this.size=g}F(Se,et);function _e(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function In(){this.g=!0}In.prototype.xa=function(){this.g=!1};function jo(c,g,_,b,V,q){c.info(function(){if(c.g)if(q)for(var nt="",Ut=q.split("&"),we=0;we<Ut.length;we++){var Lt=Ut[we].split("=");if(1<Lt.length){var Pe=Lt[0];Lt=Lt[1];var Re=Pe.split("_");nt=2<=Re.length&&Re[1]=="type"?nt+(Pe+"="+Lt+"&"):nt+(Pe+"=redacted&")}}else nt=null;else nt=q;return"XMLHTTP REQ ("+b+") [attempt "+V+"]: "+g+`
`+_+`
`+nt})}function Ih(c,g,_,b,V,q,nt){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+V+"]: "+g+`
`+_+`
`+q+" "+nt})}function hr(c,g,_,b){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+_a(c,_)+(b?" "+b:"")})}function Pu(c,g){c.info(function(){return"TIMEOUT: "+g})}In.prototype.info=function(){};function _a(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var V=b[1];if(Array.isArray(V)&&!(1>V.length)){var q=V[0];if(q!="noop"&&q!="stop"&&q!="close")for(var nt=1;nt<V.length;nt++)V[nt]=""}}}}return jn(_)}catch{return g}}var dr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ii={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ti;function ei(){}F(ei,ko),ei.prototype.g=function(){return new XMLHttpRequest},ei.prototype.i=function(){return{}},ti=new ei;function nn(c,g,_,b){this.j=c,this.i=g,this.l=_,this.R=b||1,this.U=new ma(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}var Bo={},ds={};function Bn(c,g,_){c.L=1,c.v=Aa(gn(g)),c.m=_,c.P=!0,Ci(c,null)}function Ci(c,g){c.F=Date.now(),va(c),c.A=gn(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Qo(_.i,"t",b),c.C=0,_=c.j.J,c.h=new me,c.g=Wu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Rh(R(c.Y,c,c.g),c.O)),g=c.U,_=c.g,b=c.ca;var V="readystatechange";Array.isArray(V)||(V&&(ga[0]=V.toString()),V=ga);for(var q=0;q<V.length;q++){var nt=Ou(_,V[q],b||g.handleEvent,!1,g.h||g);if(!nt)break;g.g[nt.key]=nt}g=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),fr(),jo(c.i,c.u,c.A,c.l,c.R,c.m)}nn.prototype.ca=function(c){c=c.target;const g=this.M;g&&Nn(c)==3?g.j():this.Y(c)},nn.prototype.Y=function(c){try{if(c==this.g)t:{const Re=Nn(this.g);var g=this.g.Ba();const Vi=this.g.Z();if(!(3>Re)&&(Re!=3||this.g&&(this.h.h||this.g.oa()||qu(this.g)))){this.J||Re!=4||g==7||(g==8||0>=Vi?fr(3):fr(2)),mr(this);var _=this.g.Z();this.X=_;e:if(ku(this)){var b=qu(this.g);c="";var V=b.length,q=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){je(this),ni(this);var nt="";break e}this.h.i=new m.TextDecoder}for(g=0;g<V;g++)this.h.h=!0,c+=this.h.i.decode(b[g],{stream:!(q&&g==V-1)});b.length=0,this.h.g+=c,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=_==200,Ih(this.i,this.u,this.A,this.l,this.R,Re,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ut,we=this.g;if((Ut=we.g?we.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lt(Ut)){var Lt=Ut;break e}}Lt=null}if(_=Lt)hr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ta(this,_);else{this.o=!1,this.s=3,se(12),je(this),ni(this);break t}}if(this.P){_=!0;let Be;for(;!this.J&&this.C<nt.length;)if(Be=Vu(this,nt),Be==ds){Re==4&&(this.s=4,se(14),_=!1),hr(this.i,this.l,null,"[Incomplete Response]");break}else if(Be==Bo){this.s=4,se(15),hr(this.i,this.l,nt,"[Invalid Chunk]"),_=!1;break}else hr(this.i,this.l,Be,null),Ta(this,Be);if(ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||nt.length!=0||this.h.h||(this.s=1,se(16),_=!1),this.o=this.o&&_,!_)hr(this.i,this.l,nt,"[Invalid Chunked Response]"),je(this),ni(this);else if(0<nt.length&&!this.W){this.W=!0;var Pe=this.j;Pe.g==this&&Pe.ba&&!Pe.M&&(Pe.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),Na(Pe),Pe.M=!0,se(11))}}else hr(this.i,this.l,nt,null),Ta(this,nt);Re==4&&je(this),this.o&&!this.J&&(Re==4?Qu(this.j,this):(this.o=!1,va(this)))}else Mh(this.g),_==400&&0<nt.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),je(this),ni(this)}}}catch{}finally{}};function ku(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Vu(c,g){var _=c.C,b=g.indexOf(`
`,_);return b==-1?ds:(_=Number(g.substring(_,b)),isNaN(_)?Bo:(b+=1,b+_>g.length?ds:(g=g.slice(b,b+_),c.C=b+_,g)))}nn.prototype.cancel=function(){this.J=!0,je(this)};function va(c){c.S=Date.now()+c.I,Uu(c,c.I)}function Uu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=_e(R(c.ba,c),g)}function mr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}nn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Pu(this.i,this.A),this.L!=2&&(fr(),se(17)),je(this),this.s=2,ni(this)):Uu(this,this.S-c)};function ni(c){c.j.G==0||c.J||Qu(c.j,c)}function je(c){mr(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,pa(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Ta(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||qo(_.h,c))){if(!c.K&&qo(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var V=b;if(V[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ws(_),As(_);else break t;Zo(_),se(18)}}else _.za=V[1],0<_.za-_.T&&37500>V[2]&&_.F&&_.v==0&&!_.C&&(_.C=_e(R(_.Za,_),6e3));if(1>=gs(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ki(_,11)}else if((c.K||_.g==c)&&ws(_),!lt(g))for(V=_.Da.g.parse(g),g=0;g<V.length;g++){let Lt=V[g];if(_.T=Lt[0],Lt=Lt[1],_.G==2)if(Lt[0]=="c"){_.K=Lt[1],_.ia=Lt[2];const Pe=Lt[3];Pe!=null&&(_.la=Pe,_.j.info("VER="+_.la));const Re=Lt[4];Re!=null&&(_.Aa=Re,_.j.info("SVER="+_.Aa));const Vi=Lt[5];Vi!=null&&typeof Vi=="number"&&0<Vi&&(b=1.5*Vi,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Be=c.g;if(Be){const ui=Be.g?Be.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ui){var q=b.h;q.g||ui.indexOf("spdy")==-1&&ui.indexOf("quic")==-1&&ui.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(ps(q,q.h),q.h=null))}if(b.D){const tl=Be.g?Be.g.getResponseHeader("X-HTTP-Session-Id"):null;tl&&(b.ya=tl,$t(b.I,b.D,tl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var nt=c;if(b.qa=Xu(b,b.J?b.ia:null,b.W),nt.K){rn(b.h,nt);var Ut=nt,we=b.L;we&&(Ut.I=we),Ut.B&&(mr(Ut),va(Ut)),b.g=nt}else Gu(b);0<_.i.length&&Ss(_)}else Lt[0]!="stop"&&Lt[0]!="close"||ki(_,7);else _.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?ki(_,7):Wo(_):Lt[0]!="noop"&&_.l&&_.l.ta(Lt),_.v=0)}}fr(4)}catch{}}var Lu=class{constructor(c,g){this.g=c,this.map=g}};function Di(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ms(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gs(c){return c.h?1:c.g?c.g.size:0}function qo(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function ps(c,g){c.g?c.g.add(g):c.h=g}function rn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Di.prototype.cancel=function(){if(this.i=Fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Fo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return $(c.i)}function Ch(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,b=0;b<_;b++)g.push(c[b]);return g}g=[],_=0;for(b in c)g[_++]=c[b];return g}function ys(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const b in c)g[_++]=b;return g}}}function Ho(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=ys(c),b=Ch(c),V=b.length,q=0;q<V;q++)g.call(void 0,b[q],_&&_[q],c)}var Ea=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dh(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),V=null;if(0<=b){var q=c[_].substring(0,b);V=c[_].substring(b+1)}else q=c[_];g(q,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function ve(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ve){this.h=c.h,ba(this,c.j),this.o=c.o,this.g=c.g,gr(this,c.s),this.l=c.l;var g=c.i,_=new Ni;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Oi(this,_),this.m=c.m}else c&&(g=String(c).match(Ea))?(this.h=!1,ba(this,g[1]||"",!0),this.o=Cn(g[2]||""),this.g=Cn(g[3]||"",!0),gr(this,g[4]),this.l=Cn(g[5]||"",!0),Oi(this,g[6]||"",!0),this.m=Cn(g[7]||"")):(this.h=!1,this.i=new Ni(null,this.h))}ve.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Sa(g,Go,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Sa(g,Go,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Sa(_,_.charAt(0)=="/"?Oh:Yo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Sa(_,_s)),c.join("")};function gn(c){return new ve(c)}function ba(c,g,_){c.j=_?Cn(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function gr(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Oi(c,g,_){g instanceof Ni?(c.i=g,ju(c.i,c.h)):(_||(g=Sa(g,Nh)),c.i=new Ni(g,c.h))}function $t(c,g,_){c.i.set(g,_)}function Aa(c){return $t(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Cn(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Sa(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,zu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function zu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Go=/[#\/\?@]/g,Yo=/[#\?:]/g,Oh=/[#\?]/g,Nh=/[#\?@]/g,_s=/#/g;function Ni(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Dn(c){c.g||(c.g=new Map,c.h=0,c.i&&Dh(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}i=Ni.prototype,i.add=function(c,g){Dn(this),this.i=null,c=ii(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Mi(c,g){Dn(c),g=ii(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function xi(c,g){return Dn(c),g=ii(c,g),c.g.has(g)}i.forEach=function(c,g){Dn(this),this.g.forEach(function(_,b){_.forEach(function(V){c.call(g,V,b,this)},this)},this)},i.na=function(){Dn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let b=0;b<g.length;b++){const V=c[b];for(let q=0;q<V.length;q++)_.push(g[b])}return _},i.V=function(c){Dn(this);let g=[];if(typeof c=="string")xi(this,c)&&(g=g.concat(this.g.get(ii(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},i.set=function(c,g){return Dn(this),this.i=null,c=ii(this,c),xi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},i.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Qo(c,g,_){Mi(c,g),0<_.length&&(c.i=null,c.g.set(ii(c,g),$(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var b=g[_];const q=encodeURIComponent(String(b)),nt=this.V(b);for(b=0;b<nt.length;b++){var V=q;nt[b]!==""&&(V+="="+encodeURIComponent(String(nt[b]))),c.push(V)}}return this.i=c.join("&")};function ii(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function ju(c,g){g&&!c.j&&(Dn(c),c.i=null,c.g.forEach(function(_,b){var V=b.toLowerCase();b!=V&&(Mi(this,b),Qo(this,V,_))},c)),c.j=g}function wa(c,g){const _=new In;if(m.Image){const b=new Image;b.onload=z(On,_,"TestLoadImage: loaded",!0,g,b),b.onerror=z(On,_,"TestLoadImage: error",!1,g,b),b.onabort=z(On,_,"TestLoadImage: abort",!1,g,b),b.ontimeout=z(On,_,"TestLoadImage: timeout",!1,g,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else g(!1)}function qn(c,g){const _=new In,b=new AbortController,V=setTimeout(()=>{b.abort(),On(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:b.signal}).then(q=>{clearTimeout(V),q.ok?On(_,"TestPingServer: ok",!0,g):On(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(V),On(_,"TestPingServer: error",!1,g)})}function On(c,g,_,b,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),b(_)}catch{}}function Ra(){this.g=new ya}function ri(c,g,_){const b=_||"";try{Ho(c,function(V,q){let nt=V;y(V)&&(nt=jn(V)),g.push(b+q+"="+encodeURIComponent(nt))})}catch(V){throw g.push(b+"type="+encodeURIComponent("_badmap")),V}}function pr(c){this.l=c.Ub||null,this.j=c.eb||!1}F(pr,ko),pr.prototype.g=function(){return new Pi(this.l,this.j)},pr.prototype.i=function(c){return function(){return c}}({});function Pi(c,g){fe.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(Pi,fe),i=Pi.prototype,i.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,si(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ai(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ko(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ko(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?ai(this):si(this),this.readyState==3&&Ko(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ai(this))},i.Qa=function(c){this.g&&(this.response=c,ai(this))},i.ga=function(){this.g&&ai(this)};function ai(c){c.readyState=4,c.l=null,c.j=null,c.v=null,si(c)}i.setRequestHeader=function(c,g){this.u.append(c,g)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function si(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Xo(c){let g="";return It(c,function(_,b){g+=b,g+=":",g+=_,g+=`\r
`}),g}function xe(c,g,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=Xo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):$t(c,g,_))}function Gt(c){fe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(Gt,fe);var vs=/^https?$/i,Ia=["POST","PUT"];i=Gt.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,g,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ti.g(),this.v=this.o?Vo(this.o):Vo(ti),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(q){Bu(this,q);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var V in b)_.set(V,b[V]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())_.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),V=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ia,g,void 0))||b||V||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of _)this.g.setRequestHeader(q,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ca(this),this.u=!0,this.g.send(c),this.u=!1}catch(q){Bu(this,q)}};function Bu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Ts(c),oi(c)}function Ts(c){c.A||(c.A=!0,Qt(c,"complete"),Qt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qt(this,"complete"),Qt(this,"abort"),oi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oi(this,!0)),Gt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Es(this):this.bb())},i.bb=function(){Es(this)};function Es(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Nn(c)!=4||c.Z()!=2)){if(c.u&&Nn(c)==4)Ke(c.Ea,0,c);else if(Qt(c,"readystatechange"),Nn(c)==4){c.h=!1;try{const nt=c.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var _;if(!(_=g)){var b;if(b=nt===0){var V=String(c.D).match(Ea)[1]||null;!V&&m.self&&m.self.location&&(V=m.self.location.protocol.slice(0,-1)),b=!vs.test(V?V.toLowerCase():"")}_=b}if(_)Qt(c,"complete"),Qt(c,"success");else{c.m=6;try{var q=2<Nn(c)?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.Z()+"]",Ts(c)}}finally{oi(c)}}}}function oi(c,g){if(c.g){Ca(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Qt(c,"ready");try{_.onreadystatechange=b}catch{}}}function Ca(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Nn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),fs(g)}};function qu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Mh(c){const g={};c=(c.g&&2<=Nn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(lt(c[b]))continue;var _=N(c[b]);const V=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=g[V]||[];g[V]=q,q.push(_)}x(g,function(b){return b.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Da(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function bs(c){this.Aa=0,this.i=[],this.j=new In,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Da("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Da("baseRetryDelayMs",5e3,c),this.cb=Da("retryDelaySeedMs",1e4,c),this.Wa=Da("forwardChannelMaxRetries",2,c),this.wa=Da("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Di(c&&c.concurrentRequestLimit),this.Da=new Ra,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=bs.prototype,i.la=8,i.G=1,i.connect=function(c,g,_,b){se(0),this.W=c,this.H=g||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Xu(this,null,this.W),Ss(this)};function Wo(c){if(Fu(c),c.G==3){var g=c.U++,_=gn(c.I);if($t(_,"SID",c.K),$t(_,"RID",g),$t(_,"TYPE","terminate"),Oa(c,_),g=new nn(c,c.j,g),g.L=2,g.v=Aa(gn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=Wu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),va(g)}Ku(c)}function As(c){c.g&&(Na(c),c.g.cancel(),c.g=null)}function Fu(c){As(c),c.u&&(m.clearTimeout(c.u),c.u=null),ws(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ss(c){if(!ms(c.h)&&!c.s){c.s=!0;var g=c.Ga;it||O(),mt||(it(),mt=!0),qt.add(g,c),c.B=0}}function xh(c,g){return gs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=_e(R(c.Ga,c,g),Jo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const V=new nn(this,this.j,c);let q=this.o;if(this.S&&(q?(q=A(q),C(q,this.S)):q=this.S),this.m!==null||this.O||(V.H=q,q=null),this.P)t:{for(var g=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(g+=b,4096<g){g=_;break t}if(g===4096||_===this.i.length-1){g=_+1;break t}}g=1e3}else g=1e3;g=Hu(this,V,g),_=gn(this.I),$t(_,"RID",c),$t(_,"CVER",22),this.D&&$t(_,"X-HTTP-Session-Id",this.D),Oa(this,_),q&&(this.O?g="headers="+encodeURIComponent(String(Xo(q)))+"&"+g:this.m&&xe(_,this.m,q)),ps(this.h,V),this.Ua&&$t(_,"TYPE","init"),this.P?($t(_,"$req",g),$t(_,"SID","null"),V.T=!0,Bn(V,_,null)):Bn(V,_,g),this.G=2}}else this.G==3&&(c?$o(this,c):this.i.length==0||ms(this.h)||$o(this))};function $o(c,g){var _;g?_=g.l:_=c.U++;const b=gn(c.I);$t(b,"SID",c.K),$t(b,"RID",_),$t(b,"AID",c.T),Oa(c,b),c.m&&c.o&&xe(b,c.m,c.o),_=new nn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Hu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ps(c.h,_),Bn(_,b,g)}function Oa(c,g){c.H&&It(c.H,function(_,b){$t(g,b,_)}),c.l&&Ho({},function(_,b){$t(g,b,_)})}function Hu(c,g,_){_=Math.min(c.i.length,_);var b=c.l?R(c.l.Na,c.l,c):null;t:{var V=c.i;let q=-1;for(;;){const nt=["count="+_];q==-1?0<_?(q=V[0].g,nt.push("ofs="+q)):q=0:nt.push("ofs="+q);let Ut=!0;for(let we=0;we<_;we++){let Lt=V[we].g;const Pe=V[we].map;if(Lt-=q,0>Lt)q=Math.max(0,V[we].g-100),Ut=!1;else try{ri(Pe,nt,"req"+Lt+"_")}catch{b&&b(Pe)}}if(Ut){b=nt.join("&");break t}}}return c=c.i.splice(0,_),g.D=c,b}function Gu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;it||O(),mt||(it(),mt=!0),qt.add(g,c),c.v=0}}function Zo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=_e(R(c.Fa,c),Jo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=_e(R(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),As(this),Yu(this))};function Na(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Yu(c){c.g=new nn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=gn(c.qa);$t(g,"RID","rpc"),$t(g,"SID",c.K),$t(g,"AID",c.T),$t(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&$t(g,"TO",c.ja),$t(g,"TYPE","xmlhttp"),Oa(c,g),c.m&&c.o&&xe(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Aa(gn(g)),_.m=null,_.P=!0,Ci(_,c)}i.Za=function(){this.C!=null&&(this.C=null,As(this),Zo(this),se(19))};function ws(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Qu(c,g){var _=null;if(c.g==g){ws(c),Na(c),c.g=null;var b=2}else if(qo(c.h,g))_=g.D,rn(c.h,g),b=1;else return;if(c.G!=0){if(g.o)if(b==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var V=c.B;b=cr(),Qt(b,new Se(b,_)),Ss(c)}else Gu(c);else if(V=g.s,V==3||V==0&&0<g.X||!(b==1&&xh(c,g)||b==2&&Zo(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),V){case 1:ki(c,5);break;case 4:ki(c,10);break;case 3:ki(c,6);break;default:ki(c,2)}}}function Jo(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function ki(c,g){if(c.j.info("Error code "+g),g==2){var _=R(c.fb,c),b=c.Xa;const V=!b;b=new ve(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ba(b,"https"),Aa(b),V?wa(b.toString(),_):qn(b.toString(),_)}else se(2);c.G=0,c.l&&c.l.sa(g),Ku(c),Fu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function Ku(c){if(c.G=0,c.ka=[],c.l){const g=Fo(c.h);(g.length!=0||c.i.length!=0)&&(Y(c.ka,g),Y(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function Xu(c,g,_){var b=_ instanceof ve?gn(_):new ve(_);if(b.g!="")g&&(b.g=g+"."+b.g),gr(b,b.s);else{var V=m.location;b=V.protocol,g=g?g+"."+V.hostname:V.hostname,V=+V.port;var q=new ve(null);b&&ba(q,b),g&&(q.g=g),V&&gr(q,V),_&&(q.l=_),b=q}return _=c.D,g=c.ya,_&&g&&$t(b,_,g),$t(b,"VER",c.la),Oa(c,b),b}function Wu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Gt(new pr({eb:_})):new Gt(c.pa),g.Ha(c.J),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function $u(){}i=$u.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Rs(){}Rs.prototype.g=function(c,g){return new an(c,g)};function an(c,g){fe.call(this),this.g=new bs(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!lt(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!lt(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new li(this)}F(an,fe),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Wo(this.g)},an.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=jn(c),c=_);g.i.push(new Lu(g.Ya++,c)),g.G==3&&Ss(g)},an.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,an.aa.N.call(this)};function Zu(c){Ri.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const _ in g){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}F(Zu,Ri);function Ju(){Lo.call(this),this.status=1}F(Ju,Lo);function li(c){this.g=c}F(li,$u),li.prototype.ua=function(){Qt(this.g,"a")},li.prototype.ta=function(c){Qt(this.g,new Zu(c))},li.prototype.sa=function(c){Qt(this.g,new Ju)},li.prototype.ra=function(){Qt(this.g,"b")},Rs.prototype.createWebChannel=Rs.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,Ob=function(){return new Rs},Db=function(){return cr()},Cb=Jn,ug={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dr.NO_ERROR=0,dr.TIMEOUT=8,dr.HTTP_ERROR=6,mf=dr,Ii.COMPLETE="complete",Ib=Ii,Uo.EventType=wi,wi.OPEN="a",wi.CLOSE="b",wi.ERROR="c",wi.MESSAGE="d",fe.prototype.listen=fe.prototype.K,Gl=Uo,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,Rb=Gt}).apply(typeof ef<"u"?ef:typeof self<"u"?self:typeof window<"u"?window:{});const Q0="@firebase/firestore",K0="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new Xg("@firebase/firestore");function no(){return is.logLevel}function st(i,...t){if(is.logLevel<=kt.DEBUG){const e=t.map(up);is.debug(`Firestore (${Ro}): ${i}`,...e)}}function er(i,...t){if(is.logLevel<=kt.ERROR){const e=t.map(up);is.error(`Firestore (${Ro}): ${i}`,...e)}}function po(i,...t){if(is.logLevel<=kt.WARN){const e=t.map(up);is.warn(`Firestore (${Ro}): ${i}`,...e)}}function up(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(i="Unexpected state"){const t=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: `+i;throw er(t),new Error(t)}function Yt(i,t){i||Et()}function wt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends sr{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class dC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Ze.UNAUTHENTICATED))}shutdown(){}}class mC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class gC{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Yt(this.o===void 0);let a=this.i;const o=p=>this.i!==a?(a=this.i,e(p)):Promise.resolve();let u=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Wr,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Wr)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(a=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Yt(typeof a.accessToken=="string"),new Nb(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string"),new Ze(t)}}class pC{constructor(t,e,a){this.l=t,this.h=e,this.P=a,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class yC{constructor(t,e,a){this.l=t,this.h=e,this.P=a}getToken(){return Promise.resolve(new pC(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class X0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _C{constructor(t,e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Qn(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,e){Yt(this.o===void 0);const a=u=>{u.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,st("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>a(u))};const o=u=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new X0(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Yt(typeof e.token=="string"),this.R=e.token,new X0(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let a=0;a<i;a++)e[a]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=vC(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<e&&(a+=t.charAt(o[u]%62))}return a}}function Dt(i,t){return i<t?-1:i>t?1:0}function cg(i,t){let e=0;for(;e<i.length&&e<t.length;){const a=i.codePointAt(e),o=t.codePointAt(e);if(a!==o){if(a<128&&o<128)return Dt(a,o);{const u=Mb(),h=TC(u.encode(W0(i,e)),u.encode(W0(t,e)));return h!==0?h:Dt(a,o)}}e+=a>65535?2:1}return Dt(i.length,t.length)}function W0(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function TC(i,t){for(let e=0;e<i.length&&e<t.length;++e)if(i[e]!==t[e])return Dt(i[e],t[e]);return Dt(i.length,t.length)}function yo(i,t,e){return i.length===t.length&&i.every((a,o)=>e(a,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=-62135596800,Z0=1e6;class De{static now(){return De.fromMillis(Date.now())}static fromDate(t){return De.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),a=Math.floor((t-1e3*e)*Z0);return new De(e,a)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ot(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ot(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<$0)throw new ot(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z0}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-$0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new De(0,0))}static max(){return new St(new De(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="__name__";class gi{constructor(t,e,a){e===void 0?e=0:e>t.length&&Et(),a===void 0?a=t.length-e:a>t.length-e&&Et(),this.segments=t,this.offset=e,this.len=a}get length(){return this.len}isEqual(t){return gi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof gi?t.forEach(a=>{e.push(a)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,a=this.limit();e<a;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const a=Math.min(t.length,e.length);for(let o=0;o<a;o++){const u=gi.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return Dt(t.length,e.length)}static compareSegments(t,e){const a=gi.isNumericId(t),o=gi.isNumericId(e);return a&&!o?-1:!a&&o?1:a&&o?gi.extractNumericId(t).compare(gi.extractNumericId(e)):cg(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Xr.fromString(t.substring(4,t.length-2))}}class re extends gi{construct(t,e,a){return new re(t,e,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const a of t){if(a.indexOf("//")>=0)throw new ot(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);e.push(...a.split("/").filter(o=>o.length>0))}return new re(e)}static emptyPath(){return new re([])}}const EC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends gi{construct(t,e,a){return new Ye(t,e,a)}static isValidIdentifier(t){return EC.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===J0}static keyField(){return new Ye([J0])}static fromServerFormat(t){const e=[];let a="",o=0;const u=()=>{if(a.length===0)throw new ot(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(a),a=""};let h=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ot(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ot(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(a+=m,o++):(u(),o++)}if(u(),h)throw new ot(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(e)}static emptyPath(){return new Ye([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt(re.fromString(t))}static fromName(t){return new gt(re.fromString(t).popFirst(5))}static empty(){return new gt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return re.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new re(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=-1;function bC(i,t){const e=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,o=St.fromTimestamp(a===1e9?new De(e+1,0):new De(e,a));return new Zr(o,gt.empty(),t)}function AC(i){return new Zr(i.readTime,i.key,au)}class Zr{constructor(t,e,a){this.readTime=t,this.documentKey=e,this.largestBatchId=a}static min(){return new Zr(St.min(),gt.empty(),au)}static max(){return new Zr(St.max(),gt.empty(),au)}}function SC(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=gt.comparator(i.documentKey,t.documentKey),e!==0?e:Dt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(i){if(i.code!==X.FAILED_PRECONDITION||i.message!==wC)throw i;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new W((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(a,o)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof W?e:W.resolve(e)}catch(e){return W.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):W.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):W.reject(e)}static resolve(t){return new W((e,a)=>{e(t)})}static reject(t){return new W((e,a)=>{a(t)})}static waitFor(t){return new W((e,a)=>{let o=0,u=0,h=!1;t.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&e()},p=>a(p))}),h=!0,u===o&&e()})}static or(t){let e=W.resolve(!1);for(const a of t)e=e.next(o=>o?W.resolve(o):a());return e}static forEach(t,e){const a=[];return t.forEach((o,u)=>{a.push(e.call(this,o,u))}),this.waitFor(a)}static mapArray(t,e){return new W((a,o)=>{const u=t.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;e(t[y]).next(T=>{h[y]=T,++m,m===u&&a(h)},T=>o(T))}})}static doWhile(t,e){return new W((a,o)=>{const u=()=>{t()===!0?e().next(()=>{u()},o):a()};u()})}}function IC(i){const t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Co(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=a=>this.oe(a),this._e=a=>e.writeSequenceNumber(a))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}$f.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp=-1;function Zf(i){return i==null}function Mf(i){return i===0&&1/i==-1/0}function CC(i){return typeof i=="number"&&Number.isInteger(i)&&!Mf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="";function DC(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=tT(t)),t=OC(i.get(e),t);return tT(t)}function OC(i,t){let e=t;const a=i.length;for(let o=0;o<a;o++){const u=i.charAt(o);switch(u){case"\0":e+="";break;case Pb:e+="";break;default:e+=u}}return e}function tT(i){return i+Pb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function la(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function kb(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t,e){this.comparator=t,this.root=e||Ge.EMPTY}insert(t,e){return new ue(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const a=this.comparator(t,e.key);if(a===0)return e.value;a<0?e=e.left:a>0&&(e=e.right)}return null}indexOf(t){let e=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return e+a.left.size;o<0?a=a.left:(e+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,a)=>(t(e,a),!1))}toString(){const t=[];return this.inorderTraversal((e,a)=>(t.push(`${e}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new nf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new nf(this.root,t,this.comparator,!1)}getReverseIterator(){return new nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new nf(this.root,t,this.comparator,!0)}}class nf{constructor(t,e,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?a(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,e,a,o,u){this.key=t,this.value=e,this.color=a??Ge.RED,this.left=o??Ge.EMPTY,this.right=u??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,a,o,u){return new Ge(t??this.key,e??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,a){let o=this;const u=a(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,a),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let a,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const t=this.left.check();if(t!==this.right.check())throw Et();return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(t,e,a,o,u){return this}insert(t,e,a){return new Ge(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,a)=>(t(e),!1))}forEachInRange(t,e){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let a;for(a=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new nT(this.data.getIterator())}getIteratorFrom(t){return new nT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(a=>{e=e.add(a)}),e}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const e=this.data.getIterator(),a=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Oe(this.comparator);return e.data=t,e}}class nT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new An([])}unionWith(t){let e=new Oe(Ye.comparator);for(const a of this.fields)e=e.add(a);for(const a of t)e=e.add(a);return new An(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return yo(this.fields,t.fields,(e,a)=>e.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Vb("Invalid base64 string: "+u):u}}(t);return new Qe(e)}static fromUint8Array(t){const e=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(t);return new Qe(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const a=new Uint8Array(e.length);for(let o=0;o<e.length;o++)a[o]=e.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const NC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(i){if(Yt(!!i),typeof i=="string"){let t=0;const e=NC.exec(i);if(Yt(!!e),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ye(i.seconds),nanos:ye(i.nanos)}}function ye(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ta(i){return typeof i=="string"?Qe.fromBase64String(i):Qe.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="server_timestamp",Lb="__type__",zb="__previous_value__",jb="__local_write_time__";function fp(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[Lb])===null||e===void 0?void 0:e.stringValue)===Ub}function Jf(i){const t=i.mapValue.fields[zb];return fp(t)?Jf(t):t}function su(i){const t=Jr(i.mapValue.fields[jb].timestampValue);return new De(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(t,e,a,o,u,h,m,p,y){this.databaseId=t,this.appId=e,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const xf="(default)";class ou{constructor(t,e){this.projectId=t,this.database=e||xf}static empty(){return new ou("","")}get isDefaultDatabase(){return this.database===xf}isEqual(t){return t instanceof ou&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="__type__",xC="__max__",rf={mapValue:{}},qb="__vector__",Pf="value";function ea(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?fp(i)?4:kC(i)?9007199254740991:PC(i)?10:11:Et()}function Ai(i,t){if(i===t)return!0;const e=ea(i);if(e!==ea(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return su(i).isEqual(su(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Jr(o.timestampValue),m=Jr(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(o,u){return ta(o.bytesValue).isEqual(ta(u.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(o,u){return ye(o.geoPointValue.latitude)===ye(u.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(u.geoPointValue.longitude)}(i,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ye(o.integerValue)===ye(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=ye(o.doubleValue),m=ye(u.doubleValue);return h===m?Mf(h)===Mf(m):isNaN(h)&&isNaN(m)}return!1}(i,t);case 9:return yo(i.arrayValue.values||[],t.arrayValue.values||[],Ai);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(eT(h)!==eT(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Ai(h[p],m[p])))return!1;return!0}(i,t);default:return Et()}}function lu(i,t){return(i.values||[]).find(e=>Ai(e,t))!==void 0}function _o(i,t){if(i===t)return 0;const e=ea(i),a=ea(t);if(e!==a)return Dt(e,a);switch(e){case 0:case 9007199254740991:return 0;case 1:return Dt(i.booleanValue,t.booleanValue);case 2:return function(u,h){const m=ye(u.integerValue||u.doubleValue),p=ye(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,t);case 3:return iT(i.timestampValue,t.timestampValue);case 4:return iT(su(i),su(t));case 5:return cg(i.stringValue,t.stringValue);case 6:return function(u,h){const m=ta(u),p=ta(h);return m.compareTo(p)}(i.bytesValue,t.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let y=0;y<m.length&&y<p.length;y++){const T=Dt(m[y],p[y]);if(T!==0)return T}return Dt(m.length,p.length)}(i.referenceValue,t.referenceValue);case 8:return function(u,h){const m=Dt(ye(u.latitude),ye(h.latitude));return m!==0?m:Dt(ye(u.longitude),ye(h.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return rT(i.arrayValue,t.arrayValue);case 10:return function(u,h){var m,p,y,T;const S=u.fields||{},R=h.fields||{},z=(m=S[Pf])===null||m===void 0?void 0:m.arrayValue,F=(p=R[Pf])===null||p===void 0?void 0:p.arrayValue,$=Dt(((y=z==null?void 0:z.values)===null||y===void 0?void 0:y.length)||0,((T=F==null?void 0:F.values)===null||T===void 0?void 0:T.length)||0);return $!==0?$:rT(z,F)}(i.mapValue,t.mapValue);case 11:return function(u,h){if(u===rf.mapValue&&h===rf.mapValue)return 0;if(u===rf.mapValue)return 1;if(h===rf.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=h.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let S=0;S<p.length&&S<T.length;++S){const R=cg(p[S],T[S]);if(R!==0)return R;const z=_o(m[p[S]],y[T[S]]);if(z!==0)return z}return Dt(p.length,T.length)}(i.mapValue,t.mapValue);default:throw Et()}}function iT(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Dt(i,t);const e=Jr(i),a=Jr(t),o=Dt(e.seconds,a.seconds);return o!==0?o:Dt(e.nanos,a.nanos)}function rT(i,t){const e=i.values||[],a=t.values||[];for(let o=0;o<e.length&&o<a.length;++o){const u=_o(e[o],a[o]);if(u)return u}return Dt(e.length,a.length)}function vo(i){return fg(i)}function fg(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(e){const a=Jr(e);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(e){return ta(e).toBase64()}(i.bytesValue):"referenceValue"in i?function(e){return gt.fromName(e).toString()}(i.referenceValue):"geoPointValue"in i?function(e){return`geo(${e.latitude},${e.longitude})`}(i.geoPointValue):"arrayValue"in i?function(e){let a="[",o=!0;for(const u of e.values||[])o?o=!1:a+=",",a+=fg(u);return a+"]"}(i.arrayValue):"mapValue"in i?function(e){const a=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const h of a)u?u=!1:o+=",",o+=`${h}:${fg(e.fields[h])}`;return o+"}"}(i.mapValue):Et()}function gf(i){switch(ea(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Jf(i);return t?16+gf(t):16;case 5:return 2*i.stringValue.length;case 6:return ta(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+gf(u),0)}(i.arrayValue);case 10:case 11:return function(a){let o=0;return la(a.fields,(u,h)=>{o+=u.length+gf(h)}),o}(i.mapValue);default:throw Et()}}function aT(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function hg(i){return!!i&&"integerValue"in i}function hp(i){return!!i&&"arrayValue"in i}function sT(i){return!!i&&"nullValue"in i}function oT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function pf(i){return!!i&&"mapValue"in i}function PC(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[Bb])===null||e===void 0?void 0:e.stringValue)===qb}function $l(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return la(i.mapValue.fields,(e,a)=>t.mapValue.fields[e]=$l(a)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=$l(i.arrayValue.values[e]);return t}return Object.assign({},i)}function kC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===xC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t){this.value=t}static empty(){return new hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let a=0;a<t.length-1;++a)if(e=(e.mapValue.fields||{})[t.get(a)],!pf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=$l(e)}setAll(t){let e=Ye.emptyPath(),a={},o=[];t.forEach((h,m)=>{if(!e.isImmediateParentOf(m)){const p=this.getFieldsMap(e);this.applyChanges(p,a,o),a={},o=[],e=m.popLast()}h?a[m.lastSegment()]=$l(h):o.push(m.lastSegment())});const u=this.getFieldsMap(e);this.applyChanges(u,a,o)}delete(t){const e=this.field(t.popLast());pf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ai(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=e.mapValue.fields[t.get(a)];pf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(a)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,a){la(e,(o,u)=>t[o]=u);for(const o of a)delete t[o]}clone(){return new hn($l(this.value))}}function Fb(i){const t=[];return la(i.fields,(e,a)=>{const o=new Ye([e]);if(pf(a)){const u=Fb(a.mapValue).fields;if(u.length===0)t.push(o);else for(const h of u)t.push(o.child(h))}else t.push(o)}),new An(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t,e,a,o,u,h,m){this.key=t,this.documentType=e,this.version=a,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(t){return new Je(t,0,St.min(),St.min(),St.min(),hn.empty(),0)}static newFoundDocument(t,e,a,o){return new Je(t,1,e,St.min(),a,o,0)}static newNoDocument(t,e){return new Je(t,2,e,St.min(),St.min(),hn.empty(),0)}static newUnknownDocument(t,e){return new Je(t,3,e,St.min(),St.min(),hn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(t,e){this.position=t,this.inclusive=e}}function lT(i,t,e){let a=0;for(let o=0;o<i.position.length;o++){const u=t[o],h=i.position[o];if(u.field.isKeyField()?a=gt.comparator(gt.fromName(h.referenceValue),e.key):a=_o(h,e.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function uT(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!Ai(i.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(t,e="asc"){this.field=t,this.dir=e}}function VC(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{}class Ae extends Hb{constructor(t,e,a){super(),this.field=t,this.op=e,this.value=a}static create(t,e,a){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,a):new LC(t,e,a):e==="array-contains"?new BC(t,a):e==="in"?new qC(t,a):e==="not-in"?new FC(t,a):e==="array-contains-any"?new HC(t,a):new Ae(t,e,a)}static createKeyFieldInFilter(t,e,a){return e==="in"?new zC(t,a):new jC(t,a)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&this.matchesComparison(_o(e,this.value)):e!==null&&ea(this.value)===ea(e)&&this.matchesComparison(_o(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends Hb{constructor(t,e){super(),this.filters=t,this.op=e,this.ce=null}static create(t,e){return new $n(t,e)}matches(t){return Gb(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Gb(i){return i.op==="and"}function Yb(i){return UC(i)&&Gb(i)}function UC(i){for(const t of i.filters)if(t instanceof $n)return!1;return!0}function dg(i){if(i instanceof Ae)return i.field.canonicalString()+i.op.toString()+vo(i.value);if(Yb(i))return i.filters.map(t=>dg(t)).join(",");{const t=i.filters.map(e=>dg(e)).join(",");return`${i.op}(${t})`}}function Qb(i,t){return i instanceof Ae?function(a,o){return o instanceof Ae&&a.op===o.op&&a.field.isEqual(o.field)&&Ai(a.value,o.value)}(i,t):i instanceof $n?function(a,o){return o instanceof $n&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,h,m)=>u&&Qb(h,o.filters[m]),!0):!1}(i,t):void Et()}function Kb(i){return i instanceof Ae?function(e){return`${e.field.canonicalString()} ${e.op} ${vo(e.value)}`}(i):i instanceof $n?function(e){return e.op.toString()+" {"+e.getFilters().map(Kb).join(" ,")+"}"}(i):"Filter"}class LC extends Ae{constructor(t,e,a){super(t,e,a),this.key=gt.fromName(a.referenceValue)}matches(t){const e=gt.comparator(t.key,this.key);return this.matchesComparison(e)}}class zC extends Ae{constructor(t,e){super(t,"in",e),this.keys=Xb("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class jC extends Ae{constructor(t,e){super(t,"not-in",e),this.keys=Xb("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Xb(i,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(a=>gt.fromName(a.referenceValue))}class BC extends Ae{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return hp(e)&&lu(e.arrayValue,this.value)}}class qC extends Ae{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&lu(this.value.arrayValue,e)}}class FC extends Ae{constructor(t,e){super(t,"not-in",e)}matches(t){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&!lu(this.value.arrayValue,e)}}class HC extends Ae{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!hp(e)||!e.arrayValue.values)&&e.arrayValue.values.some(a=>lu(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(t,e=null,a=[],o=[],u=null,h=null,m=null){this.path=t,this.collectionGroup=e,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.le=null}}function cT(i,t=null,e=[],a=[],o=null,u=null,h=null){return new GC(i,t,e,a,o,u,h)}function dp(i){const t=wt(i);if(t.le===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(a=>dg(a)).join(","),e+="|ob:",e+=t.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),Zf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(a=>vo(a)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(a=>vo(a)).join(",")),t.le=e}return t.le}function mp(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!VC(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!Qb(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!uT(i.startAt,t.startAt)&&uT(i.endAt,t.endAt)}function mg(i){return gt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(t,e=null,a=[],o=[],u=null,h="F",m=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function YC(i,t,e,a,o,u,h,m){return new Eu(i,t,e,a,o,u,h,m)}function th(i){return new Eu(i)}function fT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Wb(i){return i.collectionGroup!==null}function Zl(i){const t=wt(i);if(t.he===null){t.he=[];const e=new Set;for(const u of t.explicitOrderBy)t.he.push(u),e.add(u.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Oe(Ye.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(u=>{e.has(u.canonicalString())||u.isKeyField()||t.he.push(new Vf(u,a))}),e.has(Ye.keyField().canonicalString())||t.he.push(new Vf(Ye.keyField(),a))}return t.he}function Ti(i){const t=wt(i);return t.Pe||(t.Pe=QC(t,Zl(i))),t.Pe}function QC(i,t){if(i.limitType==="F")return cT(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Vf(o.field,u)});const e=i.endAt?new kf(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new kf(i.startAt.position,i.startAt.inclusive):null;return cT(i.path,i.collectionGroup,t,i.filters,i.limit,e,a)}}function gg(i,t){const e=i.filters.concat([t]);return new Eu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),e,i.limit,i.limitType,i.startAt,i.endAt)}function pg(i,t,e){return new Eu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function eh(i,t){return mp(Ti(i),Ti(t))&&i.limitType===t.limitType}function $b(i){return`${dp(Ti(i))}|lt:${i.limitType}`}function io(i){return`Query(target=${function(e){let a=e.path.canonicalString();return e.collectionGroup!==null&&(a+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(a+=`, filters: [${e.filters.map(o=>Kb(o)).join(", ")}]`),Zf(e.limit)||(a+=", limit: "+e.limit),e.orderBy.length>0&&(a+=`, orderBy: [${e.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),e.startAt&&(a+=", startAt: ",a+=e.startAt.inclusive?"b:":"a:",a+=e.startAt.position.map(o=>vo(o)).join(",")),e.endAt&&(a+=", endAt: ",a+=e.endAt.inclusive?"a:":"b:",a+=e.endAt.position.map(o=>vo(o)).join(",")),`Target(${a})`}(Ti(i))}; limitType=${i.limitType})`}function nh(i,t){return t.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):gt.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(i,t)&&function(a,o){for(const u of Zl(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,t)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(i,t)&&function(a,o){return!(a.startAt&&!function(h,m,p){const y=lT(h,m,p);return h.inclusive?y<=0:y<0}(a.startAt,Zl(a),o)||a.endAt&&!function(h,m,p){const y=lT(h,m,p);return h.inclusive?y>=0:y>0}(a.endAt,Zl(a),o))}(i,t)}function KC(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Zb(i){return(t,e)=>{let a=!1;for(const o of Zl(i)){const u=XC(o,t,e);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function XC(i,t,e){const a=i.field.isKeyField()?gt.comparator(t.key,e.key):function(u,h,m){const p=h.data.field(u),y=m.data.field(u);return p!==null&&y!==null?_o(p,y):Et()}(i.field,t,e);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return Et()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),a=this.inner[e];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),a=this.inner[e];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[e]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){la(this.inner,(e,a)=>{for(const[o,u]of a)t(o,u)})}isEmpty(){return kb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=new ue(gt.comparator);function nr(){return WC}const Jb=new ue(gt.comparator);function Yl(...i){let t=Jb;for(const e of i)t=t.insert(e.key,e);return t}function tA(i){let t=Jb;return i.forEach((e,a)=>t=t.insert(e,a.overlayedDocument)),t}function Wa(){return Jl()}function eA(){return Jl()}function Jl(){return new os(i=>i.toString(),(i,t)=>i.isEqual(t))}const $C=new ue(gt.comparator),ZC=new Oe(gt.comparator);function Vt(...i){let t=ZC;for(const e of i)t=t.add(e);return t}const JC=new Oe(Dt);function tD(){return JC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mf(t)?"-0":t}}function nA(i){return{integerValue:""+i}}function eD(i,t){return CC(t)?nA(t):gp(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(){this._=void 0}}function nD(i,t,e){return i instanceof uu?function(o,u){const h={fields:{[Lb]:{stringValue:Ub},[jb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&fp(u)&&(u=Jf(u)),u&&(h.fields[zb]=u),{mapValue:h}}(e,t):i instanceof cu?rA(i,t):i instanceof fu?aA(i,t):function(o,u){const h=iA(o,u),m=hT(h)+hT(o.Ie);return hg(h)&&hg(o.Ie)?nA(m):gp(o.serializer,m)}(i,t)}function iD(i,t,e){return i instanceof cu?rA(i,t):i instanceof fu?aA(i,t):e}function iA(i,t){return i instanceof Uf?function(a){return hg(a)||function(u){return!!u&&"doubleValue"in u}(a)}(t)?t:{integerValue:0}:null}class uu extends ih{}class cu extends ih{constructor(t){super(),this.elements=t}}function rA(i,t){const e=sA(t);for(const a of i.elements)e.some(o=>Ai(o,a))||e.push(a);return{arrayValue:{values:e}}}class fu extends ih{constructor(t){super(),this.elements=t}}function aA(i,t){let e=sA(t);for(const a of i.elements)e=e.filter(o=>!Ai(o,a));return{arrayValue:{values:e}}}class Uf extends ih{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function hT(i){return ye(i.integerValue||i.doubleValue)}function sA(i){return hp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(t,e){this.field=t,this.transform=e}}function aD(i,t){return i.field.isEqual(t.field)&&function(a,o){return a instanceof cu&&o instanceof cu||a instanceof fu&&o instanceof fu?yo(a.elements,o.elements,Ai):a instanceof Uf&&o instanceof Uf?Ai(a.Ie,o.Ie):a instanceof uu&&o instanceof uu}(i.transform,t.transform)}class sD{constructor(t,e){this.version=t,this.transformResults=e}}class dn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new dn}static exists(t){return new dn(void 0,t)}static updateTime(t){return new dn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function yf(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class rh{}function oA(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new ah(i.key,dn.none()):new bu(i.key,i.data,dn.none());{const e=i.data,a=hn.empty();let o=new Oe(Ye.comparator);for(let u of t.fields)if(!o.has(u)){let h=e.field(u);h===null&&u.length>1&&(u=u.popLast(),h=e.field(u)),h===null?a.delete(u):a.set(u,h),o=o.add(u)}return new ua(i.key,a,new An(o.toArray()),dn.none())}}function oD(i,t,e){i instanceof bu?function(o,u,h){const m=o.value.clone(),p=mT(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,t,e):i instanceof ua?function(o,u,h){if(!yf(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=mT(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(lA(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,t,e):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,e)}function tu(i,t,e,a){return i instanceof bu?function(u,h,m,p){if(!yf(u.precondition,h))return m;const y=u.value.clone(),T=gT(u.fieldTransforms,p,h);return y.setAll(T),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(i,t,e,a):i instanceof ua?function(u,h,m,p){if(!yf(u.precondition,h))return m;const y=gT(u.fieldTransforms,p,h),T=h.data;return T.setAll(lA(u)),T.setAll(y),h.convertToFoundDocument(h.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(i,t,e,a):function(u,h,m){return yf(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,t,e)}function lD(i,t){let e=null;for(const a of i.fieldTransforms){const o=t.data.field(a.field),u=iA(a.transform,o||null);u!=null&&(e===null&&(e=hn.empty()),e.set(a.field,u))}return e||null}function dT(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&yo(a,o,(u,h)=>aD(u,h))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class bu extends rh{constructor(t,e,a,o=[]){super(),this.key=t,this.value=e,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ua extends rh{constructor(t,e,a,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function lA(i){const t=new Map;return i.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const a=i.data.field(e);t.set(e,a)}}),t}function mT(i,t,e){const a=new Map;Yt(i.length===e.length);for(let o=0;o<e.length;o++){const u=i[o],h=u.transform,m=t.data.field(u.field);a.set(u.field,iD(h,m,e[o]))}return a}function gT(i,t,e){const a=new Map;for(const o of i){const u=o.transform,h=e.data.field(o.field);a.set(o.field,nD(u,h,t))}return a}class ah extends rh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uD extends rh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(t,e,a,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,e){const a=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&oD(u,t,a[o])}}applyToLocalView(t,e){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(e=tu(a,t,e,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(e=tu(a,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const a=eA();return this.mutations.forEach(o=>{const u=t.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=e.has(o.key)?null:m;const p=oA(h,m);p!==null&&a.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(St.min())}),a}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Vt())}isEqual(t){return this.batchId===t.batchId&&yo(this.mutations,t.mutations,(e,a)=>dT(e,a))&&yo(this.baseMutations,t.baseMutations,(e,a)=>dT(e,a))}}class pp{constructor(t,e,a,o){this.batch=t,this.commitVersion=e,this.mutationResults=a,this.docVersions=o}static from(t,e,a){Yt(t.mutations.length===a.length);let o=function(){return $C}();const u=t.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,a[h].version);return new pp(t,e,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be,jt;function dD(i){switch(i){case X.OK:return Et();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Et()}}function uA(i){if(i===void 0)return er("GRPC error has no .code"),X.UNKNOWN;switch(i){case be.OK:return X.OK;case be.CANCELLED:return X.CANCELLED;case be.UNKNOWN:return X.UNKNOWN;case be.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case be.INTERNAL:return X.INTERNAL;case be.UNAVAILABLE:return X.UNAVAILABLE;case be.UNAUTHENTICATED:return X.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case be.NOT_FOUND:return X.NOT_FOUND;case be.ALREADY_EXISTS:return X.ALREADY_EXISTS;case be.PERMISSION_DENIED:return X.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case be.ABORTED:return X.ABORTED;case be.OUT_OF_RANGE:return X.OUT_OF_RANGE;case be.UNIMPLEMENTED:return X.UNIMPLEMENTED;case be.DATA_LOSS:return X.DATA_LOSS;default:return Et()}}(jt=be||(be={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=new Xr([4294967295,4294967295],0);function pT(i){const t=Mb().encode(i),e=new wb;return e.update(t),new Uint8Array(e.digest())}function yT(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Xr([e,a],0),new Xr([o,u],0)]}class yp{constructor(t,e,a){if(this.bitmap=t,this.padding=e,this.hashCount=a,e<0||e>=8)throw new Ql(`Invalid padding: ${e}`);if(a<0)throw new Ql(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${a}`);if(t.length===0&&e!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${e}`);this.Ee=8*t.length-e,this.de=Xr.fromNumber(this.Ee)}Ae(t,e,a){let o=t.add(e.multiply(Xr.fromNumber(a)));return o.compare(mD)===1&&(o=new Xr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const e=pT(t),[a,o]=yT(e);for(let u=0;u<this.hashCount;u++){const h=this.Ae(a,o,u);if(!this.Re(h))return!1}return!0}static create(t,e,a){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new yp(u,o,e);return a.forEach(m=>h.insert(m)),h}insert(t){if(this.Ee===0)return;const e=pT(t),[a,o]=yT(e);for(let u=0;u<this.hashCount;u++){const h=this.Ae(a,o,u);this.Ve(h)}}Ve(t){const e=Math.floor(t/8),a=t%8;this.bitmap[e]|=1<<a}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(t,e,a,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,a){const o=new Map;return o.set(t,Au.createSynthesizedTargetChangeForCurrentChange(t,e,a)),new sh(St.min(),o,new ue(Dt),nr(),Vt())}}class Au{constructor(t,e,a,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,a){return new Au(a,e,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(t,e,a,o){this.me=t,this.removedTargetIds=e,this.key=a,this.fe=o}}class cA{constructor(t,e){this.targetId=t,this.ge=e}}class fA{constructor(t,e,a=Qe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=a,this.cause=o}}class _T{constructor(){this.pe=0,this.ye=vT(),this.we=Qe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Vt(),e=Vt(),a=Vt();return this.ye.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:a=a.add(o);break;default:Et()}}),new Au(this.we,this.Se,t,e,a)}Me(){this.be=!1,this.ye=vT()}xe(t,e){this.be=!0,this.ye=this.ye.insert(t,e)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Yt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class gD{constructor(t){this.ke=t,this.qe=new Map,this.Qe=nr(),this.$e=af(),this.Ue=af(),this.Ke=new ue(Dt)}We(t){for(const e of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(e,t.fe):this.ze(e,t.key,t.fe);for(const e of t.removedTargetIds)this.ze(e,t.key,t.fe)}je(t){this.forEachTarget(t,e=>{const a=this.He(e);switch(t.state){case 0:this.Je(e)&&a.Ce(t.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(t.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(e);break;case 3:this.Je(e)&&(a.Le(),a.Ce(t.resumeToken));break;case 4:this.Je(e)&&(this.Ye(e),a.Ce(t.resumeToken));break;default:Et()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.qe.forEach((a,o)=>{this.Je(o)&&e(o)})}Ze(t){const e=t.targetId,a=t.ge.count,o=this.Xe(e);if(o){const u=o.target;if(mg(u))if(a===0){const h=new gt(u.path);this.ze(e,h,Je.newNoDocument(h,St.min()))}else Yt(a===1);else{const h=this.et(e);if(h!==a){const m=this.tt(t),p=m?this.nt(m,t,h):1;if(p!==0){this.Ye(e);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(e,y)}}}}}tt(t){const e=t.ge.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=e;let h,m;try{h=ta(a).toUint8Array()}catch(p){if(p instanceof Vb)return po("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new yp(h,o,u)}catch(p){return po(p instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(t,e,a){return e.ge.count===a-this.st(t,e.targetId)?0:2}st(t,e){const a=this.ke.getRemoteKeysForTarget(e);let o=0;return a.forEach(u=>{const h=this.ke.it(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.ze(e,u,null),o++)}),o}ot(t){const e=new Map;this.qe.forEach((u,h)=>{const m=this.Xe(h);if(m){if(u.current&&mg(m.target)){const p=new gt(m.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,Je.newNoDocument(p,t))}u.ve&&(e.set(h,u.Fe()),u.Me())}});let a=Vt();this.Ue.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(t));const o=new sh(t,e,this.Ke,this.Qe,a);return this.Qe=nr(),this.$e=af(),this.Ue=af(),this.Ke=new ue(Dt),o}Ge(t,e){if(!this.Je(t))return;const a=this.ut(t,e.key)?2:0;this.He(t).xe(e.key,a),this.Qe=this.Qe.insert(e.key,e),this.$e=this.$e.insert(e.key,this._t(e.key).add(t)),this.Ue=this.Ue.insert(e.key,this.ct(e.key).add(t))}ze(t,e,a){if(!this.Je(t))return;const o=this.He(t);this.ut(t,e)?o.xe(e,1):o.Oe(e),this.Ue=this.Ue.insert(e,this.ct(e).delete(t)),this.Ue=this.Ue.insert(e,this.ct(e).add(t)),a&&(this.Qe=this.Qe.insert(e,a))}removeTarget(t){this.qe.delete(t)}et(t){const e=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let e=this.qe.get(t);return e||(e=new _T,this.qe.set(t,e)),e}ct(t){let e=this.Ue.get(t);return e||(e=new Oe(Dt),this.Ue=this.Ue.insert(t,e)),e}_t(t){let e=this.$e.get(t);return e||(e=new Oe(Dt),this.$e=this.$e.insert(t,e)),e}Je(t){const e=this.Xe(t)!==null;return e||st("WatchChangeAggregator","Detected inactive target",t),e}Xe(t){const e=this.qe.get(t);return e&&e.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new _T),this.ke.getRemoteKeysForTarget(t).forEach(e=>{this.ze(t,e,null)})}ut(t,e){return this.ke.getRemoteKeysForTarget(t).has(e)}}function af(){return new ue(gt.comparator)}function vT(){return new ue(gt.comparator)}const pD={asc:"ASCENDING",desc:"DESCENDING"},yD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_D={and:"AND",or:"OR"};class vD{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function yg(i,t){return i.useProto3Json||Zf(t)?t:{value:t}}function Lf(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function hA(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function TD(i,t){return Lf(i,t.toTimestamp())}function Ei(i){return Yt(!!i),St.fromTimestamp(function(e){const a=Jr(e);return new De(a.seconds,a.nanos)}(i))}function _p(i,t){return _g(i,t).canonicalString()}function _g(i,t){const e=function(o){return new re(["projects",o.projectId,"databases",o.database])}(i).child("documents");return t===void 0?e:e.child(t)}function dA(i){const t=re.fromString(i);return Yt(_A(t)),t}function vg(i,t){return _p(i.databaseId,t.path)}function Um(i,t){const e=dA(t);if(e.get(1)!==i.databaseId.projectId)throw new ot(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new ot(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new gt(gA(e))}function mA(i,t){return _p(i.databaseId,t)}function ED(i){const t=dA(i);return t.length===4?re.emptyPath():gA(t)}function Tg(i){return new re(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function gA(i){return Yt(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function TT(i,t,e){return{name:vg(i,t),fields:e.value.mapValue.fields}}function bD(i,t){let e;if("targetChange"in t){t.targetChange;const a=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Et()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(y,T){return y.useProto3Json?(Yt(T===void 0||typeof T=="string"),Qe.fromBase64String(T||"")):(Yt(T===void 0||T instanceof Buffer||T instanceof Uint8Array),Qe.fromUint8Array(T||new Uint8Array))}(i,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&function(y){const T=y.code===void 0?X.UNKNOWN:uA(y.code);return new ot(T,y.message||"")}(h);e=new fA(a,o,u,m||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Um(i,a.document.name),u=Ei(a.document.updateTime),h=a.document.createTime?Ei(a.document.createTime):St.min(),m=new hn({mapValue:{fields:a.document.fields}}),p=Je.newFoundDocument(o,u,h,m),y=a.targetIds||[],T=a.removedTargetIds||[];e=new _f(y,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Um(i,a.document),u=a.readTime?Ei(a.readTime):St.min(),h=Je.newNoDocument(o,u),m=a.removedTargetIds||[];e=new _f([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Um(i,a.document),u=a.removedTargetIds||[];e=new _f([],u,o,null)}else{if(!("filter"in t))return Et();{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,h=new hD(o,u),m=a.targetId;e=new cA(m,h)}}return e}function AD(i,t){let e;if(t instanceof bu)e={update:TT(i,t.key,t.value)};else if(t instanceof ah)e={delete:vg(i,t.key)};else if(t instanceof ua)e={update:TT(i,t.key,t.data),updateMask:MD(t.fieldMask)};else{if(!(t instanceof uD))return Et();e={verify:vg(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(a=>function(u,h){const m=h.transform;if(m instanceof uu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof cu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof fu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Uf)return{fieldPath:h.field.canonicalString(),increment:m.Ie};throw Et()}(0,a))),t.precondition.isNone||(e.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:TD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Et()}(i,t.precondition)),e}function SD(i,t){return i&&i.length>0?(Yt(t!==void 0),i.map(e=>function(o,u){let h=o.updateTime?Ei(o.updateTime):Ei(u);return h.isEqual(St.min())&&(h=Ei(u)),new sD(h,o.transformResults||[])}(e,t))):[]}function wD(i,t){return{documents:[mA(i,t.path)]}}function RD(i,t){const e={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),e.structuredQuery.from=[{collectionId:a.lastSegment()}]),e.parent=mA(i,o);const u=function(y){if(y.length!==0)return yA($n.create(y,"and"))}(t.filters);u&&(e.structuredQuery.where=u);const h=function(y){if(y.length!==0)return y.map(T=>function(R){return{field:ro(R.field),direction:DD(R.dir)}}(T))}(t.orderBy);h&&(e.structuredQuery.orderBy=h);const m=yg(i,t.limit);return m!==null&&(e.structuredQuery.limit=m),t.startAt&&(e.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{ht:e,parent:o}}function ID(i){let t=ED(i.parent);const e=i.structuredQuery,a=e.from?e.from.length:0;let o=null;if(a>0){Yt(a===1);const T=e.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let u=[];e.where&&(u=function(S){const R=pA(S);return R instanceof $n&&Yb(R)?R.getFilters():[R]}(e.where));let h=[];e.orderBy&&(h=function(S){return S.map(R=>function(F){return new Vf(ao(F.field),function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction))}(R))}(e.orderBy));let m=null;e.limit&&(m=function(S){let R;return R=typeof S=="object"?S.value:S,Zf(R)?null:R}(e.limit));let p=null;e.startAt&&(p=function(S){const R=!!S.before,z=S.values||[];return new kf(z,R)}(e.startAt));let y=null;return e.endAt&&(y=function(S){const R=!S.before,z=S.values||[];return new kf(z,R)}(e.endAt)),YC(t,o,h,u,m,"F",p,y)}function CD(i,t){const e=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et()}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function pA(i){return i.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const a=ao(e.unaryFilter.field);return Ae.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ao(e.unaryFilter.field);return Ae.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ao(e.unaryFilter.field);return Ae.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ao(e.unaryFilter.field);return Ae.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Et()}}(i):i.fieldFilter!==void 0?function(e){return Ae.create(ao(e.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}}(e.fieldFilter.op),e.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(e){return $n.create(e.compositeFilter.filters.map(a=>pA(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et()}}(e.compositeFilter.op))}(i):Et()}function DD(i){return pD[i]}function OD(i){return yD[i]}function ND(i){return _D[i]}function ro(i){return{fieldPath:i.canonicalString()}}function ao(i){return Ye.fromServerFormat(i.fieldPath)}function yA(i){return i instanceof Ae?function(e){if(e.op==="=="){if(oT(e.value))return{unaryFilter:{field:ro(e.field),op:"IS_NAN"}};if(sT(e.value))return{unaryFilter:{field:ro(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(oT(e.value))return{unaryFilter:{field:ro(e.field),op:"IS_NOT_NAN"}};if(sT(e.value))return{unaryFilter:{field:ro(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(e.field),op:OD(e.op),value:e.value}}}(i):i instanceof $n?function(e){const a=e.getFilters().map(o=>yA(o));return a.length===1?a[0]:{compositeFilter:{op:ND(e.op),filters:a}}}(i):Et()}function MD(i){const t=[];return i.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function _A(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(t,e,a,o,u=St.min(),h=St.min(),m=Qe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Gr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(t){this.Tt=t}}function PD(i){const t=ID({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?pg(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this.Tn=new VD}addToCollectionParentIndex(t,e){return this.Tn.add(e),W.resolve()}getCollectionParents(t,e){return W.resolve(this.Tn.getEntries(e))}addFieldIndex(t,e){return W.resolve()}deleteFieldIndex(t,e){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,e){return W.resolve()}getDocumentsMatchingTarget(t,e){return W.resolve(null)}getIndexType(t,e){return W.resolve(0)}getFieldIndexes(t,e){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,e){return W.resolve(Zr.min())}getMinOffsetFromCollectionGroup(t,e){return W.resolve(Zr.min())}updateCollectionGroup(t,e,a){return W.resolve()}updateIndexEntries(t,e){return W.resolve()}}class VD{constructor(){this.index={}}add(t){const e=t.lastSegment(),a=t.popLast(),o=this.index[e]||new Oe(re.comparator),u=!o.has(a);return this.index[e]=o.add(a),u}has(t){const e=t.lastSegment(),a=t.popLast(),o=this.index[e];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Oe(re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vA=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(vA,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new To(0)}static Kn(){return new To(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="LruGarbageCollector",UD=1048576;function AT([i,t],[e,a]){const o=Dt(i,e);return o===0?Dt(t,a):o}class LD{constructor(t){this.Hn=t,this.buffer=new Oe(AT),this.Jn=0}Yn(){return++this.Jn}Zn(t){const e=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(e);else{const a=this.buffer.last();AT(e,a)<0&&(this.buffer=this.buffer.delete(a).add(e))}}get maxValue(){return this.buffer.last()[0]}}class zD{constructor(t,e,a){this.garbageCollector=t,this.asyncQueue=e,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){st(bT,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Co(e)?st(bT,"Ignoring IndexedDB error during garbage collection: ",e):await Io(e)}await this.er(3e5)})}}class jD{constructor(t,e){this.tr=t,this.params=e}calculateTargetCount(t,e){return this.tr.nr(t).next(a=>Math.floor(e/100*a))}nthSequenceNumber(t,e){if(e===0)return W.resolve($f.ae);const a=new LD(e);return this.tr.forEachTarget(t,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(t,e,a){return this.tr.removeTargets(t,e,a)}removeOrphanedDocuments(t,e){return this.tr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(ET)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ET):this.ir(t,e))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,e){let a,o,u,h,m,p,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(t,o))).next(S=>(a=S,m=Date.now(),this.removeTargets(t,a,e))).next(S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(t,a))).next(S=>(y=Date.now(),no()<=kt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-T}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function BD(i,t){return new jD(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this.changes=new os(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const a=this.changes.get(e);return a!==void 0?W.resolve(a):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(t,e,a,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,e){let a=null;return this.documentOverlayCache.getOverlay(t,e).next(o=>(a=o,this.remoteDocumentCache.getEntry(t,e))).next(o=>(a!==null&&tu(a.mutation,o,An.empty(),De.now()),o))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(a=>this.getLocalViewOfDocuments(t,a,Vt()).next(()=>a))}getLocalViewOfDocuments(t,e,a=Vt()){const o=Wa();return this.populateOverlays(t,o,e).next(()=>this.computeViews(t,e,o,a).next(u=>{let h=Yl();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(t,e){const a=Wa();return this.populateOverlays(t,a,e).next(()=>this.computeViews(t,e,a,Vt()))}populateOverlays(t,e,a){const o=[];return a.forEach(u=>{e.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((h,m)=>{e.set(h,m)})})}computeViews(t,e,a,o){let u=nr();const h=Jl(),m=function(){return Jl()}();return e.forEach((p,y)=>{const T=a.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof ua)?u=u.insert(y.key,y):T!==void 0?(h.set(y.key,T.mutation.getFieldMask()),tu(T.mutation,y,T.mutation.getFieldMask(),De.now())):h.set(y.key,An.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((y,T)=>h.set(y,T)),e.forEach((y,T)=>{var S;return m.set(y,new FD(T,(S=h.get(y))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(t,e){const a=Jl();let o=new ue((h,m)=>h-m),u=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(h=>{for(const m of h)m.keys().forEach(p=>{const y=e.get(p);if(y===null)return;let T=a.get(p)||An.empty();T=m.applyToLocalView(y,T),a.set(p,T);const S=(o.get(m.batchId)||Vt()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,T=p.value,S=eA();T.forEach(R=>{if(!u.has(R)){const z=oA(e.get(R),a.get(R));z!==null&&S.set(R,z),u=u.add(R)}}),h.push(this.documentOverlayCache.saveOverlays(t,y,S))}return W.waitFor(h)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,e,a,o){return function(h){return gt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Wb(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,a,o):this.getDocumentsMatchingCollectionQuery(t,e,a,o)}getNextDocuments(t,e,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,a,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,a.largestBatchId,o-u.size):W.resolve(Wa());let m=au,p=u;return h.next(y=>W.forEach(y,(T,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(T)?W.resolve():this.remoteDocumentCache.getEntry(t,T).next(R=>{p=p.insert(T,R)}))).next(()=>this.populateOverlays(t,y,u)).next(()=>this.computeViews(t,p,y,Vt())).next(T=>({batchId:m,changes:tA(T)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new gt(e)).next(a=>{let o=Yl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(t,e,a,o){const u=e.collectionGroup;let h=Yl();return this.indexManager.getCollectionParents(t,u).next(m=>W.forEach(m,p=>{const y=function(S,R){return new Eu(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(e,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,a,o).next(T=>{T.forEach((S,R)=>{h=h.insert(S,R)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,e,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,a.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,a,u,o))).next(h=>{u.forEach((p,y)=>{const T=y.getKey();h.get(T)===null&&(h=h.insert(T,Je.newInvalidDocument(T)))});let m=Yl();return h.forEach((p,y)=>{const T=u.get(p);T!==void 0&&tu(T.mutation,y,An.empty(),De.now()),nh(e,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,e){return W.resolve(this.dr.get(e))}saveBundleMetadata(t,e){return this.dr.set(e.id,function(o){return{id:o.id,version:o.version,createTime:Ei(o.createTime)}}(e)),W.resolve()}getNamedQuery(t,e){return W.resolve(this.Ar.get(e))}saveNamedQuery(t,e){return this.Ar.set(e.name,function(o){return{name:o.name,query:PD(o.bundledQuery),readTime:Ei(o.readTime)}}(e)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this.overlays=new ue(gt.comparator),this.Rr=new Map}getOverlay(t,e){return W.resolve(this.overlays.get(e))}getOverlays(t,e){const a=Wa();return W.forEach(e,o=>this.getOverlay(t,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(t,e,a){return a.forEach((o,u)=>{this.Et(t,e,u)}),W.resolve()}removeOverlaysForBatchId(t,e,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(a)),W.resolve()}getOverlaysForCollection(t,e,a){const o=Wa(),u=e.length+1,h=new gt(e.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!e.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(t,e,a,o){let u=new ue((y,T)=>y-T);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===e&&y.largestBatchId>a){let T=u.get(y.largestBatchId);T===null&&(T=Wa(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const m=Wa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,T)=>m.set(y,T)),!(m.size()>=o)););return W.resolve(m)}Et(t,e,a){const o=this.overlays.get(a.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new fD(e,a));let u=this.Rr.get(e);u===void 0&&(u=Vt(),this.Rr.set(e,u)),this.Rr.set(e,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(){this.Vr=new Oe(Le.mr),this.gr=new Oe(Le.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,e){const a=new Le(t,e);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(t,e){t.forEach(a=>this.addReference(a,e))}removeReference(t,e){this.wr(new Le(t,e))}Sr(t,e){t.forEach(a=>this.removeReference(a,e))}br(t){const e=new gt(new re([])),a=new Le(e,t),o=new Le(e,t+1),u=[];return this.gr.forEachInRange([a,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const e=new gt(new re([])),a=new Le(e,t),o=new Le(e,t+1);let u=Vt();return this.gr.forEachInRange([a,o],h=>{u=u.add(h.key)}),u}containsKey(t){const e=new Le(t,0),a=this.Vr.firstAfterOrEqual(e);return a!==null&&t.isEqual(a.key)}}class Le{constructor(t,e){this.key=t,this.Cr=e}static mr(t,e){return gt.comparator(t.key,e.key)||Dt(t.Cr,e.Cr)}static pr(t,e){return Dt(t.Cr,e.Cr)||gt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Fr=1,this.Mr=new Oe(Le.mr)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,a,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new cD(u,e,a,o);this.mutationQueue.push(h);for(const m of o)this.Mr=this.Mr.add(new Le(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return W.resolve(h)}lookupMutationBatch(t,e){return W.resolve(this.Or(e))}getNextMutationBatchAfterBatchId(t,e){const a=e+1,o=this.Nr(a),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?cp:this.Fr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const a=new Le(e,0),o=new Le(e,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([a,o],h=>{const m=this.Or(h.Cr);u.push(m)}),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let a=new Oe(Dt);return e.forEach(o=>{const u=new Le(o,0),h=new Le(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],m=>{a=a.add(m.Cr)})}),W.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(t,e){const a=e.path,o=a.length+1;let u=a;gt.isDocumentKey(u)||(u=u.child(""));const h=new Le(new gt(u),0);let m=new Oe(Dt);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Cr)),!0)},h),W.resolve(this.Br(m))}Br(t){const e=[];return t.forEach(a=>{const o=this.Or(a);o!==null&&e.push(o)}),e}removeMutationBatch(t,e){Yt(this.Lr(e.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return W.forEach(e.mutations,o=>{const u=new Le(o.key,e.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=a})}qn(t){}containsKey(t,e){const a=new Le(e,0),o=this.Mr.firstAfterOrEqual(a);return W.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}Lr(t,e){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const e=this.Nr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(t){this.kr=t,this.docs=function(){return new ue(gt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const a=e.key,o=this.docs.get(a),u=o?o.size:0,h=this.kr(e);return this.docs=this.docs.insert(a,{document:e.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const a=this.docs.get(e);return W.resolve(a?a.document.mutableCopy():Je.newInvalidDocument(e))}getEntries(t,e){let a=nr();return e.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():Je.newInvalidDocument(o))}),W.resolve(a)}getDocumentsMatchingQuery(t,e,a,o){let u=nr();const h=e.path,m=new gt(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||SC(AC(T),a)<=0||(o.has(T.key)||nh(e,T))&&(u=u.insert(T.key,T.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(t,e,a,o){Et()}qr(t,e){return W.forEach(this.docs,a=>e(a))}newChangeBuffer(t){return new WD(this)}getSize(t){return W.resolve(this.size)}}class WD extends qD{constructor(t){super(),this.Ir=t}applyChanges(t){const e=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?e.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(a)}),W.waitFor(e)}getFromCache(t,e){return this.Ir.getEntry(t,e)}getAllFromCache(t,e){return this.Ir.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(t){this.persistence=t,this.Qr=new os(e=>dp(e),mp),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.$r=0,this.Ur=new vp,this.targetCount=0,this.Kr=To.Un()}forEachTarget(t,e){return this.Qr.forEach((a,o)=>e(o)),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,e,a){return a&&(this.lastRemoteSnapshotVersion=a),e>this.$r&&(this.$r=e),W.resolve()}zn(t){this.Qr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Kr=new To(e),this.highestTargetId=e),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,e){return this.zn(e),this.targetCount+=1,W.resolve()}updateTargetData(t,e){return this.zn(e),W.resolve()}removeTargetData(t,e){return this.Qr.delete(e.target),this.Ur.br(e.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,e,a){let o=0;const u=[];return this.Qr.forEach((h,m)=>{m.sequenceNumber<=e&&a.get(m.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),W.waitFor(u).next(()=>o)}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,e){const a=this.Qr.get(e)||null;return W.resolve(a)}addMatchingKeys(t,e,a){return this.Ur.yr(e,a),W.resolve()}removeMatchingKeys(t,e,a){this.Ur.Sr(e,a);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach(h=>{u.push(o.markPotentiallyOrphaned(t,h))}),W.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this.Ur.br(e),W.resolve()}getMatchingKeysForTargetId(t,e){const a=this.Ur.vr(e);return W.resolve(a)}containsKey(t,e){return W.resolve(this.Ur.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(t,e){this.Wr={},this.overlays={},this.Gr=new $f(0),this.zr=!1,this.zr=!0,this.jr=new QD,this.referenceDelegate=t(this),this.Hr=new $D(this),this.indexManager=new kD,this.remoteDocumentCache=function(o){return new XD(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new xD(e),this.Yr=new GD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new YD,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let a=this.Wr[t.toKey()];return a||(a=new KD(e,this.referenceDelegate),this.Wr[t.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,e,a){st("MemoryPersistence","Starting transaction:",t);const o=new ZD(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(t,e){return W.or(Object.values(this.Wr).map(a=>()=>a.containsKey(t,e)))}}class ZD extends RC{constructor(t){super(),this.currentSequenceNumber=t}}class Tp{constructor(t){this.persistence=t,this.ti=new vp,this.ni=null}static ri(t){return new Tp(t)}get ii(){if(this.ni)return this.ni;throw Et()}addReference(t,e,a){return this.ti.addReference(a,e),this.ii.delete(a.toString()),W.resolve()}removeReference(t,e,a){return this.ti.removeReference(a,e),this.ii.add(a.toString()),W.resolve()}markPotentiallyOrphaned(t,e){return this.ii.add(e.toString()),W.resolve()}removeTarget(t,e){this.ti.br(e.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,e.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>a.removeTargetData(t,e))}Zr(){this.ni=new Set}Xr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ii,a=>{const o=gt.fromPath(a);return this.si(t,o).next(u=>{u||e.removeEntry(o,St.min())})}).next(()=>(this.ni=null,e.apply(t)))}updateLimboDocument(t,e){return this.si(t,e).next(a=>{a?this.ii.delete(e.toString()):this.ii.add(e.toString())})}Jr(t){return 0}si(t,e){return W.or([()=>W.resolve(this.ti.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.ei(t,e)])}}class zf{constructor(t,e){this.persistence=t,this.oi=new os(a=>DC(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=BD(this,e)}static ri(t,e){return new zf(t,e)}Zr(){}Xr(t){return W.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}nr(t){const e=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>e.next(o=>a+o))}sr(t){let e=0;return this.rr(t,a=>{e++}).next(()=>e)}rr(t,e){return W.forEach(this.oi,(a,o)=>this.ar(t,a,o).next(u=>u?W.resolve():e(o)))}removeTargets(t,e,a){return this.persistence.getTargetCache().removeTargets(t,e,a)}removeOrphanedDocuments(t,e){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(t,h=>this.ar(t,h,e).next(m=>{m||(a++,u.removeEntry(h,St.min()))})).next(()=>u.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,e){return this.oi.set(e,t.currentSequenceNumber),W.resolve()}removeTarget(t,e){const a=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,e,a){return this.oi.set(a,t.currentSequenceNumber),W.resolve()}removeReference(t,e,a){return this.oi.set(a,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,e){return this.oi.set(e,t.currentSequenceNumber),W.resolve()}Jr(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=gf(t.data.value)),e}ar(t,e,a){return W.or([()=>this.persistence.ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.oi.get(e);return W.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(t,e,a,o){this.targetId=t,this.fromCache=e,this.Hi=a,this.Ji=o}static Yi(t,e){let a=Vt(),o=Vt();for(const u of e.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ep(t,e.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Kw()?8:IC(tn())>0?6:4}()}initialize(t,e){this.ns=t,this.indexManager=e,this.Zi=!0}getDocumentsMatchingQuery(t,e,a,o){const u={result:null};return this.rs(t,e).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(t,e,o,a).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new JD;return this._s(t,e,h).next(m=>{if(u.result=m,this.Xi)return this.us(t,e,h,m.size)})}).next(()=>u.result)}us(t,e,a,o){return a.documentReadCount<this.es?(no()<=kt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",io(e),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),W.resolve()):(no()<=kt.DEBUG&&st("QueryEngine","Query:",io(e),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(no()<=kt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",io(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ti(e))):W.resolve())}rs(t,e){if(fT(e))return W.resolve(null);let a=Ti(e);return this.indexManager.getIndexType(t,a).next(o=>o===0?null:(e.limit!==null&&o===1&&(e=pg(e,null,"F"),a=Ti(e)),this.indexManager.getDocumentsMatchingTarget(t,a).next(u=>{const h=Vt(...u);return this.ns.getDocuments(t,h).next(m=>this.indexManager.getMinOffset(t,a).next(p=>{const y=this.cs(e,m);return this.ls(e,y,h,p.readTime)?this.rs(t,pg(e,null,"F")):this.hs(t,y,e,p)}))})))}ss(t,e,a,o){return fT(e)||o.isEqual(St.min())?W.resolve(null):this.ns.getDocuments(t,a).next(u=>{const h=this.cs(e,u);return this.ls(e,h,a,o)?W.resolve(null):(no()<=kt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),io(e)),this.hs(t,h,e,bC(o,au)).next(m=>m))})}cs(t,e){let a=new Oe(Zb(t));return e.forEach((o,u)=>{nh(t,u)&&(a=a.add(u))}),a}ls(t,e,a,o){if(t.limit===null)return!1;if(a.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(t,e,a){return no()<=kt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",io(e)),this.ns.getDocumentsMatchingQuery(t,e,Zr.min(),a)}hs(t,e,a,o){return this.ns.getDocumentsMatchingQuery(t,a,o).next(u=>(e.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp="LocalStore",eO=3e8;class nO{constructor(t,e,a,o){this.persistence=t,this.Ps=e,this.serializer=o,this.Ts=new ue(Dt),this.Is=new os(u=>dp(u),mp),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(a)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new HD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ts))}}function iO(i,t,e,a){return new nO(i,t,e,a)}async function EA(i,t){const e=wt(i);return await e.persistence.runTransaction("Handle user change","readonly",a=>{let o;return e.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,e.As(t),e.mutationQueue.getAllMutationBatches(a))).next(u=>{const h=[],m=[];let p=Vt();for(const y of o){h.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of u){m.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return e.localDocuments.getDocuments(a,p).next(y=>({Rs:y,removedBatchIds:h,addedBatchIds:m}))})})}function rO(i,t){const e=wt(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=t.batch.keys(),u=e.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,T){const S=y.batch,R=S.keys();let z=W.resolve();return R.forEach(F=>{z=z.next(()=>T.getEntry(p,F)).next($=>{const Y=y.docVersions.get(F);Yt(Y!==null),$.version.compareTo(Y)<0&&(S.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),T.addEntry($)))})}),z.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(e,a,t,u).next(()=>u.apply(a)).next(()=>e.mutationQueue.performConsistencyCheck(a)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let p=Vt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(t))).next(()=>e.localDocuments.getDocuments(a,o))})}function bA(i){const t=wt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Hr.getLastRemoteSnapshotVersion(e))}function aO(i,t){const e=wt(i),a=t.snapshotVersion;let o=e.Ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=e.ds.newChangeBuffer({trackRemovals:!0});o=e.Ts;const m=[];t.targetChanges.forEach((T,S)=>{const R=o.get(S);if(!R)return;m.push(e.Hr.removeMatchingKeys(u,T.removedDocuments,S).next(()=>e.Hr.addMatchingKeys(u,T.addedDocuments,S)));let z=R.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?z=z.withResumeToken(Qe.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):T.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(T.resumeToken,a)),o=o.insert(S,z),function($,Y,ct){return $.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=eO?!0:ct.addedDocuments.size+ct.modifiedDocuments.size+ct.removedDocuments.size>0}(R,z,T)&&m.push(e.Hr.updateTargetData(u,z))});let p=nr(),y=Vt();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(sO(u,h,t.documentUpdates).next(T=>{p=T.Vs,y=T.fs})),!a.isEqual(St.min())){const T=e.Hr.getLastRemoteSnapshotVersion(u).next(S=>e.Hr.setTargetsMetadata(u,u.currentSequenceNumber,a));m.push(T)}return W.waitFor(m).next(()=>h.apply(u)).next(()=>e.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(e.Ts=o,u))}function sO(i,t,e){let a=Vt(),o=Vt();return e.forEach(u=>a=a.add(u)),t.getEntries(i,a).next(u=>{let h=nr();return e.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(St.min())?(t.removeEntry(m,p.readTime),h=h.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),h=h.insert(m,p)):st(bp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function oO(i,t){const e=wt(i);return e.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=cp),e.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function lO(i,t){const e=wt(i);return e.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return e.Hr.getTargetData(a,t).next(u=>u?(o=u,W.resolve(o)):e.Hr.allocateTargetId(a).next(h=>(o=new Gr(t,h,"TargetPurposeListen",a.currentSequenceNumber),e.Hr.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=e.Ts.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ts=e.Ts.insert(a.targetId,a),e.Is.set(t,a.targetId)),a})}async function Eg(i,t,e){const a=wt(i),o=a.Ts.get(t),u=e?"readwrite":"readwrite-primary";try{e||await a.persistence.runTransaction("Release target",u,h=>a.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Co(h))throw h;st(bp,`Failed to update sequence numbers for target ${t}: ${h}`)}a.Ts=a.Ts.remove(t),a.Is.delete(o.target)}function ST(i,t,e){const a=wt(i);let o=St.min(),u=Vt();return a.persistence.runTransaction("Execute query","readwrite",h=>function(p,y,T){const S=wt(p),R=S.Is.get(T);return R!==void 0?W.resolve(S.Ts.get(R)):S.Hr.getTargetData(y,T)}(a,h,Ti(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>a.Ps.getDocumentsMatchingQuery(h,t,e?o:St.min(),e?u:Vt())).next(m=>(uO(a,KC(t),m),{documents:m,gs:u})))}function uO(i,t,e){let a=i.Es.get(t)||St.min();e.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),i.Es.set(t,a)}class wT{constructor(){this.activeTargetIds=tD()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class cO{constructor(){this.ho=new wT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,a){}addLocalQueryTarget(t,e=!0){return e&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,e,a){this.Po[t]=e}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new wT,Promise.resolve()}handleUserChange(t,e,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="ConnectivityMonitor";class IT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){st(RT,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){st(RT,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sf=null;function bg(){return sf===null?sf=function(){return 268435456+Math.round(2147483648*Math.random())}():sf++,"0x"+sf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="RestConnection",hO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dO{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=e+"://"+t.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===xf?`project_id=${a}`:`project_id=${a}&database_id=${o}`}So(t,e,a,o,u){const h=bg(),m=this.bo(t,e.toUriEncodedString());st(Lm,`Sending RPC '${t}' ${h}:`,m,a);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(t,m,p,a).then(y=>(st(Lm,`Received RPC '${t}' ${h}: `,y),y),y=>{throw po(Lm,`RPC '${t}' ${h} failed with error: `,y,"url: ",m,"request:",a),y})}Co(t,e,a,o,u,h){return this.So(t,e,a,o,u)}Do(t,e,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ro}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((o,u)=>t[u]=o),a&&a.headers.forEach((o,u)=>t[u]=o)}bo(t,e){const a=hO[t];return`${this.po}/v1/${e}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e="WebChannelConnection";class gO extends dO{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,e,a,o){const u=bg();return new Promise((h,m)=>{const p=new Rb;p.setWithCredentials(!0),p.listenOnce(Ib.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case mf.NO_ERROR:const T=p.getResponseJson();st($e,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(T)),h(T);break;case mf.TIMEOUT:st($e,`RPC '${t}' ${u} timed out`),m(new ot(X.DEADLINE_EXCEEDED,"Request time out"));break;case mf.HTTP_ERROR:const S=p.getStatus();if(st($e,`RPC '${t}' ${u} failed with status:`,S,"response text:",p.getResponseText()),S>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const z=R==null?void 0:R.error;if(z&&z.status&&z.message){const F=function(Y){const ct=Y.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ct)>=0?ct:X.UNKNOWN}(z.status);m(new ot(F,z.message))}else m(new ot(X.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ot(X.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{st($e,`RPC '${t}' ${u} completed.`)}});const y=JSON.stringify(o);st($e,`RPC '${t}' ${u} sending request:`,o),p.send(e,"POST",y,a,15)})}Wo(t,e,a){const o=bg(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=Ob(),m=Db(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,e,a),p.encodeInitMessageHeaders=!0;const T=u.join("");st($e,`Creating RPC '${t}' stream ${o}: ${T}`,p);const S=h.createWebChannel(T,p);let R=!1,z=!1;const F=new mO({Fo:Y=>{z?st($e,`Not sending because RPC '${t}' stream ${o} is closed:`,Y):(R||(st($e,`Opening RPC '${t}' stream ${o} transport.`),S.open(),R=!0),st($e,`RPC '${t}' stream ${o} sending:`,Y),S.send(Y))},Mo:()=>S.close()}),$=(Y,ct,lt)=>{Y.listen(ct,at=>{try{lt(at)}catch(vt){setTimeout(()=>{throw vt},0)}})};return $(S,Gl.EventType.OPEN,()=>{z||(st($e,`RPC '${t}' stream ${o} transport opened.`),F.Qo())}),$(S,Gl.EventType.CLOSE,()=>{z||(z=!0,st($e,`RPC '${t}' stream ${o} transport closed`),F.Uo())}),$(S,Gl.EventType.ERROR,Y=>{z||(z=!0,po($e,`RPC '${t}' stream ${o} transport errored:`,Y),F.Uo(new ot(X.UNAVAILABLE,"The operation could not be completed")))}),$(S,Gl.EventType.MESSAGE,Y=>{var ct;if(!z){const lt=Y.data[0];Yt(!!lt);const at=lt,vt=(at==null?void 0:at.error)||((ct=at[0])===null||ct===void 0?void 0:ct.error);if(vt){st($e,`RPC '${t}' stream ${o} received error:`,vt);const ft=vt.status;let It=function(w){const C=be[w];if(C!==void 0)return uA(C)}(ft),x=vt.message;It===void 0&&(It=X.INTERNAL,x="Unknown error status: "+ft+" with message "+vt.message),z=!0,F.Uo(new ot(It,x)),S.close()}else st($e,`RPC '${t}' stream ${o} received:`,lt),F.Ko(lt)}}),$(m,Cb.STAT_EVENT,Y=>{Y.stat===ug.PROXY?st($e,`RPC '${t}' stream ${o} detected buffering proxy`):Y.stat===ug.NOPROXY&&st($e,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{F.$o()},0),F}}function zm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(i){return new vD(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(t,e,a=1e3,o=1.5,u=6e4){this.Ti=t,this.timerId=e,this.Go=a,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const e=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,e-a);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${e} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="PersistentStream";class SA{constructor(t,e,a,o,u,h,m,p){this.Ti=t,this.n_=a,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new AA(t,e)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,e){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():e&&e.code===X.RESOURCE_EXHAUSTED?(er(e.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):e&&e.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(e)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),e=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===e&&this.V_(a,o)},a=>{t(()=>{const o=new ot(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(t,e){const a=this.R_(this.i_);this.stream=this.f_(t,e),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return st(CT,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return e=>{this.Ti.enqueueAndForget(()=>this.i_===t?e():(st(CT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pO extends SA{constructor(t,e,a,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,a,o,h),this.serializer=u}f_(t,e){return this.connection.Wo("Listen",t,e)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const e=bD(this.serializer,t),a=function(u){if(!("targetChange"in u))return St.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?St.min():h.readTime?Ei(h.readTime):St.min()}(t);return this.listener.p_(e,a)}y_(t){const e={};e.database=Tg(this.serializer),e.addTarget=function(u,h){let m;const p=h.target;if(m=mg(p)?{documents:wD(u,p)}:{query:RD(u,p).ht},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=hA(u,h.resumeToken);const y=yg(u,h.expectedCount);y!==null&&(m.expectedCount=y)}else if(h.snapshotVersion.compareTo(St.min())>0){m.readTime=Lf(u,h.snapshotVersion.toTimestamp());const y=yg(u,h.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const a=CD(this.serializer,t);a&&(e.labels=a),this.I_(e)}w_(t){const e={};e.database=Tg(this.serializer),e.removeTarget=t,this.I_(e)}}class yO extends SA{constructor(t,e,a,o,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,a,o,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,e){return this.connection.Wo("Write",t,e)}g_(t){return Yt(!!t.streamToken),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Yt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const e=SD(t.writeResults,t.commitTime),a=Ei(t.commitTime);return this.listener.v_(a,e)}C_(){const t={};t.database=Tg(this.serializer),this.I_(t)}b_(t){const e={streamToken:this.lastStreamToken,writes:t.map(a=>AD(this.serializer,a))};this.I_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{}class vO extends _O{constructor(t,e,a,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ot(X.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,e,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(t,_g(e,a),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ot(X.UNKNOWN,u.toString())})}Co(t,e,a,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Co(t,_g(e,a),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ot(X.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class TO{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(er(e),this.N_=!1):st("OnlineStateTracker",e)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="RemoteStore";class EO{constructor(t,e,a,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=a,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{a.enqueueAndForget(async()=>{ls(this)&&(st(rs,"Restarting streams for network reachability change."),await async function(p){const y=wt(p);y.W_.add(4),await Su(y),y.j_.set("Unknown"),y.W_.delete(4),await lh(y)}(this))})}),this.j_=new TO(a,o)}}async function lh(i){if(ls(i))for(const t of i.G_)await t(!0)}async function Su(i){for(const t of i.G_)await t(!1)}function wA(i,t){const e=wt(i);e.K_.has(t.targetId)||(e.K_.set(t.targetId,t),Rp(e)?wp(e):Do(e).c_()&&Sp(e,t))}function Ap(i,t){const e=wt(i),a=Do(e);e.K_.delete(t),a.c_()&&RA(e,t),e.K_.size===0&&(a.c_()?a.P_():ls(e)&&e.j_.set("Unknown"))}function Sp(i,t){if(i.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Do(i).y_(t)}function RA(i,t){i.H_.Ne(t),Do(i).w_(t)}function wp(i){i.H_=new gD({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>i.K_.get(t)||null,it:()=>i.datastore.serializer.databaseId}),Do(i).start(),i.j_.B_()}function Rp(i){return ls(i)&&!Do(i).u_()&&i.K_.size>0}function ls(i){return wt(i).W_.size===0}function IA(i){i.H_=void 0}async function bO(i){i.j_.set("Online")}async function AO(i){i.K_.forEach((t,e)=>{Sp(i,t)})}async function SO(i,t){IA(i),Rp(i)?(i.j_.q_(t),wp(i)):i.j_.set("Unknown")}async function wO(i,t,e){if(i.j_.set("Online"),t instanceof fA&&t.state===2&&t.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.K_.delete(m),o.H_.removeTarget(m))}(i,t)}catch(a){st(rs,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await jf(i,a)}else if(t instanceof _f?i.H_.We(t):t instanceof cA?i.H_.Ze(t):i.H_.je(t),!e.isEqual(St.min()))try{const a=await bA(i.localStore);e.compareTo(a)>=0&&await function(u,h){const m=u.H_.ot(h);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.K_.get(y);T&&u.K_.set(y,T.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,y)=>{const T=u.K_.get(p);if(!T)return;u.K_.set(p,T.withResumeToken(Qe.EMPTY_BYTE_STRING,T.snapshotVersion)),RA(u,p);const S=new Gr(T.target,p,y,T.sequenceNumber);Sp(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(i,e)}catch(a){st(rs,"Failed to raise snapshot:",a),await jf(i,a)}}async function jf(i,t,e){if(!Co(t))throw t;i.W_.add(1),await Su(i),i.j_.set("Offline"),e||(e=()=>bA(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{st(rs,"Retrying IndexedDB access"),await e(),i.W_.delete(1),await lh(i)})}function CA(i,t){return t().catch(e=>jf(i,e,t))}async function uh(i){const t=wt(i),e=na(t);let a=t.U_.length>0?t.U_[t.U_.length-1].batchId:cp;for(;RO(t);)try{const o=await oO(t.localStore,a);if(o===null){t.U_.length===0&&e.P_();break}a=o.batchId,IO(t,o)}catch(o){await jf(t,o)}DA(t)&&OA(t)}function RO(i){return ls(i)&&i.U_.length<10}function IO(i,t){i.U_.push(t);const e=na(i);e.c_()&&e.S_&&e.b_(t.mutations)}function DA(i){return ls(i)&&!na(i).u_()&&i.U_.length>0}function OA(i){na(i).start()}async function CO(i){na(i).C_()}async function DO(i){const t=na(i);for(const e of i.U_)t.b_(e.mutations)}async function OO(i,t,e){const a=i.U_.shift(),o=pp.from(a,t,e);await CA(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await uh(i)}async function NO(i,t){t&&na(i).S_&&await async function(a,o){if(function(h){return dD(h)&&h!==X.ABORTED}(o.code)){const u=a.U_.shift();na(a).h_(),await CA(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await uh(a)}}(i,t),DA(i)&&OA(i)}async function DT(i,t){const e=wt(i);e.asyncQueue.verifyOperationInProgress(),st(rs,"RemoteStore received new credentials");const a=ls(e);e.W_.add(3),await Su(e),a&&e.j_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.W_.delete(3),await lh(e)}async function MO(i,t){const e=wt(i);t?(e.W_.delete(2),await lh(e)):t||(e.W_.add(2),await Su(e),e.j_.set("Unknown"))}function Do(i){return i.J_||(i.J_=function(e,a,o){const u=wt(e);return u.M_(),new pO(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:bO.bind(null,i),No:AO.bind(null,i),Lo:SO.bind(null,i),p_:wO.bind(null,i)}),i.G_.push(async t=>{t?(i.J_.h_(),Rp(i)?wp(i):i.j_.set("Unknown")):(await i.J_.stop(),IA(i))})),i.J_}function na(i){return i.Y_||(i.Y_=function(e,a,o){const u=wt(e);return u.M_(),new yO(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:CO.bind(null,i),Lo:NO.bind(null,i),D_:DO.bind(null,i),v_:OO.bind(null,i)}),i.G_.push(async t=>{t?(i.Y_.h_(),await uh(i)):(await i.Y_.stop(),i.U_.length>0&&(st(rs,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(t,e,a,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,a,o,u){const h=Date.now()+a,m=new Ip(t,e,h,o,u);return m.start(a),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cp(i,t){if(er("AsyncQueue",`${t}: ${i}`),Co(i))return new ot(X.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{static emptySet(t){return new fo(t.comparator)}constructor(t){this.comparator=t?(e,a)=>t(e,a)||gt.comparator(e.key,a.key):(e,a)=>gt.comparator(e.key,a.key),this.keyedMap=Yl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,a)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof fo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const a=new fo;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=e,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(){this.Z_=new ue(gt.comparator)}track(t){const e=t.doc.key,a=this.Z_.get(e);a?t.type!==0&&a.type===3?this.Z_=this.Z_.insert(e,t):t.type===3&&a.type!==1?this.Z_=this.Z_.insert(e,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.Z_=this.Z_.insert(e,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.Z_=this.Z_.remove(e):t.type===1&&a.type===2?this.Z_=this.Z_.insert(e,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):Et():this.Z_=this.Z_.insert(e,t)}X_(){const t=[];return this.Z_.inorderTraversal((e,a)=>{t.push(a)}),t}}class Eo{constructor(t,e,a,o,u,h,m,p,y){this.query=t,this.docs=e,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,e,a,o,u){const h=[];return e.forEach(m=>{h.push({type:0,doc:m})}),new Eo(t,e,fo.emptySet(e),h,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&eh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,a=t.docChanges;if(e.length!==a.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==a[o].type||!e[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class PO{constructor(){this.queries=NT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(e,a){const o=wt(e),u=o.queries;o.queries=NT(),u.forEach((h,m)=>{for(const p of m.ta)p.onError(a)})})(this,new ot(X.ABORTED,"Firestore shutting down"))}}function NT(){return new os(i=>$b(i),eh)}async function NA(i,t){const e=wt(i);let a=3;const o=t.query;let u=e.queries.get(o);u?!u.na()&&t.ra()&&(a=2):(u=new xO,a=t.ra()?0:1);try{switch(a){case 0:u.ea=await e.onListen(o,!0);break;case 1:u.ea=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(h){const m=Cp(h,`Initialization of query '${io(t.query)}' failed`);return void t.onError(m)}e.queries.set(o,u),u.ta.push(t),t.sa(e.onlineState),u.ea&&t.oa(u.ea)&&Dp(e)}async function MA(i,t){const e=wt(i),a=t.query;let o=3;const u=e.queries.get(a);if(u){const h=u.ta.indexOf(t);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=t.ra()?0:1:!u.na()&&t.ra()&&(o=2))}switch(o){case 0:return e.queries.delete(a),e.onUnlisten(a,!0);case 1:return e.queries.delete(a),e.onUnlisten(a,!1);case 2:return e.onLastRemoteStoreUnlisten(a);default:return}}function kO(i,t){const e=wt(i);let a=!1;for(const o of t){const u=o.query,h=e.queries.get(u);if(h){for(const m of h.ta)m.oa(o)&&(a=!0);h.ea=o}}a&&Dp(e)}function VO(i,t,e){const a=wt(i),o=a.queries.get(t);if(o)for(const u of o.ta)u.onError(e);a.queries.delete(t)}function Dp(i){i.ia.forEach(t=>{t.next()})}var Ag,MT;(MT=Ag||(Ag={}))._a="default",MT.Cache="cache";class xA{constructor(t,e,a){this.query=t,this.aa=e,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new Eo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ua?this.la(t)&&(this.aa.next(t),e=!0):this.ha(t,this.onlineState)&&(this.Pa(t),e=!0),this.ca=t,e}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let e=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),e=!0),e}ha(t,e){if(!t.fromCache||!this.ra())return!0;const a=e!=="Offline";return(!this.options.Ta||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}la(t){if(t.docChanges.length>0)return!0;const e=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Pa(t){t=Eo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Ag.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(t){this.key=t}}class kA{constructor(t){this.key=t}}class UO{constructor(t,e){this.query=t,this.fa=e,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Vt(),this.mutatedKeys=Vt(),this.ya=Zb(t),this.wa=new fo(this.ya)}get Sa(){return this.fa}ba(t,e){const a=e?e.Da:new OT,o=e?e.wa:this.wa;let u=e?e.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((T,S)=>{const R=o.get(T),z=nh(this.query,S)?S:null,F=!!R&&this.mutatedKeys.has(R.key),$=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let Y=!1;R&&z?R.data.isEqual(z.data)?F!==$&&(a.track({type:3,doc:z}),Y=!0):this.va(R,z)||(a.track({type:2,doc:z}),Y=!0,(p&&this.ya(z,p)>0||y&&this.ya(z,y)<0)&&(m=!0)):!R&&z?(a.track({type:0,doc:z}),Y=!0):R&&!z&&(a.track({type:1,doc:R}),Y=!0,(p||y)&&(m=!0)),Y&&(z?(h=h.add(z),u=$?u.add(T):u.delete(T)):(h=h.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const T=this.query.limitType==="F"?h.last():h.first();h=h.delete(T.key),u=u.delete(T.key),a.track({type:1,doc:T})}return{wa:h,Da:a,ls:m,mutatedKeys:u}}va(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,a,o){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const h=t.Da.X_();h.sort((T,S)=>function(z,F){const $=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return $(z)-$(F)}(T.type,S.type)||this.ya(T.doc,S.doc)),this.Ca(a),o=o!=null&&o;const m=e&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,h.length!==0||y?{snapshot:new Eo(this.query,t.wa,u,h,t.mutatedKeys,p===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new OT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(e=>this.fa=this.fa.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.fa=this.fa.delete(e)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Vt(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const e=[];return t.forEach(a=>{this.pa.has(a)||e.push(new kA(a))}),this.pa.forEach(a=>{t.has(a)||e.push(new PA(a))}),e}Oa(t){this.fa=t.gs,this.pa=Vt();const e=this.ba(t.documents);return this.applyChanges(e,!0)}Na(){return Eo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Op="SyncEngine";class LO{constructor(t,e,a){this.query=t,this.targetId=e,this.view=a}}class zO{constructor(t){this.key=t,this.Ba=!1}}class jO{constructor(t,e,a,o,u,h){this.localStore=t,this.remoteStore=e,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new os(m=>$b(m),eh),this.qa=new Map,this.Qa=new Set,this.$a=new ue(gt.comparator),this.Ua=new Map,this.Ka=new vp,this.Wa={},this.Ga=new Map,this.za=To.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function BO(i,t,e=!0){const a=BA(i);let o;const u=a.ka.get(t);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await VA(a,t,e,!0),o}async function qO(i,t){const e=BA(i);await VA(e,t,!0,!1)}async function VA(i,t,e,a){const o=await lO(i.localStore,Ti(t)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,e);let m;return a&&(m=await FO(i,t,u,h==="current",o.resumeToken)),i.isPrimaryClient&&e&&wA(i.remoteStore,o),m}async function FO(i,t,e,a,o){i.Ha=(S,R,z)=>async function($,Y,ct,lt){let at=Y.view.ba(ct);at.ls&&(at=await ST($.localStore,Y.query,!1).then(({documents:x})=>Y.view.ba(x,at)));const vt=lt&&lt.targetChanges.get(Y.targetId),ft=lt&&lt.targetMismatches.get(Y.targetId)!=null,It=Y.view.applyChanges(at,$.isPrimaryClient,vt,ft);return PT($,Y.targetId,It.Ma),It.snapshot}(i,S,R,z);const u=await ST(i.localStore,t,!0),h=new UO(t,u.gs),m=h.ba(u.documents),p=Au.createSynthesizedTargetChangeForCurrentChange(e,a&&i.onlineState!=="Offline",o),y=h.applyChanges(m,i.isPrimaryClient,p);PT(i,e,y.Ma);const T=new LO(t,e,h);return i.ka.set(t,T),i.qa.has(e)?i.qa.get(e).push(t):i.qa.set(e,[t]),y.snapshot}async function HO(i,t,e){const a=wt(i),o=a.ka.get(t),u=a.qa.get(o.targetId);if(u.length>1)return a.qa.set(o.targetId,u.filter(h=>!eh(h,t))),void a.ka.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Eg(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),e&&Ap(a.remoteStore,o.targetId),Sg(a,o.targetId)}).catch(Io)):(Sg(a,o.targetId),await Eg(a.localStore,o.targetId,!0))}async function GO(i,t){const e=wt(i),a=e.ka.get(t),o=e.qa.get(a.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(a.targetId),Ap(e.remoteStore,a.targetId))}async function YO(i,t,e){const a=JO(i);try{const o=await function(h,m){const p=wt(h),y=De.now(),T=m.reduce((z,F)=>z.add(F.key),Vt());let S,R;return p.persistence.runTransaction("Locally write mutations","readwrite",z=>{let F=nr(),$=Vt();return p.ds.getEntries(z,T).next(Y=>{F=Y,F.forEach((ct,lt)=>{lt.isValidDocument()||($=$.add(ct))})}).next(()=>p.localDocuments.getOverlayedDocuments(z,F)).next(Y=>{S=Y;const ct=[];for(const lt of m){const at=lD(lt,S.get(lt.key).overlayedDocument);at!=null&&ct.push(new ua(lt.key,at,Fb(at.value.mapValue),dn.exists(!0)))}return p.mutationQueue.addMutationBatch(z,y,ct,m)}).next(Y=>{R=Y;const ct=Y.applyToLocalDocumentSet(S,$);return p.documentOverlayCache.saveOverlays(z,Y.batchId,ct)})}).then(()=>({batchId:R.batchId,changes:tA(S)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let y=h.Wa[h.currentUser.toKey()];y||(y=new ue(Dt)),y=y.insert(m,p),h.Wa[h.currentUser.toKey()]=y}(a,o.batchId,e),await wu(a,o.changes),await uh(a.remoteStore)}catch(o){const u=Cp(o,"Failed to persist write");e.reject(u)}}async function UA(i,t){const e=wt(i);try{const a=await aO(e.localStore,t);t.targetChanges.forEach((o,u)=>{const h=e.Ua.get(u);h&&(Yt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?Yt(h.Ba):o.removedDocuments.size>0&&(Yt(h.Ba),h.Ba=!1))}),await wu(e,a,t)}catch(a){await Io(a)}}function xT(i,t,e){const a=wt(i);if(a.isPrimaryClient&&e===0||!a.isPrimaryClient&&e===1){const o=[];a.ka.forEach((u,h)=>{const m=h.view.sa(t);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=wt(h);p.onlineState=m;let y=!1;p.queries.forEach((T,S)=>{for(const R of S.ta)R.sa(m)&&(y=!0)}),y&&Dp(p)}(a.eventManager,t),o.length&&a.La.p_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function QO(i,t,e){const a=wt(i);a.sharedClientState.updateQueryState(t,"rejected",e);const o=a.Ua.get(t),u=o&&o.key;if(u){let h=new ue(gt.comparator);h=h.insert(u,Je.newNoDocument(u,St.min()));const m=Vt().add(u),p=new sh(St.min(),new Map,new ue(Dt),h,m);await UA(a,p),a.$a=a.$a.remove(u),a.Ua.delete(t),Np(a)}else await Eg(a.localStore,t,!1).then(()=>Sg(a,t,e)).catch(Io)}async function KO(i,t){const e=wt(i),a=t.batch.batchId;try{const o=await rO(e.localStore,t);zA(e,a,null),LA(e,a),e.sharedClientState.updateMutationState(a,"acknowledged"),await wu(e,o)}catch(o){await Io(o)}}async function XO(i,t,e){const a=wt(i);try{const o=await function(h,m){const p=wt(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return p.mutationQueue.lookupMutationBatch(y,m).next(S=>(Yt(S!==null),T=S.keys(),p.mutationQueue.removeMutationBatch(y,S))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>p.localDocuments.getDocuments(y,T))})}(a.localStore,t);zA(a,t,e),LA(a,t),a.sharedClientState.updateMutationState(t,"rejected",e),await wu(a,o)}catch(o){await Io(o)}}function LA(i,t){(i.Ga.get(t)||[]).forEach(e=>{e.resolve()}),i.Ga.delete(t)}function zA(i,t,e){const a=wt(i);let o=a.Wa[a.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),a.Wa[a.currentUser.toKey()]=o}}function Sg(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const a of i.qa.get(t))i.ka.delete(a),e&&i.La.Ja(a,e);i.qa.delete(t),i.isPrimaryClient&&i.Ka.br(t).forEach(a=>{i.Ka.containsKey(a)||jA(i,a)})}function jA(i,t){i.Qa.delete(t.path.canonicalString());const e=i.$a.get(t);e!==null&&(Ap(i.remoteStore,e),i.$a=i.$a.remove(t),i.Ua.delete(e),Np(i))}function PT(i,t,e){for(const a of e)a instanceof PA?(i.Ka.addReference(a.key,t),WO(i,a)):a instanceof kA?(st(Op,"Document no longer in limbo: "+a.key),i.Ka.removeReference(a.key,t),i.Ka.containsKey(a.key)||jA(i,a.key)):Et()}function WO(i,t){const e=t.key,a=e.path.canonicalString();i.$a.get(e)||i.Qa.has(a)||(st(Op,"New document in limbo: "+e),i.Qa.add(a),Np(i))}function Np(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const t=i.Qa.values().next().value;i.Qa.delete(t);const e=new gt(re.fromString(t)),a=i.za.next();i.Ua.set(a,new zO(e)),i.$a=i.$a.insert(e,a),wA(i.remoteStore,new Gr(Ti(th(e.path)),a,"TargetPurposeLimboResolution",$f.ae))}}async function wu(i,t,e){const a=wt(i),o=[],u=[],h=[];a.ka.isEmpty()||(a.ka.forEach((m,p)=>{h.push(a.Ha(p,t,e).then(y=>{var T;if((y||e)&&a.isPrimaryClient){const S=y?!y.fromCache:(T=e==null?void 0:e.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;a.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(y){o.push(y);const S=Ep.Yi(p.targetId,y);u.push(S)}}))}),await Promise.all(h),a.La.p_(o),await async function(p,y){const T=wt(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>W.forEach(y,R=>W.forEach(R.Hi,z=>T.persistence.referenceDelegate.addReference(S,R.targetId,z)).next(()=>W.forEach(R.Ji,z=>T.persistence.referenceDelegate.removeReference(S,R.targetId,z)))))}catch(S){if(!Co(S))throw S;st(bp,"Failed to update sequence numbers: "+S)}for(const S of y){const R=S.targetId;if(!S.fromCache){const z=T.Ts.get(R),F=z.snapshotVersion,$=z.withLastLimboFreeSnapshotVersion(F);T.Ts=T.Ts.insert(R,$)}}}(a.localStore,u))}async function $O(i,t){const e=wt(i);if(!e.currentUser.isEqual(t)){st(Op,"User change. New user:",t.toKey());const a=await EA(e.localStore,t);e.currentUser=t,function(u,h){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new ot(X.CANCELLED,h))})}),u.Ga.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await wu(e,a.Rs)}}function ZO(i,t){const e=wt(i),a=e.Ua.get(t);if(a&&a.Ba)return Vt().add(a.key);{let o=Vt();const u=e.qa.get(t);if(!u)return o;for(const h of u){const m=e.ka.get(h);o=o.unionWith(m.view.Sa)}return o}}function BA(i){const t=wt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=UA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=QO.bind(null,t),t.La.p_=kO.bind(null,t.eventManager),t.La.Ja=VO.bind(null,t.eventManager),t}function JO(i){const t=wt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=KO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=XO.bind(null,t),t}class Bf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=oh(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,e){return null}nu(t,e){return null}eu(t){return iO(this.persistence,new tO,t.initialUser,this.serializer)}Xa(t){return new TA(Tp.ri,this.serializer)}Za(t){return new cO}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bf.provider={build:()=>new Bf};class tN extends Bf{constructor(t){super(),this.cacheSizeBytes=t}tu(t,e){Yt(this.persistence.referenceDelegate instanceof zf);const a=this.persistence.referenceDelegate.garbageCollector;return new zD(a,t.asyncQueue,e)}Xa(t){const e=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new TA(a=>zf.ri(a,e),this.serializer)}}class wg{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>xT(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=$O.bind(null,this.syncEngine),await MO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new PO}()}createDatastore(t){const e=oh(t.databaseInfo.databaseId),a=function(u){return new gO(u)}(t.databaseInfo);return function(u,h,m,p){return new vO(u,h,m,p)}(t.authCredentials,t.appCheckCredentials,a,e)}createRemoteStore(t){return function(a,o,u,h,m){return new EO(a,o,u,h,m)}(this.localStore,this.datastore,t.asyncQueue,e=>xT(this.syncEngine,e,0),function(){return IT.D()?new IT:new fO}())}createSyncEngine(t,e){return function(o,u,h,m,p,y,T){const S=new jO(o,u,h,m,p,y);return T&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(o){const u=wt(o);st(rs,"RemoteStore shutting down."),u.W_.add(5),await Su(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}wg.provider={build:()=>new wg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):er("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="FirestoreClient";class eN{constructor(t,e,a,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=a,this.databaseInfo=o,this.user=Ze.UNAUTHENTICATED,this.clientId=xb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async h=>{st(ia,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(a,h=>(st(ia,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const a=Cp(e,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function jm(i,t){i.asyncQueue.verifyOperationInProgress(),st(ia,"Initializing OfflineComponentProvider");const e=i.configuration;await t.initialize(e);let a=e.initialUser;i.setCredentialChangeListener(async o=>{a.isEqual(o)||(await EA(t.localStore,o),a=o)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function kT(i,t){i.asyncQueue.verifyOperationInProgress();const e=await nN(i);st(ia,"Initializing OnlineComponentProvider"),await t.initialize(e,i.configuration),i.setCredentialChangeListener(a=>DT(t.remoteStore,a)),i.setAppCheckTokenChangeListener((a,o)=>DT(t.remoteStore,o)),i._onlineComponents=t}async function nN(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){st(ia,"Using user provided OfflineComponentProvider");try{await jm(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(e))throw e;po("Error using user provided cache. Falling back to memory cache: "+e),await jm(i,new Bf)}}else st(ia,"Using default OfflineComponentProvider"),await jm(i,new tN(void 0));return i._offlineComponents}async function FA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(st(ia,"Using user provided OnlineComponentProvider"),await kT(i,i._uninitializedComponentsProvider._online)):(st(ia,"Using default OnlineComponentProvider"),await kT(i,new wg))),i._onlineComponents}function iN(i){return FA(i).then(t=>t.syncEngine)}async function Rg(i){const t=await FA(i),e=t.eventManager;return e.onListen=BO.bind(null,t.syncEngine),e.onUnlisten=HO.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=qO.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=GO.bind(null,t.syncEngine),e}function rN(i,t,e={}){const a=new Wr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,y){const T=new qA({next:R=>{T.su(),h.enqueueAndForget(()=>MA(u,S));const z=R.docs.has(m);!z&&R.fromCache?y.reject(new ot(X.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&R.fromCache&&p&&p.source==="server"?y.reject(new ot(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),S=new xA(th(m.path),T,{includeMetadataChanges:!0,Ta:!0});return NA(u,S)}(await Rg(i),i.asyncQueue,t,e,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(i,t,e){if(!e)throw new ot(X.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function aN(i,t,e,a){if(t===!0&&a===!0)throw new ot(X.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function UT(i){if(!gt.isDocumentKey(i))throw new ot(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function LT(i){if(gt.isDocumentKey(i))throw new ot(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ch(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Et()}function Wn(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new ot(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=ch(i);throw new ot(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="firestore.googleapis.com",zT=!0;class jT{constructor(t){var e,a;if(t.host===void 0){if(t.ssl!==void 0)throw new ot(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YA,this.ssl=zT}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:zT;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=vA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<UD)throw new ot(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}aN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HA((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class fh{constructor(t,e,a,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new dC;switch(a.type){case"firstParty":return new yC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ot(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const a=VT.get(e);a&&(st("ComponentProvider","Removing Datastore"),VT.delete(e),a.terminate())}(this),Promise.resolve()}}function sN(i,t,e,a={}){var o;const u=(i=Wn(i,fh))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${t}:${e}`;u.host!==YA&&u.host!==m&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:a});if(!ts(p,h)&&(i._setSettings(p),a.mockUserToken)){let y,T;if(typeof a.mockUserToken=="string")y=a.mockUserToken,T=Ze.MOCK_USER;else{y=Bw(a.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ot(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Ze(S)}i._authCredentials=new mC(new Nb(y,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(t,e,a){this.converter=e,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Oo(this.firestore,t,this._query)}}class on{constructor(t,e,a){this.converter=e,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $r(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new on(this.firestore,t,this._key)}}class $r extends Oo{constructor(t,e,a){super(t,e,th(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new on(this.firestore,null,new gt(t))}withConverter(t){return new $r(this.firestore,t,this._path)}}function BT(i,t,...e){if(i=Ne(i),GA("collection","path",t),i instanceof fh){const a=re.fromString(t,...e);return LT(a),new $r(i,null,a)}{if(!(i instanceof on||i instanceof $r))throw new ot(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(re.fromString(t,...e));return LT(a),new $r(i.firestore,null,a)}}function Br(i,t,...e){if(i=Ne(i),arguments.length===1&&(t=xb.newId()),GA("doc","path",t),i instanceof fh){const a=re.fromString(t,...e);return UT(a),new on(i,null,new gt(a))}{if(!(i instanceof on||i instanceof $r))throw new ot(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(re.fromString(t,...e));return UT(a),new on(i.firestore,i instanceof $r?i.converter:null,new gt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="AsyncQueue";class FT{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new AA(this,"async_queue_retry"),this.Su=()=>{const a=zm();a&&st(qT,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=t;const e=zm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const e=zm();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const e=new Wr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Co(t))throw t;st(qT,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const e=this.bu.then(()=>(this.pu=!0,t().catch(a=>{this.gu=a,this.pu=!1;const o=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(a);throw er("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.bu=e,e}enqueueAfterDelay(t,e,a){this.Du(),this.wu.indexOf(t)>-1&&(e=0);const o=Ip.createAndSchedule(this,t,e,a,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Et()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const e of this.fu)if(e.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((e,a)=>e.targetTimeMs-a.targetTimeMs);for(const e of this.fu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const e=this.fu.indexOf(t);this.fu.splice(e,1)}}function HT(i){return function(e,a){if(typeof e!="object"||e===null)return!1;const o=e;for(const u of a)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class ra extends fh{constructor(t,e,a,o){super(t,e,a,o),this.type="firestore",this._queue=new FT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new FT(t),this._firestoreClient=void 0,await t}}}function oN(i,t){const e=typeof i=="object"?i:GE(),a=typeof i=="string"?i:xf,o=$g(e,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=zw("firestore");u&&sN(o,...u)}return o}function hh(i){if(i._terminated)throw new ot(X.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||lN(i),i._firestoreClient}function lN(i){var t,e,a;const o=i._freezeSettings(),u=function(m,p,y,T){return new MC(m,p,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,HA(T.experimentalLongPollingOptions),T.useFetchStreams)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((e=o.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new eN(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new bo(Qe.fromBase64String(t))}catch(e){throw new ot(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new bo(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ot(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ot(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ot(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=/^__.*__$/;class cN{constructor(t,e,a){this.data=t,this.fieldMask=e,this.fieldTransforms=a}toMutation(t,e){return this.fieldMask!==null?new ua(t,this.data,this.fieldMask,e,this.fieldTransforms):new bu(t,this.data,e,this.fieldTransforms)}}class QA{constructor(t,e,a){this.data=t,this.fieldMask=e,this.fieldTransforms=a}toMutation(t,e){return new ua(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function KA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class Pp{constructor(t,e,a,o,u,h){this.settings=t,this.databaseId=e,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Pp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var e;const a=(e=this.path)===null||e===void 0?void 0:e.child(t),o=this.ku({path:a,Qu:!1});return o.$u(t),o}Uu(t){var e;const a=(e=this.path)===null||e===void 0?void 0:e.child(t),o=this.ku({path:a,Qu:!1});return o.Bu(),o}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return qf(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(KA(this.Lu)&&uN.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class fN{constructor(t,e,a){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=a||oh(t)}ju(t,e,a,o=!1){return new Pp({Lu:t,methodName:e,zu:a,path:Ye.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mh(i){const t=i._freezeSettings(),e=oh(i._databaseId);return new fN(i._databaseId,!!t.ignoreUndefinedProperties,e)}function XA(i,t,e,a,o,u={}){const h=i.ju(u.merge||u.mergeFields?2:0,t,e,o);Vp("Data must be an object, but it was:",h,a);const m=ZA(a,h);let p,y;if(u.merge)p=new An(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const R=Ig(t,S,e);if(!h.contains(R))throw new ot(X.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);t1(T,R)||T.push(R)}p=new An(T),y=h.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,y=h.fieldTransforms;return new cN(new hn(m),p,y)}class gh extends dh{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof gh}}class kp extends dh{_toFieldTransform(t){return new rD(t.path,new uu)}isEqual(t){return t instanceof kp}}function WA(i,t,e,a){const o=i.ju(1,t,e);Vp("Data must be an object, but it was:",o,a);const u=[],h=hn.empty();la(a,(p,y)=>{const T=Up(t,p,e);y=Ne(y);const S=o.Uu(T);if(y instanceof gh)u.push(T);else{const R=Iu(y,S);R!=null&&(u.push(T),h.set(T,R))}});const m=new An(u);return new QA(h,m,o.fieldTransforms)}function $A(i,t,e,a,o,u){const h=i.ju(1,t,e),m=[Ig(t,a,e)],p=[o];if(u.length%2!=0)throw new ot(X.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(Ig(t,u[R])),p.push(u[R+1]);const y=[],T=hn.empty();for(let R=m.length-1;R>=0;--R)if(!t1(y,m[R])){const z=m[R];let F=p[R];F=Ne(F);const $=h.Uu(z);if(F instanceof gh)y.push(z);else{const Y=Iu(F,$);Y!=null&&(y.push(z),T.set(z,Y))}}const S=new An(y);return new QA(T,S,h.fieldTransforms)}function hN(i,t,e,a=!1){return Iu(e,i.ju(a?4:3,t))}function Iu(i,t){if(JA(i=Ne(i)))return Vp("Unsupported field value:",t,i),ZA(i,t);if(i instanceof dh)return function(a,o){if(!KA(o.Lu))throw o.Wu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(a,o){const u=[];let h=0;for(const m of a){let p=Iu(m,o.Ku(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,t)}return function(a,o){if((a=Ne(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return eD(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=De.fromDate(a);return{timestampValue:Lf(o.serializer,u)}}if(a instanceof De){const u=new De(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Lf(o.serializer,u)}}if(a instanceof Mp)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof bo)return{bytesValue:hA(o.serializer,a._byteString)};if(a instanceof on){const u=o.databaseId,h=a.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:_p(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof xp)return function(h,m){return{mapValue:{fields:{[Bb]:{stringValue:qb},[Pf]:{arrayValue:{values:h.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return gp(m.serializer,y)})}}}}}}(a,o);throw o.Wu(`Unsupported field value: ${ch(a)}`)}(i,t)}function ZA(i,t){const e={};return kb(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):la(i,(a,o)=>{const u=Iu(o,t.qu(a));u!=null&&(e[a]=u)}),{mapValue:{fields:e}}}function JA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof De||i instanceof Mp||i instanceof bo||i instanceof on||i instanceof dh||i instanceof xp)}function Vp(i,t,e){if(!JA(e)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(e)){const a=ch(e);throw a==="an object"?t.Wu(i+" a custom object"):t.Wu(i+" "+a)}}function Ig(i,t,e){if((t=Ne(t))instanceof Ru)return t._internalPath;if(typeof t=="string")return Up(i,t);throw qf("Field path arguments must be of type string or ",i,!1,void 0,e)}const dN=new RegExp("[~\\*/\\[\\]]");function Up(i,t,e){if(t.search(dN)>=0)throw qf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new Ru(...t.split("."))._internalPath}catch{throw qf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function qf(i,t,e,a,o){const u=a&&!a.isEmpty(),h=o!==void 0;let m=`Function ${t}() called with invalid data`;e&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${a}`),h&&(p+=` in document ${o}`),p+=")"),new ot(X.INVALID_ARGUMENT,m+i+p)}function t1(i,t){return i.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(t,e,a,o,u){this._firestore=t,this._userDataWriter=e,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new mN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Lp("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class mN extends e1{data(){return super.data()}}function Lp(i,t){return typeof t=="string"?Up(i,t):t instanceof Ru?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ot(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zp{}class pN extends zp{}function yN(i,t,...e){let a=[];t instanceof zp&&a.push(t),a=a.concat(e),function(u){const h=u.filter(p=>p instanceof jp).length,m=u.filter(p=>p instanceof ph).length;if(h>1||h>0&&m>0)throw new ot(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)i=o._apply(i);return i}class ph extends pN{constructor(t,e,a){super(),this._field=t,this._op=e,this._value=a,this.type="where"}static _create(t,e,a){return new ph(t,e,a)}_apply(t){const e=this._parse(t);return n1(t._query,e),new Oo(t.firestore,t.converter,gg(t._query,e))}_parse(t){const e=mh(t.firestore);return function(u,h,m,p,y,T,S){let R;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ot(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){YT(S,T);const F=[];for(const $ of S)F.push(GT(p,u,$));R={arrayValue:{values:F}}}else R=GT(p,u,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||YT(S,T),R=hN(m,h,S,T==="in"||T==="not-in");return Ae.create(y,T,R)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function _N(i,t,e){const a=t,o=Lp("where",i);return ph._create(o,a,e)}class jp extends zp{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new jp(t,e)}_parse(t){const e=this._queryConstraints.map(a=>a._parse(t)).filter(a=>a.getFilters().length>0);return e.length===1?e[0]:$n.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)n1(h,p),h=gg(h,p)}(t._query,e),new Oo(t.firestore,t.converter,gg(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function GT(i,t,e){if(typeof(e=Ne(e))=="string"){if(e==="")throw new ot(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wb(t)&&e.indexOf("/")!==-1)throw new ot(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const a=t.path.child(re.fromString(e));if(!gt.isDocumentKey(a))throw new ot(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return aT(i,new gt(a))}if(e instanceof on)return aT(i,e._key);throw new ot(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ch(e)}.`)}function YT(i,t){if(!Array.isArray(i)||i.length===0)throw new ot(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function n1(i,t){const e=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new ot(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ot(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class vN{convertValue(t,e="none"){switch(ea(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ta(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Et()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const a={};return la(t,(o,u)=>{a[o]=this.convertValue(u,e)}),a}convertVectorValue(t){var e,a,o;const u=(o=(a=(e=t.fields)===null||e===void 0?void 0:e[Pf].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(h=>ye(h.doubleValue));return new xp(u)}convertGeoPoint(t){return new Mp(ye(t.latitude),ye(t.longitude))}convertArray(t,e){return(t.values||[]).map(a=>this.convertValue(a,e))}convertServerTimestamp(t,e){switch(e){case"previous":const a=Jf(t);return a==null?null:this.convertValue(a,e);case"estimate":return this.convertTimestamp(su(t));default:return null}}convertTimestamp(t){const e=Jr(t);return new De(e.seconds,e.nanos)}convertDocumentKey(t,e){const a=re.fromString(t);Yt(_A(a));const o=new ou(a.get(1),a.get(3)),u=new gt(a.popFirst(5));return o.isEqual(e)||er(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(i,t,e){let a;return a=i?e&&(e.merge||e.mergeFields)?i.toFirestore(t,e):i.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class r1 extends e1{constructor(t,e,a,o,u,h){super(t,e,a,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new vf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const a=this._document.data.field(Lp("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,e.serverTimestamps)}}}class vf extends r1{data(t={}){return super.data(t)}}class TN{constructor(t,e,a,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new Kl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(a=>{t.call(e,new vf(this._firestore,this._userDataWriter,a.key,a,new Kl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ot(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new vf(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new vf(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return m.type!==0&&(y=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),T=h.indexOf(m.doc.key)),{type:EN(m.type),doc:p,oldIndex:y,newIndex:T}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function EN(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(i){i=Wn(i,on);const t=Wn(i.firestore,ra);return rN(hh(t),i._key).then(e=>s1(t,i,e))}class a1 extends vN{constructor(t){super(),this.firestore=t}convertBytes(t){return new bo(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new on(this.firestore,null,e)}}function Tf(i,t,e,...a){i=Wn(i,on);const o=Wn(i.firestore,ra),u=mh(o);let h;return h=typeof(t=Ne(t))=="string"||t instanceof Ru?$A(u,"updateDoc",i._key,t,e,a):WA(u,"updateDoc",i._key,t),yh(o,[h.toMutation(i._key,dn.exists(!0))])}function AN(i){return yh(Wn(i.firestore,ra),[new ah(i._key,dn.none())])}function SN(i,t){const e=Wn(i.firestore,ra),a=Br(i),o=i1(i.converter,t);return yh(e,[XA(mh(i.firestore),"addDoc",a._key,o,i.converter!==null,{}).toMutation(a._key,dn.exists(!1))]).then(()=>a)}function wN(i,...t){var e,a,o;i=Ne(i);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof t[h]!="object"||HT(t[h])||(u=t[h],h++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(HT(t[h])){const S=t[h];t[h]=(e=S.next)===null||e===void 0?void 0:e.bind(S),t[h+1]=(a=S.error)===null||a===void 0?void 0:a.bind(S),t[h+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let p,y,T;if(i instanceof on)y=Wn(i.firestore,ra),T=th(i._key.path),p={next:S=>{t[h]&&t[h](s1(y,i,S))},error:t[h+1],complete:t[h+2]};else{const S=Wn(i,Oo);y=Wn(S.firestore,ra),T=S._query;const R=new a1(y);p={next:z=>{t[h]&&t[h](new TN(y,R,S,z))},error:t[h+1],complete:t[h+2]},gN(i._query)}return function(R,z,F,$){const Y=new qA($),ct=new xA(z,Y,F);return R.asyncQueue.enqueueAndForget(async()=>NA(await Rg(R),ct)),()=>{Y.su(),R.asyncQueue.enqueueAndForget(async()=>MA(await Rg(R),ct))}}(hh(y),T,m,p)}function yh(i,t){return function(a,o){const u=new Wr;return a.asyncQueue.enqueueAndForget(async()=>YO(await iN(a),o,u)),u.promise}(hh(i),t)}function s1(i,t,e){const a=e.docs.get(t._key),o=new a1(i);return new r1(i,o,t._key,a,new Kl(e.hasPendingWrites,e.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=mh(t)}set(t,e,a){this._verifyNotCommitted();const o=Bm(t,this._firestore),u=i1(o.converter,e,a),h=XA(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,a);return this._mutations.push(h.toMutation(o._key,dn.none())),this}update(t,e,a,...o){this._verifyNotCommitted();const u=Bm(t,this._firestore);let h;return h=typeof(e=Ne(e))=="string"||e instanceof Ru?$A(this._dataReader,"WriteBatch.update",u._key,e,a,o):WA(this._dataReader,"WriteBatch.update",u._key,e),this._mutations.push(h.toMutation(u._key,dn.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Bm(t,this._firestore);return this._mutations=this._mutations.concat(new ah(e._key,dn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ot(X.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Bm(i,t){if((i=Ne(i)).firestore!==t)throw new ot(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function IN(){return new kp("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(i){return hh(i=Wn(i,ra)),new RN(i,t=>yh(i,t))}(function(t,e=!0){(function(o){Ro=o})(So),mo(new es("firestore",(a,{instanceIdentifier:o,options:u})=>{const h=a.getProvider("app").getImmediate(),m=new ra(new gC(a.getProvider("auth-internal")),new _C(h,a.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ot(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(y.options.projectId,T)}(h,o),h);return u=Object.assign({useFetchStreams:e},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Kr(Q0,K0,t),Kr(Q0,K0,"esm2017")})();const CN={apiKey:"AIzaSyC_Sa_GfzC9hlxAHHh_VkNSMaUvLEx79Mk",authDomain:"todoapp-pnu.firebaseapp.com",projectId:"todoapp-pnu",storageBucket:"todoapp-pnu.appspot.com",messagingSenderId:"412957758862",appId:"1:412957758862:web:b2b41527b0fa7cf9e500df",measurementId:"G-146PEPYYTK"},o1=HE(CN),hu=fC(o1),Yn=oN(o1),DN=new Wi,or=Af.createContext({todos:[],setTodos:()=>{},activeTodos:[],completedTodos:[],filter:zn.ALL,addTodo:async()=>{},toggleCompleted:async()=>{},toggleAllCompleted:async()=>{},deleteTodo:async()=>{},updateTodoTitle:async()=>{},setFilter:()=>{},errorMessage:"",setErrorMessage:()=>{},handlerDeleteCompleted:async()=>{},tempTodo:null,setTempTodo:()=>{},processingIds:[],setProcessingIds:()=>{},inputRef:Af.createRef(),user:null,updateTodoDate:async()=>{}}),ON=({children:i})=>{const[t,e]=Ht.useState([]),[a,o]=Ht.useState(null),[u,h]=Ht.useState(zn.ALL),[m,p]=Ht.useState(""),[y,T]=Ht.useState(null),[S,R]=Ht.useState([]),z=Ht.useRef(null),F=t.filter(A=>!A.completed),$=t.filter(A=>A.completed);Ht.useEffect(()=>{const A=db(hu,w=>{o(w)});return()=>A()},[]),Ht.useEffect(()=>{if(!a){e([]);return}const A=yN(BT(Yn,"todos"),_N("userId","==",a.uid)),w=wN(A,C=>{const N=C.docs.map(P=>({id:P.id,...P.data()}));e(N)},C=>{p("Failed to load todos"),console.error("Firestore error:",C)});return()=>w()},[a]);const Y=async(A,w)=>{try{R(C=>[...C,A]),await Tf(Br(Yn,"todos",A),{dueDate:w})}catch(C){throw p("Failed to update todo date"),C}finally{R(C=>C.filter(N=>N!==A))}},ct=async A=>{if(!a){p("User not authenticated");return}try{R(w=>[...w,"temp"]),T({id:"temp",title:A,userId:a.uid,completed:!1}),await SN(BT(Yn,"todos"),{title:A,userId:a.uid,completed:!1,createdAt:IN()})}catch(w){throw p("Failed to add todo"),w}finally{R(w=>w.filter(C=>C!=="temp")),T(null)}},lt=async A=>{try{R(w=>[...w,A]),await AN(Br(Yn,"todos",A))}catch{p("Failed to delete todo")}finally{R(w=>w.filter(C=>C!==A))}},at=async A=>{try{R(N=>[...N,A]);const w=Br(Yn,"todos",A),C=await bN(w);if(!C.exists())throw new Error("Todo not found");await Tf(w,{completed:!C.data().completed})}catch{p("Failed to update todo")}finally{R(w=>w.filter(C=>C!==A))}},vt=async()=>{try{R(t.map(C=>C.id));const A=F.length>0,w=QT(Yn);t.forEach(C=>{if(C.completed!==A){const N=Br(Yn,"todos",C.id);w.update(N,{completed:A})}}),await w.commit()}catch{p("Failed to update todos")}finally{R([])}},ft=async(A,w)=>{try{R(C=>[...C,A]),await Tf(Br(Yn,"todos",A),{title:w})}catch{p("Failed to update todo title")}finally{R(C=>C.filter(N=>N!==A))}},x={todos:t,setTodos:e,activeTodos:F,completedTodos:$,filter:u,addTodo:ct,deleteTodo:lt,toggleCompleted:at,toggleAllCompleted:vt,updateTodoTitle:async(A,w)=>ft(A,w),setFilter:h,errorMessage:m,setErrorMessage:p,handlerDeleteCompleted:async()=>{const A=$.map(C=>C.id),w=QT(Yn);A.forEach(C=>{const N=Br(Yn,"todos",C);w.delete(N)});try{R(A),await w.commit()}catch{p("Failed to delete completed todos")}finally{R(C=>C.filter(N=>!A.includes(N)))}},tempTodo:y,setTempTodo:T,processingIds:S,setProcessingIds:R,inputRef:z,user:a,updateTodoDate:Y};return J.jsx(or.Provider,{value:x,children:i})};var qm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var KT;function NN(){return KT||(KT=1,function(i){(function(){var t={}.hasOwnProperty;function e(){for(var u="",h=0;h<arguments.length;h++){var m=arguments[h];m&&(u=o(u,a(m)))}return u}function a(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return e.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var h="";for(var m in u)t.call(u,m)&&u[m]&&(h=o(h,m));return h}function o(u,h){return h?u?u+" "+h:u+h:u}i.exports?(e.default=e,i.exports=e):window.classNames=e})()}(qm)),qm.exports}var MN=NN();const Ja=Qg(MN),xN=async i=>{const{id:t,...e}=i,a=Object.fromEntries(Object.entries(e).filter(([o,u])=>u!==void 0));await Tf(Br(Yn,"todos",t),a)},l1=6048e5,PN=864e5,u1=6e4,c1=36e5,XT=Symbol.for("constructDateFrom");function ir(i,t){return typeof i=="function"?i(t):i&&typeof i=="object"&&XT in i?i[XT](t):i instanceof Date?new i.constructor(t):new Date(t)}function Sn(i,t){return ir(t||i,i)}let kN={};function _h(){return kN}function du(i,t){var m,p,y,T;const e=_h(),a=(t==null?void 0:t.weekStartsOn)??((p=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??e.weekStartsOn??((T=(y=e.locale)==null?void 0:y.options)==null?void 0:T.weekStartsOn)??0,o=Sn(i,t==null?void 0:t.in),u=o.getDay(),h=(u<a?7:0)+u-a;return o.setDate(o.getDate()-h),o.setHours(0,0,0,0),o}function Ff(i,t){return du(i,{...t,weekStartsOn:1})}function f1(i,t){const e=Sn(i,t==null?void 0:t.in),a=e.getFullYear(),o=ir(e,0);o.setFullYear(a+1,0,4),o.setHours(0,0,0,0);const u=Ff(o),h=ir(e,0);h.setFullYear(a,0,4),h.setHours(0,0,0,0);const m=Ff(h);return e.getTime()>=u.getTime()?a+1:e.getTime()>=m.getTime()?a:a-1}function WT(i){const t=Sn(i),e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+i-+e}function VN(i,...t){const e=ir.bind(null,t.find(a=>typeof a=="object"));return t.map(e)}function $T(i,t){const e=Sn(i,t==null?void 0:t.in);return e.setHours(0,0,0,0),e}function UN(i,t,e){const[a,o]=VN(e==null?void 0:e.in,i,t),u=$T(a),h=$T(o),m=+u-WT(u),p=+h-WT(h);return Math.round((m-p)/PN)}function LN(i,t){const e=f1(i,t),a=ir(i,0);return a.setFullYear(e,0,4),a.setHours(0,0,0,0),Ff(a)}function zN(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}function jN(i){return!(!zN(i)&&typeof i!="number"||isNaN(+Sn(i)))}function BN(i,t){const e=Sn(i,t==null?void 0:t.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}const qN={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},FN=(i,t,e)=>{let a;const o=qN[i];return typeof o=="string"?a=o:t===1?a=o.one:a=o.other.replace("{{count}}",t.toString()),e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"in "+a:a+" ago":a};function Fm(i){return(t={})=>{const e=t.width?String(t.width):i.defaultWidth;return i.formats[e]||i.formats[i.defaultWidth]}}const HN={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},GN={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},YN={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},QN={date:Fm({formats:HN,defaultWidth:"full"}),time:Fm({formats:GN,defaultWidth:"full"}),dateTime:Fm({formats:YN,defaultWidth:"full"})},KN={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},XN=(i,t,e,a)=>KN[i];function ql(i){return(t,e)=>{const a=e!=null&&e.context?String(e.context):"standalone";let o;if(a==="formatting"&&i.formattingValues){const h=i.defaultFormattingWidth||i.defaultWidth,m=e!=null&&e.width?String(e.width):h;o=i.formattingValues[m]||i.formattingValues[h]}else{const h=i.defaultWidth,m=e!=null&&e.width?String(e.width):i.defaultWidth;o=i.values[m]||i.values[h]}const u=i.argumentCallback?i.argumentCallback(t):t;return o[u]}}const WN={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},$N={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ZN={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},JN={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},eM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},nM=(i,t)=>{const e=Number(i),a=e%100;if(a>20||a<10)switch(a%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},iM={ordinalNumber:nM,era:ql({values:WN,defaultWidth:"wide"}),quarter:ql({values:$N,defaultWidth:"wide",argumentCallback:i=>i-1}),month:ql({values:ZN,defaultWidth:"wide"}),day:ql({values:JN,defaultWidth:"wide"}),dayPeriod:ql({values:tM,defaultWidth:"wide",formattingValues:eM,defaultFormattingWidth:"wide"})};function Fl(i){return(t,e={})=>{const a=e.width,o=a&&i.matchPatterns[a]||i.matchPatterns[i.defaultMatchWidth],u=t.match(o);if(!u)return null;const h=u[0],m=a&&i.parsePatterns[a]||i.parsePatterns[i.defaultParseWidth],p=Array.isArray(m)?aM(m,S=>S.test(h)):rM(m,S=>S.test(h));let y;y=i.valueCallback?i.valueCallback(p):p,y=e.valueCallback?e.valueCallback(y):y;const T=t.slice(h.length);return{value:y,rest:T}}}function rM(i,t){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e)&&t(i[e]))return e}function aM(i,t){for(let e=0;e<i.length;e++)if(t(i[e]))return e}function sM(i){return(t,e={})=>{const a=t.match(i.matchPattern);if(!a)return null;const o=a[0],u=t.match(i.parsePattern);if(!u)return null;let h=i.valueCallback?i.valueCallback(u[0]):u[0];h=e.valueCallback?e.valueCallback(h):h;const m=t.slice(o.length);return{value:h,rest:m}}}const oM=/^(\d+)(th|st|nd|rd)?/i,lM=/\d+/i,uM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},cM={any:[/^b/i,/^(a|c)/i]},fM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},hM={any:[/1/i,/2/i,/3/i,/4/i]},dM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},pM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},yM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_M={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vM={ordinalNumber:sM({matchPattern:oM,parsePattern:lM,valueCallback:i=>parseInt(i,10)}),era:Fl({matchPatterns:uM,defaultMatchWidth:"wide",parsePatterns:cM,defaultParseWidth:"any"}),quarter:Fl({matchPatterns:fM,defaultMatchWidth:"wide",parsePatterns:hM,defaultParseWidth:"any",valueCallback:i=>i+1}),month:Fl({matchPatterns:dM,defaultMatchWidth:"wide",parsePatterns:mM,defaultParseWidth:"any"}),day:Fl({matchPatterns:gM,defaultMatchWidth:"wide",parsePatterns:pM,defaultParseWidth:"any"}),dayPeriod:Fl({matchPatterns:yM,defaultMatchWidth:"any",parsePatterns:_M,defaultParseWidth:"any"})},TM={code:"en-US",formatDistance:FN,formatLong:QN,formatRelative:XN,localize:iM,match:vM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function EM(i,t){const e=Sn(i,t==null?void 0:t.in);return UN(e,BN(e))+1}function bM(i,t){const e=Sn(i,t==null?void 0:t.in),a=+Ff(e)-+LN(e);return Math.round(a/l1)+1}function h1(i,t){var T,S,R,z;const e=Sn(i,t==null?void 0:t.in),a=e.getFullYear(),o=_h(),u=(t==null?void 0:t.firstWeekContainsDate)??((S=(T=t==null?void 0:t.locale)==null?void 0:T.options)==null?void 0:S.firstWeekContainsDate)??o.firstWeekContainsDate??((z=(R=o.locale)==null?void 0:R.options)==null?void 0:z.firstWeekContainsDate)??1,h=ir((t==null?void 0:t.in)||i,0);h.setFullYear(a+1,0,u),h.setHours(0,0,0,0);const m=du(h,t),p=ir((t==null?void 0:t.in)||i,0);p.setFullYear(a,0,u),p.setHours(0,0,0,0);const y=du(p,t);return+e>=+m?a+1:+e>=+y?a:a-1}function AM(i,t){var m,p,y,T;const e=_h(),a=(t==null?void 0:t.firstWeekContainsDate)??((p=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??e.firstWeekContainsDate??((T=(y=e.locale)==null?void 0:y.options)==null?void 0:T.firstWeekContainsDate)??1,o=h1(i,t),u=ir((t==null?void 0:t.in)||i,0);return u.setFullYear(o,0,a),u.setHours(0,0,0,0),du(u,t)}function SM(i,t){const e=Sn(i,t==null?void 0:t.in),a=+du(e,t)-+AM(e,t);return Math.round(a/l1)+1}function Wt(i,t){const e=i<0?"-":"",a=Math.abs(i).toString().padStart(t,"0");return e+a}const zr={y(i,t){const e=i.getFullYear(),a=e>0?e:1-e;return Wt(t==="yy"?a%100:a,t.length)},M(i,t){const e=i.getMonth();return t==="M"?String(e+1):Wt(e+1,2)},d(i,t){return Wt(i.getDate(),t.length)},a(i,t){const e=i.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(i,t){return Wt(i.getHours()%12||12,t.length)},H(i,t){return Wt(i.getHours(),t.length)},m(i,t){return Wt(i.getMinutes(),t.length)},s(i,t){return Wt(i.getSeconds(),t.length)},S(i,t){const e=t.length,a=i.getMilliseconds(),o=Math.trunc(a*Math.pow(10,e-3));return Wt(o,t.length)}},eo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ZT={G:function(i,t,e){const a=i.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return e.era(a,{width:"abbreviated"});case"GGGGG":return e.era(a,{width:"narrow"});case"GGGG":default:return e.era(a,{width:"wide"})}},y:function(i,t,e){if(t==="yo"){const a=i.getFullYear(),o=a>0?a:1-a;return e.ordinalNumber(o,{unit:"year"})}return zr.y(i,t)},Y:function(i,t,e,a){const o=h1(i,a),u=o>0?o:1-o;if(t==="YY"){const h=u%100;return Wt(h,2)}return t==="Yo"?e.ordinalNumber(u,{unit:"year"}):Wt(u,t.length)},R:function(i,t){const e=f1(i);return Wt(e,t.length)},u:function(i,t){const e=i.getFullYear();return Wt(e,t.length)},Q:function(i,t,e){const a=Math.ceil((i.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return Wt(a,2);case"Qo":return e.ordinalNumber(a,{unit:"quarter"});case"QQQ":return e.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(a,{width:"wide",context:"formatting"})}},q:function(i,t,e){const a=Math.ceil((i.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return Wt(a,2);case"qo":return e.ordinalNumber(a,{unit:"quarter"});case"qqq":return e.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(a,{width:"wide",context:"standalone"})}},M:function(i,t,e){const a=i.getMonth();switch(t){case"M":case"MM":return zr.M(i,t);case"Mo":return e.ordinalNumber(a+1,{unit:"month"});case"MMM":return e.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(a,{width:"wide",context:"formatting"})}},L:function(i,t,e){const a=i.getMonth();switch(t){case"L":return String(a+1);case"LL":return Wt(a+1,2);case"Lo":return e.ordinalNumber(a+1,{unit:"month"});case"LLL":return e.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(a,{width:"wide",context:"standalone"})}},w:function(i,t,e,a){const o=SM(i,a);return t==="wo"?e.ordinalNumber(o,{unit:"week"}):Wt(o,t.length)},I:function(i,t,e){const a=bM(i);return t==="Io"?e.ordinalNumber(a,{unit:"week"}):Wt(a,t.length)},d:function(i,t,e){return t==="do"?e.ordinalNumber(i.getDate(),{unit:"date"}):zr.d(i,t)},D:function(i,t,e){const a=EM(i);return t==="Do"?e.ordinalNumber(a,{unit:"dayOfYear"}):Wt(a,t.length)},E:function(i,t,e){const a=i.getDay();switch(t){case"E":case"EE":case"EEE":return e.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(a,{width:"short",context:"formatting"});case"EEEE":default:return e.day(a,{width:"wide",context:"formatting"})}},e:function(i,t,e,a){const o=i.getDay(),u=(o-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(u);case"ee":return Wt(u,2);case"eo":return e.ordinalNumber(u,{unit:"day"});case"eee":return e.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(o,{width:"short",context:"formatting"});case"eeee":default:return e.day(o,{width:"wide",context:"formatting"})}},c:function(i,t,e,a){const o=i.getDay(),u=(o-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(u);case"cc":return Wt(u,t.length);case"co":return e.ordinalNumber(u,{unit:"day"});case"ccc":return e.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(o,{width:"narrow",context:"standalone"});case"cccccc":return e.day(o,{width:"short",context:"standalone"});case"cccc":default:return e.day(o,{width:"wide",context:"standalone"})}},i:function(i,t,e){const a=i.getDay(),o=a===0?7:a;switch(t){case"i":return String(o);case"ii":return Wt(o,t.length);case"io":return e.ordinalNumber(o,{unit:"day"});case"iii":return e.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(a,{width:"short",context:"formatting"});case"iiii":default:return e.day(a,{width:"wide",context:"formatting"})}},a:function(i,t,e){const o=i.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(i,t,e){const a=i.getHours();let o;switch(a===12?o=eo.noon:a===0?o=eo.midnight:o=a/12>=1?"pm":"am",t){case"b":case"bb":return e.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(i,t,e){const a=i.getHours();let o;switch(a>=17?o=eo.evening:a>=12?o=eo.afternoon:a>=4?o=eo.morning:o=eo.night,t){case"B":case"BB":case"BBB":return e.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(i,t,e){if(t==="ho"){let a=i.getHours()%12;return a===0&&(a=12),e.ordinalNumber(a,{unit:"hour"})}return zr.h(i,t)},H:function(i,t,e){return t==="Ho"?e.ordinalNumber(i.getHours(),{unit:"hour"}):zr.H(i,t)},K:function(i,t,e){const a=i.getHours()%12;return t==="Ko"?e.ordinalNumber(a,{unit:"hour"}):Wt(a,t.length)},k:function(i,t,e){let a=i.getHours();return a===0&&(a=24),t==="ko"?e.ordinalNumber(a,{unit:"hour"}):Wt(a,t.length)},m:function(i,t,e){return t==="mo"?e.ordinalNumber(i.getMinutes(),{unit:"minute"}):zr.m(i,t)},s:function(i,t,e){return t==="so"?e.ordinalNumber(i.getSeconds(),{unit:"second"}):zr.s(i,t)},S:function(i,t){return zr.S(i,t)},X:function(i,t,e){const a=i.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return tE(a);case"XXXX":case"XX":return Ka(a);case"XXXXX":case"XXX":default:return Ka(a,":")}},x:function(i,t,e){const a=i.getTimezoneOffset();switch(t){case"x":return tE(a);case"xxxx":case"xx":return Ka(a);case"xxxxx":case"xxx":default:return Ka(a,":")}},O:function(i,t,e){const a=i.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+JT(a,":");case"OOOO":default:return"GMT"+Ka(a,":")}},z:function(i,t,e){const a=i.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+JT(a,":");case"zzzz":default:return"GMT"+Ka(a,":")}},t:function(i,t,e){const a=Math.trunc(+i/1e3);return Wt(a,t.length)},T:function(i,t,e){return Wt(+i,t.length)}};function JT(i,t=""){const e=i>0?"-":"+",a=Math.abs(i),o=Math.trunc(a/60),u=a%60;return u===0?e+String(o):e+String(o)+t+Wt(u,2)}function tE(i,t){return i%60===0?(i>0?"-":"+")+Wt(Math.abs(i)/60,2):Ka(i,t)}function Ka(i,t=""){const e=i>0?"-":"+",a=Math.abs(i),o=Wt(Math.trunc(a/60),2),u=Wt(a%60,2);return e+o+t+u}const eE=(i,t)=>{switch(i){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},d1=(i,t)=>{switch(i){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},wM=(i,t)=>{const e=i.match(/(P+)(p+)?/)||[],a=e[1],o=e[2];if(!o)return eE(i,t);let u;switch(a){case"P":u=t.dateTime({width:"short"});break;case"PP":u=t.dateTime({width:"medium"});break;case"PPP":u=t.dateTime({width:"long"});break;case"PPPP":default:u=t.dateTime({width:"full"});break}return u.replace("{{date}}",eE(a,t)).replace("{{time}}",d1(o,t))},RM={p:d1,P:wM},IM=/^D+$/,CM=/^Y+$/,DM=["D","DD","YY","YYYY"];function OM(i){return IM.test(i)}function NM(i){return CM.test(i)}function MM(i,t,e){const a=xM(i,t,e);if(console.warn(a),DM.includes(i))throw new RangeError(a)}function xM(i,t,e){const a=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${t}\`) for formatting ${a} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const PM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,VM=/^'([^]*?)'?$/,UM=/''/g,LM=/[a-zA-Z]/;function Hm(i,t,e){var T,S,R,z;const a=_h(),o=a.locale??TM,u=a.firstWeekContainsDate??((S=(T=a.locale)==null?void 0:T.options)==null?void 0:S.firstWeekContainsDate)??1,h=a.weekStartsOn??((z=(R=a.locale)==null?void 0:R.options)==null?void 0:z.weekStartsOn)??0,m=Sn(i,e==null?void 0:e.in);if(!jN(m))throw new RangeError("Invalid time value");let p=t.match(kM).map(F=>{const $=F[0];if($==="p"||$==="P"){const Y=RM[$];return Y(F,o.formatLong)}return F}).join("").match(PM).map(F=>{if(F==="''")return{isToken:!1,value:"'"};const $=F[0];if($==="'")return{isToken:!1,value:zM(F)};if(ZT[$])return{isToken:!0,value:F};if($.match(LM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+$+"`");return{isToken:!1,value:F}});o.localize.preprocessor&&(p=o.localize.preprocessor(m,p));const y={firstWeekContainsDate:u,weekStartsOn:h,locale:o};return p.map(F=>{if(!F.isToken)return F.value;const $=F.value;(NM($)||OM($))&&MM($,t,String(i));const Y=ZT[$[0]];return Y(m,$,o.localize,y)}).join("")}function zM(i){const t=i.match(VM);return t?t[1].replace(UM,"'"):i}function nE(i,t){const e=()=>ir(t==null?void 0:t.in,NaN),o=FM(i);let u;if(o.date){const y=HM(o.date,2);u=GM(y.restDateString,y.year)}if(!u||isNaN(+u))return e();const h=+u;let m=0,p;if(o.time&&(m=YM(o.time),isNaN(m)))return e();if(o.timezone){if(p=QM(o.timezone),isNaN(p))return e()}else{const y=new Date(h+m),T=Sn(0,t==null?void 0:t.in);return T.setFullYear(y.getUTCFullYear(),y.getUTCMonth(),y.getUTCDate()),T.setHours(y.getUTCHours(),y.getUTCMinutes(),y.getUTCSeconds(),y.getUTCMilliseconds()),T}return Sn(h+m+p,t==null?void 0:t.in)}const of={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},jM=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,BM=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,qM=/^([+-])(\d{2})(?::?(\d{2}))?$/;function FM(i){const t={},e=i.split(of.dateTimeDelimiter);let a;if(e.length>2)return t;if(/:/.test(e[0])?a=e[0]:(t.date=e[0],a=e[1],of.timeZoneDelimiter.test(t.date)&&(t.date=i.split(of.timeZoneDelimiter)[0],a=i.substr(t.date.length,i.length))),a){const o=of.timezone.exec(a);o?(t.time=a.replace(o[1],""),t.timezone=o[1]):t.time=a}return t}function HM(i,t){const e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=i.match(e);if(!a)return{year:NaN,restDateString:""};const o=a[1]?parseInt(a[1]):null,u=a[2]?parseInt(a[2]):null;return{year:u===null?o:u*100,restDateString:i.slice((a[1]||a[2]).length)}}function GM(i,t){if(t===null)return new Date(NaN);const e=i.match(jM);if(!e)return new Date(NaN);const a=!!e[4],o=Hl(e[1]),u=Hl(e[2])-1,h=Hl(e[3]),m=Hl(e[4]),p=Hl(e[5])-1;if(a)return ZM(t,m,p)?KM(t,m,p):new Date(NaN);{const y=new Date(0);return!WM(t,u,h)||!$M(t,o)?new Date(NaN):(y.setUTCFullYear(t,u,Math.max(o,h)),y)}}function Hl(i){return i?parseInt(i):1}function YM(i){const t=i.match(BM);if(!t)return NaN;const e=Gm(t[1]),a=Gm(t[2]),o=Gm(t[3]);return JM(e,a,o)?e*c1+a*u1+o*1e3:NaN}function Gm(i){return i&&parseFloat(i.replace(",","."))||0}function QM(i){if(i==="Z")return 0;const t=i.match(qM);if(!t)return 0;const e=t[1]==="+"?-1:1,a=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return tx(a,o)?e*(a*c1+o*u1):NaN}function KM(i,t,e){const a=new Date(0);a.setUTCFullYear(i,0,4);const o=a.getUTCDay()||7,u=(t-1)*7+e+1-o;return a.setUTCDate(a.getUTCDate()+u),a}const XM=[31,null,31,30,31,30,31,31,30,31,30,31];function m1(i){return i%400===0||i%4===0&&i%100!==0}function WM(i,t,e){return t>=0&&t<=11&&e>=1&&e<=(XM[t]||(m1(i)?29:28))}function $M(i,t){return t>=1&&t<=(m1(i)?366:365)}function ZM(i,t,e){return t>=1&&t<=53&&e>=0&&e<=6}function JM(i,t,e){return i===24?t===0&&e===0:e>=0&&e<60&&t>=0&&t<60&&i>=0&&i<25}function tx(i,t){return t>=0&&t<=59}/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function ex(i,t,e){return(t=ix(t))in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function iE(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),e.push.apply(e,a)}return e}function tt(i){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?iE(Object(e),!0).forEach(function(a){ex(i,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):iE(Object(e)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(e,a))})}return i}function nx(i,t){if(typeof i!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var a=e.call(i,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function ix(i){var t=nx(i,"string");return typeof t=="symbol"?t:t+""}const rE=()=>{};let Bp={},g1={},p1=null,y1={mark:rE,measure:rE};try{typeof window<"u"&&(Bp=window),typeof document<"u"&&(g1=document),typeof MutationObserver<"u"&&(p1=MutationObserver),typeof performance<"u"&&(y1=performance)}catch{}const{userAgent:aE=""}=Bp.navigator||{},aa=Bp,ae=g1,sE=p1,lf=y1;aa.document;const lr=!!ae.documentElement&&!!ae.head&&typeof ae.addEventListener=="function"&&typeof ae.createElement=="function",_1=~aE.indexOf("MSIE")||~aE.indexOf("Trident/");var rx=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,ax=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,v1={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},sx={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},T1=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],en="classic",vh="duotone",ox="sharp",lx="sharp-duotone",E1=[en,vh,ox,lx],ux={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},cx={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},fx=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),hx={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},dx=["fak","fa-kit","fakd","fa-kit-duotone"],oE={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},mx=["kit"],gx={kit:{"fa-kit":"fak"}},px=["fak","fakd"],yx={kit:{fak:"fa-kit"}},lE={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},uf={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},_x=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],vx=["fak","fa-kit","fakd","fa-kit-duotone"],Tx={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},Ex={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},bx={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},Cg={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},Ax=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],Dg=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",..._x,...Ax],Sx=["solid","regular","light","thin","duotone","brands"],b1=[1,2,3,4,5,6,7,8,9,10],wx=b1.concat([11,12,13,14,15,16,17,18,19,20]),Rx=[...Object.keys(bx),...Sx,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",uf.GROUP,uf.SWAP_OPACITY,uf.PRIMARY,uf.SECONDARY].concat(b1.map(i=>"".concat(i,"x"))).concat(wx.map(i=>"w-".concat(i))),Ix={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const rr="___FONT_AWESOME___",Og=16,A1="fa",S1="svg-inline--fa",as="data-fa-i2svg",Ng="data-fa-pseudo-element",Cx="data-fa-pseudo-element-pending",qp="data-prefix",Fp="data-icon",uE="fontawesome-i2svg",Dx="async",Ox=["HTML","HEAD","STYLE","SCRIPT"],w1=(()=>{try{return!0}catch{return!1}})();function Cu(i){return new Proxy(i,{get(t,e){return e in t?t[e]:t[en]}})}const R1=tt({},v1);R1[en]=tt(tt(tt(tt({},{"fa-duotone":"duotone"}),v1[en]),oE.kit),oE["kit-duotone"]);const Nx=Cu(R1),Mg=tt({},hx);Mg[en]=tt(tt(tt(tt({},{duotone:"fad"}),Mg[en]),lE.kit),lE["kit-duotone"]);const cE=Cu(Mg),xg=tt({},Cg);xg[en]=tt(tt({},xg[en]),yx.kit);const Hp=Cu(xg),Pg=tt({},Ex);Pg[en]=tt(tt({},Pg[en]),gx.kit);Cu(Pg);const Mx=rx,I1="fa-layers-text",xx=ax,Px=tt({},ux);Cu(Px);const kx=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Ym=sx,Vx=[...mx,...Rx],eu=aa.FontAwesomeConfig||{};function Ux(i){var t=ae.querySelector("script["+i+"]");if(t)return t.getAttribute(i)}function Lx(i){return i===""?!0:i==="false"?!1:i==="true"?!0:i}ae&&typeof ae.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{let[e,a]=t;const o=Lx(Ux(e));o!=null&&(eu[a]=o)});const C1={styleDefault:"solid",familyDefault:en,cssPrefix:A1,replacementClass:S1,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};eu.familyPrefix&&(eu.cssPrefix=eu.familyPrefix);const Ao=tt(tt({},C1),eu);Ao.autoReplaceSvg||(Ao.observeMutations=!1);const ht={};Object.keys(C1).forEach(i=>{Object.defineProperty(ht,i,{enumerable:!0,set:function(t){Ao[i]=t,nu.forEach(e=>e(ht))},get:function(){return Ao[i]}})});Object.defineProperty(ht,"familyPrefix",{enumerable:!0,set:function(i){Ao.cssPrefix=i,nu.forEach(t=>t(ht))},get:function(){return Ao.cssPrefix}});aa.FontAwesomeConfig=ht;const nu=[];function zx(i){return nu.push(i),()=>{nu.splice(nu.indexOf(i),1)}}const jr=Og,yi={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function jx(i){if(!i||!lr)return;const t=ae.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=i;const e=ae.head.childNodes;let a=null;for(let o=e.length-1;o>-1;o--){const u=e[o],h=(u.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(h)>-1&&(a=u)}return ae.head.insertBefore(t,a),i}const Bx="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function mu(){let i=12,t="";for(;i-- >0;)t+=Bx[Math.random()*62|0];return t}function No(i){const t=[];for(let e=(i||[]).length>>>0;e--;)t[e]=i[e];return t}function Gp(i){return i.classList?No(i.classList):(i.getAttribute("class")||"").split(" ").filter(t=>t)}function D1(i){return"".concat(i).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function qx(i){return Object.keys(i||{}).reduce((t,e)=>t+"".concat(e,'="').concat(D1(i[e]),'" '),"").trim()}function Th(i){return Object.keys(i||{}).reduce((t,e)=>t+"".concat(e,": ").concat(i[e].trim(),";"),"")}function Yp(i){return i.size!==yi.size||i.x!==yi.x||i.y!==yi.y||i.rotate!==yi.rotate||i.flipX||i.flipY}function Fx(i){let{transform:t,containerWidth:e,iconWidth:a}=i;const o={transform:"translate(".concat(e/2," 256)")},u="translate(".concat(t.x*32,", ").concat(t.y*32,") "),h="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),m="rotate(".concat(t.rotate," 0 0)"),p={transform:"".concat(u," ").concat(h," ").concat(m)},y={transform:"translate(".concat(a/2*-1," -256)")};return{outer:o,inner:p,path:y}}function Hx(i){let{transform:t,width:e=Og,height:a=Og,startCentered:o=!1}=i,u="";return o&&_1?u+="translate(".concat(t.x/jr-e/2,"em, ").concat(t.y/jr-a/2,"em) "):o?u+="translate(calc(-50% + ".concat(t.x/jr,"em), calc(-50% + ").concat(t.y/jr,"em)) "):u+="translate(".concat(t.x/jr,"em, ").concat(t.y/jr,"em) "),u+="scale(".concat(t.size/jr*(t.flipX?-1:1),", ").concat(t.size/jr*(t.flipY?-1:1),") "),u+="rotate(".concat(t.rotate,"deg) "),u}var Gx=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function O1(){const i=A1,t=S1,e=ht.cssPrefix,a=ht.replacementClass;let o=Gx;if(e!==i||a!==t){const u=new RegExp("\\.".concat(i,"\\-"),"g"),h=new RegExp("\\--".concat(i,"\\-"),"g"),m=new RegExp("\\.".concat(t),"g");o=o.replace(u,".".concat(e,"-")).replace(h,"--".concat(e,"-")).replace(m,".".concat(a))}return o}let fE=!1;function Qm(){ht.autoAddCss&&!fE&&(jx(O1()),fE=!0)}var Yx={mixout(){return{dom:{css:O1,insertCss:Qm}}},hooks(){return{beforeDOMElementCreation(){Qm()},beforeI2svg(){Qm()}}}};const ar=aa||{};ar[rr]||(ar[rr]={});ar[rr].styles||(ar[rr].styles={});ar[rr].hooks||(ar[rr].hooks={});ar[rr].shims||(ar[rr].shims=[]);var _i=ar[rr];const N1=[],M1=function(){ae.removeEventListener("DOMContentLoaded",M1),Hf=1,N1.map(i=>i())};let Hf=!1;lr&&(Hf=(ae.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ae.readyState),Hf||ae.addEventListener("DOMContentLoaded",M1));function Qx(i){lr&&(Hf?setTimeout(i,0):N1.push(i))}function Du(i){const{tag:t,attributes:e={},children:a=[]}=i;return typeof i=="string"?D1(i):"<".concat(t," ").concat(qx(e),">").concat(a.map(Du).join(""),"</").concat(t,">")}function hE(i,t,e){if(i&&i[t]&&i[t][e])return{prefix:t,iconName:e,icon:i[t][e]}}var Km=function(t,e,a,o){var u=Object.keys(t),h=u.length,m=e,p,y,T;for(a===void 0?(p=1,T=t[u[0]]):(p=0,T=a);p<h;p++)y=u[p],T=m(T,t[y],y,t);return T};function Kx(i){const t=[];let e=0;const a=i.length;for(;e<a;){const o=i.charCodeAt(e++);if(o>=55296&&o<=56319&&e<a){const u=i.charCodeAt(e++);(u&64512)==56320?t.push(((o&1023)<<10)+(u&1023)+65536):(t.push(o),e--)}else t.push(o)}return t}function kg(i){const t=Kx(i);return t.length===1?t[0].toString(16):null}function Xx(i,t){const e=i.length;let a=i.charCodeAt(t),o;return a>=55296&&a<=56319&&e>t+1&&(o=i.charCodeAt(t+1),o>=56320&&o<=57343)?(a-55296)*1024+o-56320+65536:a}function dE(i){return Object.keys(i).reduce((t,e)=>{const a=i[e];return!!a.icon?t[a.iconName]=a.icon:t[e]=a,t},{})}function Vg(i,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:a=!1}=e,o=dE(t);typeof _i.hooks.addPack=="function"&&!a?_i.hooks.addPack(i,dE(t)):_i.styles[i]=tt(tt({},_i.styles[i]||{}),o),i==="fas"&&Vg("fa",t)}const{styles:gu,shims:Wx}=_i,x1=Object.keys(Hp),$x=x1.reduce((i,t)=>(i[t]=Object.keys(Hp[t]),i),{});let Qp=null,P1={},k1={},V1={},U1={},L1={};function Zx(i){return~Vx.indexOf(i)}function Jx(i,t){const e=t.split("-"),a=e[0],o=e.slice(1).join("-");return a===i&&o!==""&&!Zx(o)?o:null}const z1=()=>{const i=a=>Km(gu,(o,u,h)=>(o[h]=Km(u,a,{}),o),{});P1=i((a,o,u)=>(o[3]&&(a[o[3]]=u),o[2]&&o[2].filter(m=>typeof m=="number").forEach(m=>{a[m.toString(16)]=u}),a)),k1=i((a,o,u)=>(a[u]=u,o[2]&&o[2].filter(m=>typeof m=="string").forEach(m=>{a[m]=u}),a)),L1=i((a,o,u)=>{const h=o[2];return a[u]=u,h.forEach(m=>{a[m]=u}),a});const t="far"in gu||ht.autoFetchSvg,e=Km(Wx,(a,o)=>{const u=o[0];let h=o[1];const m=o[2];return h==="far"&&!t&&(h="fas"),typeof u=="string"&&(a.names[u]={prefix:h,iconName:m}),typeof u=="number"&&(a.unicodes[u.toString(16)]={prefix:h,iconName:m}),a},{names:{},unicodes:{}});V1=e.names,U1=e.unicodes,Qp=Eh(ht.styleDefault,{family:ht.familyDefault})};zx(i=>{Qp=Eh(i.styleDefault,{family:ht.familyDefault})});z1();function Kp(i,t){return(P1[i]||{})[t]}function t4(i,t){return(k1[i]||{})[t]}function $a(i,t){return(L1[i]||{})[t]}function j1(i){return V1[i]||{prefix:null,iconName:null}}function e4(i){const t=U1[i],e=Kp("fas",i);return t||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}function sa(){return Qp}const B1=()=>({prefix:null,iconName:null,rest:[]});function n4(i){let t=en;const e=x1.reduce((a,o)=>(a[o]="".concat(ht.cssPrefix,"-").concat(o),a),{});return E1.forEach(a=>{(i.includes(e[a])||i.some(o=>$x[a].includes(o)))&&(t=a)}),t}function Eh(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:e=en}=t,a=Nx[e][i];if(e===vh&&!i)return"fad";const o=cE[e][i]||cE[e][a],u=i in _i.styles?i:null;return o||u||null}function i4(i){let t=[],e=null;return i.forEach(a=>{const o=Jx(ht.cssPrefix,a);o?e=o:a&&t.push(a)}),{iconName:e,rest:t}}function mE(i){return i.sort().filter((t,e,a)=>a.indexOf(t)===e)}function bh(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:e=!1}=t;let a=null;const o=Dg.concat(vx),u=mE(i.filter(S=>o.includes(S))),h=mE(i.filter(S=>!Dg.includes(S))),m=u.filter(S=>(a=S,!T1.includes(S))),[p=null]=m,y=n4(u),T=tt(tt({},i4(h)),{},{prefix:Eh(p,{family:y})});return tt(tt(tt({},T),o4({values:i,family:y,styles:gu,config:ht,canonical:T,givenPrefix:a})),r4(e,a,T))}function r4(i,t,e){let{prefix:a,iconName:o}=e;if(i||!a||!o)return{prefix:a,iconName:o};const u=t==="fa"?j1(o):{},h=$a(a,o);return o=u.iconName||h||o,a=u.prefix||a,a==="far"&&!gu.far&&gu.fas&&!ht.autoFetchSvg&&(a="fas"),{prefix:a,iconName:o}}const a4=E1.filter(i=>i!==en||i!==vh),s4=Object.keys(Cg).filter(i=>i!==en).map(i=>Object.keys(Cg[i])).flat();function o4(i){const{values:t,family:e,canonical:a,givenPrefix:o="",styles:u={},config:h={}}=i,m=e===vh,p=t.includes("fa-duotone")||t.includes("fad"),y=h.familyDefault==="duotone",T=a.prefix==="fad"||a.prefix==="fa-duotone";if(!m&&(p||y||T)&&(a.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(a.prefix="fab"),!a.prefix&&a4.includes(e)&&(Object.keys(u).find(R=>s4.includes(R))||h.autoFetchSvg)){const R=fx.get(e).defaultShortPrefixId;a.prefix=R,a.iconName=$a(a.prefix,a.iconName)||a.iconName}return(a.prefix==="fa"||o==="fa")&&(a.prefix=sa()||"fas"),a}class l4{constructor(){this.definitions={}}add(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];const o=e.reduce(this._pullDefinitions,{});Object.keys(o).forEach(u=>{this.definitions[u]=tt(tt({},this.definitions[u]||{}),o[u]),Vg(u,o[u]);const h=Hp[en][u];h&&Vg(h,o[u]),z1()})}reset(){this.definitions={}}_pullDefinitions(t,e){const a=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(a).map(o=>{const{prefix:u,iconName:h,icon:m}=a[o],p=m[2];t[u]||(t[u]={}),p.length>0&&p.forEach(y=>{typeof y=="string"&&(t[u][y]=m)}),t[u][h]=m}),t}}let gE=[],so={};const ho={},u4=Object.keys(ho);function c4(i,t){let{mixoutsTo:e}=t;return gE=i,so={},Object.keys(ho).forEach(a=>{u4.indexOf(a)===-1&&delete ho[a]}),gE.forEach(a=>{const o=a.mixout?a.mixout():{};if(Object.keys(o).forEach(u=>{typeof o[u]=="function"&&(e[u]=o[u]),typeof o[u]=="object"&&Object.keys(o[u]).forEach(h=>{e[u]||(e[u]={}),e[u][h]=o[u][h]})}),a.hooks){const u=a.hooks();Object.keys(u).forEach(h=>{so[h]||(so[h]=[]),so[h].push(u[h])})}a.provides&&a.provides(ho)}),e}function Ug(i,t){for(var e=arguments.length,a=new Array(e>2?e-2:0),o=2;o<e;o++)a[o-2]=arguments[o];return(so[i]||[]).forEach(h=>{t=h.apply(null,[t,...a])}),t}function ss(i){for(var t=arguments.length,e=new Array(t>1?t-1:0),a=1;a<t;a++)e[a-1]=arguments[a];(so[i]||[]).forEach(u=>{u.apply(null,e)})}function oa(){const i=arguments[0],t=Array.prototype.slice.call(arguments,1);return ho[i]?ho[i].apply(null,t):void 0}function Lg(i){i.prefix==="fa"&&(i.prefix="fas");let{iconName:t}=i;const e=i.prefix||sa();if(t)return t=$a(e,t)||t,hE(q1.definitions,e,t)||hE(_i.styles,e,t)}const q1=new l4,f4=()=>{ht.autoReplaceSvg=!1,ht.observeMutations=!1,ss("noAuto")},h4={i2svg:function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return lr?(ss("beforeI2svg",i),oa("pseudoElements2svg",i),oa("i2svg",i)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t}=i;ht.autoReplaceSvg===!1&&(ht.autoReplaceSvg=!0),ht.observeMutations=!0,Qx(()=>{m4({autoReplaceSvgRoot:t}),ss("watch",i)})}},d4={icon:i=>{if(i===null)return null;if(typeof i=="object"&&i.prefix&&i.iconName)return{prefix:i.prefix,iconName:$a(i.prefix,i.iconName)||i.iconName};if(Array.isArray(i)&&i.length===2){const t=i[1].indexOf("fa-")===0?i[1].slice(3):i[1],e=Eh(i[0]);return{prefix:e,iconName:$a(e,t)||t}}if(typeof i=="string"&&(i.indexOf("".concat(ht.cssPrefix,"-"))>-1||i.match(Mx))){const t=bh(i.split(" "),{skipLookups:!0});return{prefix:t.prefix||sa(),iconName:$a(t.prefix,t.iconName)||t.iconName}}if(typeof i=="string"){const t=sa();return{prefix:t,iconName:$a(t,i)||i}}}},wn={noAuto:f4,config:ht,dom:h4,parse:d4,library:q1,findIconDefinition:Lg,toHtml:Du},m4=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t=ae}=i;(Object.keys(_i.styles).length>0||ht.autoFetchSvg)&&lr&&ht.autoReplaceSvg&&wn.dom.i2svg({node:t})};function Ah(i,t){return Object.defineProperty(i,"abstract",{get:t}),Object.defineProperty(i,"html",{get:function(){return i.abstract.map(e=>Du(e))}}),Object.defineProperty(i,"node",{get:function(){if(!lr)return;const e=ae.createElement("div");return e.innerHTML=i.html,e.children}}),i}function g4(i){let{children:t,main:e,mask:a,attributes:o,styles:u,transform:h}=i;if(Yp(h)&&e.found&&!a.found){const{width:m,height:p}=e,y={x:m/p/2,y:.5};o.style=Th(tt(tt({},u),{},{"transform-origin":"".concat(y.x+h.x/16,"em ").concat(y.y+h.y/16,"em")}))}return[{tag:"svg",attributes:o,children:t}]}function p4(i){let{prefix:t,iconName:e,children:a,attributes:o,symbol:u}=i;const h=u===!0?"".concat(t,"-").concat(ht.cssPrefix,"-").concat(e):u;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:tt(tt({},o),{},{id:h}),children:a}]}]}function Xp(i){const{icons:{main:t,mask:e},prefix:a,iconName:o,transform:u,symbol:h,title:m,maskId:p,titleId:y,extra:T,watchable:S=!1}=i,{width:R,height:z}=e.found?e:t,F=px.includes(a),$=[ht.replacementClass,o?"".concat(ht.cssPrefix,"-").concat(o):""].filter(ft=>T.classes.indexOf(ft)===-1).filter(ft=>ft!==""||!!ft).concat(T.classes).join(" ");let Y={children:[],attributes:tt(tt({},T.attributes),{},{"data-prefix":a,"data-icon":o,class:$,role:T.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(R," ").concat(z)})};const ct=F&&!~T.classes.indexOf("fa-fw")?{width:"".concat(R/z*16*.0625,"em")}:{};S&&(Y.attributes[as]=""),m&&(Y.children.push({tag:"title",attributes:{id:Y.attributes["aria-labelledby"]||"title-".concat(y||mu())},children:[m]}),delete Y.attributes.title);const lt=tt(tt({},Y),{},{prefix:a,iconName:o,main:t,mask:e,maskId:p,transform:u,symbol:h,styles:tt(tt({},ct),T.styles)}),{children:at,attributes:vt}=e.found&&t.found?oa("generateAbstractMask",lt)||{children:[],attributes:{}}:oa("generateAbstractIcon",lt)||{children:[],attributes:{}};return lt.children=at,lt.attributes=vt,h?p4(lt):g4(lt)}function pE(i){const{content:t,width:e,height:a,transform:o,title:u,extra:h,watchable:m=!1}=i,p=tt(tt(tt({},h.attributes),u?{title:u}:{}),{},{class:h.classes.join(" ")});m&&(p[as]="");const y=tt({},h.styles);Yp(o)&&(y.transform=Hx({transform:o,startCentered:!0,width:e,height:a}),y["-webkit-transform"]=y.transform);const T=Th(y);T.length>0&&(p.style=T);const S=[];return S.push({tag:"span",attributes:p,children:[t]}),u&&S.push({tag:"span",attributes:{class:"sr-only"},children:[u]}),S}function y4(i){const{content:t,title:e,extra:a}=i,o=tt(tt(tt({},a.attributes),e?{title:e}:{}),{},{class:a.classes.join(" ")}),u=Th(a.styles);u.length>0&&(o.style=u);const h=[];return h.push({tag:"span",attributes:o,children:[t]}),e&&h.push({tag:"span",attributes:{class:"sr-only"},children:[e]}),h}const{styles:Xm}=_i;function zg(i){const t=i[0],e=i[1],[a]=i.slice(4);let o=null;return Array.isArray(a)?o={tag:"g",attributes:{class:"".concat(ht.cssPrefix,"-").concat(Ym.GROUP)},children:[{tag:"path",attributes:{class:"".concat(ht.cssPrefix,"-").concat(Ym.SECONDARY),fill:"currentColor",d:a[0]}},{tag:"path",attributes:{class:"".concat(ht.cssPrefix,"-").concat(Ym.PRIMARY),fill:"currentColor",d:a[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:a}},{found:!0,width:t,height:e,icon:o}}const _4={found:!1,width:512,height:512};function v4(i,t){!w1&&!ht.showMissingIcons&&i&&console.error('Icon with name "'.concat(i,'" and prefix "').concat(t,'" is missing.'))}function jg(i,t){let e=t;return t==="fa"&&ht.styleDefault!==null&&(t=sa()),new Promise((a,o)=>{if(e==="fa"){const u=j1(i)||{};i=u.iconName||i,t=u.prefix||t}if(i&&t&&Xm[t]&&Xm[t][i]){const u=Xm[t][i];return a(zg(u))}v4(i,t),a(tt(tt({},_4),{},{icon:ht.showMissingIcons&&i?oa("missingIconAbstract")||{}:{}}))})}const yE=()=>{},Bg=ht.measurePerformance&&lf&&lf.mark&&lf.measure?lf:{mark:yE,measure:yE},Xl='FA "6.7.2"',T4=i=>(Bg.mark("".concat(Xl," ").concat(i," begins")),()=>F1(i)),F1=i=>{Bg.mark("".concat(Xl," ").concat(i," ends")),Bg.measure("".concat(Xl," ").concat(i),"".concat(Xl," ").concat(i," begins"),"".concat(Xl," ").concat(i," ends"))};var Wp={begin:T4,end:F1};const Ef=()=>{};function _E(i){return typeof(i.getAttribute?i.getAttribute(as):null)=="string"}function E4(i){const t=i.getAttribute?i.getAttribute(qp):null,e=i.getAttribute?i.getAttribute(Fp):null;return t&&e}function b4(i){return i&&i.classList&&i.classList.contains&&i.classList.contains(ht.replacementClass)}function A4(){return ht.autoReplaceSvg===!0?bf.replace:bf[ht.autoReplaceSvg]||bf.replace}function S4(i){return ae.createElementNS("http://www.w3.org/2000/svg",i)}function w4(i){return ae.createElement(i)}function H1(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:e=i.tag==="svg"?S4:w4}=t;if(typeof i=="string")return ae.createTextNode(i);const a=e(i.tag);return Object.keys(i.attributes||[]).forEach(function(u){a.setAttribute(u,i.attributes[u])}),(i.children||[]).forEach(function(u){a.appendChild(H1(u,{ceFn:e}))}),a}function R4(i){let t=" ".concat(i.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}const bf={replace:function(i){const t=i[0];if(t.parentNode)if(i[1].forEach(e=>{t.parentNode.insertBefore(H1(e),t)}),t.getAttribute(as)===null&&ht.keepOriginalSource){let e=ae.createComment(R4(t));t.parentNode.replaceChild(e,t)}else t.remove()},nest:function(i){const t=i[0],e=i[1];if(~Gp(t).indexOf(ht.replacementClass))return bf.replace(i);const a=new RegExp("".concat(ht.cssPrefix,"-.*"));if(delete e[0].attributes.id,e[0].attributes.class){const u=e[0].attributes.class.split(" ").reduce((h,m)=>(m===ht.replacementClass||m.match(a)?h.toSvg.push(m):h.toNode.push(m),h),{toNode:[],toSvg:[]});e[0].attributes.class=u.toSvg.join(" "),u.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",u.toNode.join(" "))}const o=e.map(u=>Du(u)).join(`
`);t.setAttribute(as,""),t.innerHTML=o}};function vE(i){i()}function G1(i,t){const e=typeof t=="function"?t:Ef;if(i.length===0)e();else{let a=vE;ht.mutateApproach===Dx&&(a=aa.requestAnimationFrame||vE),a(()=>{const o=A4(),u=Wp.begin("mutate");i.map(o),u(),e()})}}let $p=!1;function Y1(){$p=!0}function qg(){$p=!1}let Gf=null;function TE(i){if(!sE||!ht.observeMutations)return;const{treeCallback:t=Ef,nodeCallback:e=Ef,pseudoElementsCallback:a=Ef,observeMutationsRoot:o=ae}=i;Gf=new sE(u=>{if($p)return;const h=sa();No(u).forEach(m=>{if(m.type==="childList"&&m.addedNodes.length>0&&!_E(m.addedNodes[0])&&(ht.searchPseudoElements&&a(m.target),t(m.target)),m.type==="attributes"&&m.target.parentNode&&ht.searchPseudoElements&&a(m.target.parentNode),m.type==="attributes"&&_E(m.target)&&~kx.indexOf(m.attributeName))if(m.attributeName==="class"&&E4(m.target)){const{prefix:p,iconName:y}=bh(Gp(m.target));m.target.setAttribute(qp,p||h),y&&m.target.setAttribute(Fp,y)}else b4(m.target)&&e(m.target)})}),lr&&Gf.observe(o,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function I4(){Gf&&Gf.disconnect()}function C4(i){const t=i.getAttribute("style");let e=[];return t&&(e=t.split(";").reduce((a,o)=>{const u=o.split(":"),h=u[0],m=u.slice(1);return h&&m.length>0&&(a[h]=m.join(":").trim()),a},{})),e}function D4(i){const t=i.getAttribute("data-prefix"),e=i.getAttribute("data-icon"),a=i.innerText!==void 0?i.innerText.trim():"";let o=bh(Gp(i));return o.prefix||(o.prefix=sa()),t&&e&&(o.prefix=t,o.iconName=e),o.iconName&&o.prefix||(o.prefix&&a.length>0&&(o.iconName=t4(o.prefix,i.innerText)||Kp(o.prefix,kg(i.innerText))),!o.iconName&&ht.autoFetchSvg&&i.firstChild&&i.firstChild.nodeType===Node.TEXT_NODE&&(o.iconName=i.firstChild.data)),o}function O4(i){const t=No(i.attributes).reduce((o,u)=>(o.name!=="class"&&o.name!=="style"&&(o[u.name]=u.value),o),{}),e=i.getAttribute("title"),a=i.getAttribute("data-fa-title-id");return ht.autoA11y&&(e?t["aria-labelledby"]="".concat(ht.replacementClass,"-title-").concat(a||mu()):(t["aria-hidden"]="true",t.focusable="false")),t}function N4(){return{iconName:null,title:null,titleId:null,prefix:null,transform:yi,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function EE(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:e,prefix:a,rest:o}=D4(i),u=O4(i),h=Ug("parseNodeAttributes",{},i);let m=t.styleParser?C4(i):[];return tt({iconName:e,title:i.getAttribute("title"),titleId:i.getAttribute("data-fa-title-id"),prefix:a,transform:yi,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:m,attributes:u}},h)}const{styles:M4}=_i;function Q1(i){const t=ht.autoReplaceSvg==="nest"?EE(i,{styleParser:!1}):EE(i);return~t.extra.classes.indexOf(I1)?oa("generateLayersText",i,t):oa("generateSvgReplacementMutation",i,t)}function x4(){return[...dx,...Dg]}function bE(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!lr)return Promise.resolve();const e=ae.documentElement.classList,a=T=>e.add("".concat(uE,"-").concat(T)),o=T=>e.remove("".concat(uE,"-").concat(T)),u=ht.autoFetchSvg?x4():T1.concat(Object.keys(M4));u.includes("fa")||u.push("fa");const h=[".".concat(I1,":not([").concat(as,"])")].concat(u.map(T=>".".concat(T,":not([").concat(as,"])"))).join(", ");if(h.length===0)return Promise.resolve();let m=[];try{m=No(i.querySelectorAll(h))}catch{}if(m.length>0)a("pending"),o("complete");else return Promise.resolve();const p=Wp.begin("onTree"),y=m.reduce((T,S)=>{try{const R=Q1(S);R&&T.push(R)}catch(R){w1||R.name==="MissingIcon"&&console.error(R)}return T},[]);return new Promise((T,S)=>{Promise.all(y).then(R=>{G1(R,()=>{a("active"),a("complete"),o("pending"),typeof t=="function"&&t(),p(),T()})}).catch(R=>{p(),S(R)})})}function P4(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Q1(i).then(e=>{e&&G1([e],t)})}function k4(i){return function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=(t||{}).icon?t:Lg(t||{});let{mask:o}=e;return o&&(o=(o||{}).icon?o:Lg(o||{})),i(a,tt(tt({},e),{},{mask:o}))}}const V4=function(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:e=yi,symbol:a=!1,mask:o=null,maskId:u=null,title:h=null,titleId:m=null,classes:p=[],attributes:y={},styles:T={}}=t;if(!i)return;const{prefix:S,iconName:R,icon:z}=i;return Ah(tt({type:"icon"},i),()=>(ss("beforeDOMElementCreation",{iconDefinition:i,params:t}),ht.autoA11y&&(h?y["aria-labelledby"]="".concat(ht.replacementClass,"-title-").concat(m||mu()):(y["aria-hidden"]="true",y.focusable="false")),Xp({icons:{main:zg(z),mask:o?zg(o.icon):{found:!1,width:null,height:null,icon:{}}},prefix:S,iconName:R,transform:tt(tt({},yi),e),symbol:a,title:h,maskId:u,titleId:m,extra:{attributes:y,styles:T,classes:p}})))};var U4={mixout(){return{icon:k4(V4)}},hooks(){return{mutationObserverCallbacks(i){return i.treeCallback=bE,i.nodeCallback=P4,i}}},provides(i){i.i2svg=function(t){const{node:e=ae,callback:a=()=>{}}=t;return bE(e,a)},i.generateSvgReplacementMutation=function(t,e){const{iconName:a,title:o,titleId:u,prefix:h,transform:m,symbol:p,mask:y,maskId:T,extra:S}=e;return new Promise((R,z)=>{Promise.all([jg(a,h),y.iconName?jg(y.iconName,y.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(F=>{let[$,Y]=F;R([t,Xp({icons:{main:$,mask:Y},prefix:h,iconName:a,transform:m,symbol:p,maskId:T,title:o,titleId:u,extra:S,watchable:!0})])}).catch(z)})},i.generateAbstractIcon=function(t){let{children:e,attributes:a,main:o,transform:u,styles:h}=t;const m=Th(h);m.length>0&&(a.style=m);let p;return Yp(u)&&(p=oa("generateAbstractTransformGrouping",{main:o,transform:u,containerWidth:o.width,iconWidth:o.width})),e.push(p||o.icon),{children:e,attributes:a}}}},L4={mixout(){return{layer(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:e=[]}=t;return Ah({type:"layer"},()=>{ss("beforeDOMElementCreation",{assembler:i,params:t});let a=[];return i(o=>{Array.isArray(o)?o.map(u=>{a=a.concat(u.abstract)}):a=a.concat(o.abstract)}),[{tag:"span",attributes:{class:["".concat(ht.cssPrefix,"-layers"),...e].join(" ")},children:a}]})}}}},z4={mixout(){return{counter(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:e=null,classes:a=[],attributes:o={},styles:u={}}=t;return Ah({type:"counter",content:i},()=>(ss("beforeDOMElementCreation",{content:i,params:t}),y4({content:i.toString(),title:e,extra:{attributes:o,styles:u,classes:["".concat(ht.cssPrefix,"-layers-counter"),...a]}})))}}}},j4={mixout(){return{text(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:e=yi,title:a=null,classes:o=[],attributes:u={},styles:h={}}=t;return Ah({type:"text",content:i},()=>(ss("beforeDOMElementCreation",{content:i,params:t}),pE({content:i,transform:tt(tt({},yi),e),title:a,extra:{attributes:u,styles:h,classes:["".concat(ht.cssPrefix,"-layers-text"),...o]}})))}}},provides(i){i.generateLayersText=function(t,e){const{title:a,transform:o,extra:u}=e;let h=null,m=null;if(_1){const p=parseInt(getComputedStyle(t).fontSize,10),y=t.getBoundingClientRect();h=y.width/p,m=y.height/p}return ht.autoA11y&&!a&&(u.attributes["aria-hidden"]="true"),Promise.resolve([t,pE({content:t.innerHTML,width:h,height:m,transform:o,title:a,extra:u,watchable:!0})])}}};const B4=new RegExp('"',"ug"),AE=[1105920,1112319],SE=tt(tt(tt(tt({},{FontAwesome:{normal:"fas",400:"fas"}}),cx),Ix),Tx),Fg=Object.keys(SE).reduce((i,t)=>(i[t.toLowerCase()]=SE[t],i),{}),q4=Object.keys(Fg).reduce((i,t)=>{const e=Fg[t];return i[t]=e[900]||[...Object.entries(e)][0][1],i},{});function F4(i){const t=i.replace(B4,""),e=Xx(t,0),a=e>=AE[0]&&e<=AE[1],o=t.length===2?t[0]===t[1]:!1;return{value:kg(o?t[0]:t),isSecondary:a||o}}function H4(i,t){const e=i.replace(/^['"]|['"]$/g,"").toLowerCase(),a=parseInt(t),o=isNaN(a)?"normal":a;return(Fg[e]||{})[o]||q4[e]}function wE(i,t){const e="".concat(Cx).concat(t.replace(":","-"));return new Promise((a,o)=>{if(i.getAttribute(e)!==null)return a();const h=No(i.children).filter(R=>R.getAttribute(Ng)===t)[0],m=aa.getComputedStyle(i,t),p=m.getPropertyValue("font-family"),y=p.match(xx),T=m.getPropertyValue("font-weight"),S=m.getPropertyValue("content");if(h&&!y)return i.removeChild(h),a();if(y&&S!=="none"&&S!==""){const R=m.getPropertyValue("content");let z=H4(p,T);const{value:F,isSecondary:$}=F4(R),Y=y[0].startsWith("FontAwesome");let ct=Kp(z,F),lt=ct;if(Y){const at=e4(F);at.iconName&&at.prefix&&(ct=at.iconName,z=at.prefix)}if(ct&&!$&&(!h||h.getAttribute(qp)!==z||h.getAttribute(Fp)!==lt)){i.setAttribute(e,lt),h&&i.removeChild(h);const at=N4(),{extra:vt}=at;vt.attributes[Ng]=t,jg(ct,z).then(ft=>{const It=Xp(tt(tt({},at),{},{icons:{main:ft,mask:B1()},prefix:z,iconName:lt,extra:vt,watchable:!0})),x=ae.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?i.insertBefore(x,i.firstChild):i.appendChild(x),x.outerHTML=It.map(A=>Du(A)).join(`
`),i.removeAttribute(e),a()}).catch(o)}else a()}else a()})}function G4(i){return Promise.all([wE(i,"::before"),wE(i,"::after")])}function Y4(i){return i.parentNode!==document.head&&!~Ox.indexOf(i.tagName.toUpperCase())&&!i.getAttribute(Ng)&&(!i.parentNode||i.parentNode.tagName!=="svg")}function RE(i){if(lr)return new Promise((t,e)=>{const a=No(i.querySelectorAll("*")).filter(Y4).map(G4),o=Wp.begin("searchPseudoElements");Y1(),Promise.all(a).then(()=>{o(),qg(),t()}).catch(()=>{o(),qg(),e()})})}var Q4={hooks(){return{mutationObserverCallbacks(i){return i.pseudoElementsCallback=RE,i}}},provides(i){i.pseudoElements2svg=function(t){const{node:e=ae}=t;ht.searchPseudoElements&&RE(e)}}};let IE=!1;var K4={mixout(){return{dom:{unwatch(){Y1(),IE=!0}}}},hooks(){return{bootstrap(){TE(Ug("mutationObserverCallbacks",{}))},noAuto(){I4()},watch(i){const{observeMutationsRoot:t}=i;IE?qg():TE(Ug("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}};const CE=i=>{let t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return i.toLowerCase().split(" ").reduce((e,a)=>{const o=a.toLowerCase().split("-"),u=o[0];let h=o.slice(1).join("-");if(u&&h==="h")return e.flipX=!0,e;if(u&&h==="v")return e.flipY=!0,e;if(h=parseFloat(h),isNaN(h))return e;switch(u){case"grow":e.size=e.size+h;break;case"shrink":e.size=e.size-h;break;case"left":e.x=e.x-h;break;case"right":e.x=e.x+h;break;case"up":e.y=e.y-h;break;case"down":e.y=e.y+h;break;case"rotate":e.rotate=e.rotate+h;break}return e},t)};var X4={mixout(){return{parse:{transform:i=>CE(i)}}},hooks(){return{parseNodeAttributes(i,t){const e=t.getAttribute("data-fa-transform");return e&&(i.transform=CE(e)),i}}},provides(i){i.generateAbstractTransformGrouping=function(t){let{main:e,transform:a,containerWidth:o,iconWidth:u}=t;const h={transform:"translate(".concat(o/2," 256)")},m="translate(".concat(a.x*32,", ").concat(a.y*32,") "),p="scale(".concat(a.size/16*(a.flipX?-1:1),", ").concat(a.size/16*(a.flipY?-1:1),") "),y="rotate(".concat(a.rotate," 0 0)"),T={transform:"".concat(m," ").concat(p," ").concat(y)},S={transform:"translate(".concat(u/2*-1," -256)")},R={outer:h,inner:T,path:S};return{tag:"g",attributes:tt({},R.outer),children:[{tag:"g",attributes:tt({},R.inner),children:[{tag:e.icon.tag,children:e.icon.children,attributes:tt(tt({},e.icon.attributes),R.path)}]}]}}}};const Wm={x:0,y:0,width:"100%",height:"100%"};function DE(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return i.attributes&&(i.attributes.fill||t)&&(i.attributes.fill="black"),i}function W4(i){return i.tag==="g"?i.children:[i]}var $4={hooks(){return{parseNodeAttributes(i,t){const e=t.getAttribute("data-fa-mask"),a=e?bh(e.split(" ").map(o=>o.trim())):B1();return a.prefix||(a.prefix=sa()),i.mask=a,i.maskId=t.getAttribute("data-fa-mask-id"),i}}},provides(i){i.generateAbstractMask=function(t){let{children:e,attributes:a,main:o,mask:u,maskId:h,transform:m}=t;const{width:p,icon:y}=o,{width:T,icon:S}=u,R=Fx({transform:m,containerWidth:T,iconWidth:p}),z={tag:"rect",attributes:tt(tt({},Wm),{},{fill:"white"})},F=y.children?{children:y.children.map(DE)}:{},$={tag:"g",attributes:tt({},R.inner),children:[DE(tt({tag:y.tag,attributes:tt(tt({},y.attributes),R.path)},F))]},Y={tag:"g",attributes:tt({},R.outer),children:[$]},ct="mask-".concat(h||mu()),lt="clip-".concat(h||mu()),at={tag:"mask",attributes:tt(tt({},Wm),{},{id:ct,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[z,Y]},vt={tag:"defs",children:[{tag:"clipPath",attributes:{id:lt},children:W4(S)},at]};return e.push(vt,{tag:"rect",attributes:tt({fill:"currentColor","clip-path":"url(#".concat(lt,")"),mask:"url(#".concat(ct,")")},Wm)}),{children:e,attributes:a}}}},Z4={provides(i){let t=!1;aa.matchMedia&&(t=aa.matchMedia("(prefers-reduced-motion: reduce)").matches),i.missingIconAbstract=function(){const e=[],a={fill:"currentColor"},o={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:tt(tt({},a),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const u=tt(tt({},o),{},{attributeName:"opacity"}),h={tag:"circle",attributes:tt(tt({},a),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||h.children.push({tag:"animate",attributes:tt(tt({},o),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:tt(tt({},u),{},{values:"1;0;1;1;0;1;"})}),e.push(h),e.push({tag:"path",attributes:tt(tt({},a),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:tt(tt({},u),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:tt(tt({},a),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:tt(tt({},u),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}},J4={hooks(){return{parseNodeAttributes(i,t){const e=t.getAttribute("data-fa-symbol"),a=e===null?!1:e===""?!0:e;return i.symbol=a,i}}}},tP=[Yx,U4,L4,z4,j4,Q4,K4,X4,$4,Z4,J4];c4(tP,{mixoutsTo:wn});wn.noAuto;wn.config;wn.library;wn.dom;const Hg=wn.parse;wn.findIconDefinition;wn.toHtml;const eP=wn.icon;wn.layer;wn.text;wn.counter;var $m={exports:{}},Zm,OE;function nP(){if(OE)return Zm;OE=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Zm=i,Zm}var Jm,NE;function iP(){if(NE)return Jm;NE=1;var i=nP();function t(){}function e(){}return e.resetWarningCache=t,Jm=function(){function a(h,m,p,y,T,S){if(S!==i){var R=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw R.name="Invariant Violation",R}}a.isRequired=a;function o(){return a}var u={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:o,element:a,elementType:a,instanceOf:o,node:a,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:e,resetWarningCache:t};return u.PropTypes=u,u},Jm}var ME;function rP(){return ME||(ME=1,$m.exports=iP()()),$m.exports}var aP=rP();const Pt=Qg(aP);function xE(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),e.push.apply(e,a)}return e}function pi(i){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?xE(Object(e),!0).forEach(function(a){oo(i,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):xE(Object(e)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(e,a))})}return i}function Yf(i){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yf(i)}function oo(i,t,e){return t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function sP(i,t){if(i==null)return{};var e={},a=Object.keys(i),o,u;for(u=0;u<a.length;u++)o=a[u],!(t.indexOf(o)>=0)&&(e[o]=i[o]);return e}function oP(i,t){if(i==null)return{};var e=sP(i,t),a,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)a=u[o],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(e[a]=i[a])}return e}function Gg(i){return lP(i)||uP(i)||cP(i)||fP()}function lP(i){if(Array.isArray(i))return Yg(i)}function uP(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function cP(i,t){if(i){if(typeof i=="string")return Yg(i,t);var e=Object.prototype.toString.call(i).slice(8,-1);if(e==="Object"&&i.constructor&&(e=i.constructor.name),e==="Map"||e==="Set")return Array.from(i);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Yg(i,t)}}function Yg(i,t){(t==null||t>i.length)&&(t=i.length);for(var e=0,a=new Array(t);e<t;e++)a[e]=i[e];return a}function fP(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hP(i){var t,e=i.beat,a=i.fade,o=i.beatFade,u=i.bounce,h=i.shake,m=i.flash,p=i.spin,y=i.spinPulse,T=i.spinReverse,S=i.pulse,R=i.fixedWidth,z=i.inverse,F=i.border,$=i.listItem,Y=i.flip,ct=i.size,lt=i.rotation,at=i.pull,vt=(t={"fa-beat":e,"fa-fade":a,"fa-beat-fade":o,"fa-bounce":u,"fa-shake":h,"fa-flash":m,"fa-spin":p,"fa-spin-reverse":T,"fa-spin-pulse":y,"fa-pulse":S,"fa-fw":R,"fa-inverse":z,"fa-border":F,"fa-li":$,"fa-flip":Y===!0,"fa-flip-horizontal":Y==="horizontal"||Y==="both","fa-flip-vertical":Y==="vertical"||Y==="both"},oo(t,"fa-".concat(ct),typeof ct<"u"&&ct!==null),oo(t,"fa-rotate-".concat(lt),typeof lt<"u"&&lt!==null&&lt!==0),oo(t,"fa-pull-".concat(at),typeof at<"u"&&at!==null),oo(t,"fa-swap-opacity",i.swapOpacity),t);return Object.keys(vt).map(function(ft){return vt[ft]?ft:null}).filter(function(ft){return ft})}function dP(i){return i=i-0,i===i}function K1(i){return dP(i)?i:(i=i.replace(/[\-_\s]+(.)?/g,function(t,e){return e?e.toUpperCase():""}),i.substr(0,1).toLowerCase()+i.substr(1))}var mP=["style"];function gP(i){return i.charAt(0).toUpperCase()+i.slice(1)}function pP(i){return i.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var a=e.indexOf(":"),o=K1(e.slice(0,a)),u=e.slice(a+1).trim();return o.startsWith("webkit")?t[gP(o)]=u:t[o]=u,t},{})}function X1(i,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var a=(t.children||[]).map(function(p){return X1(i,p)}),o=Object.keys(t.attributes||{}).reduce(function(p,y){var T=t.attributes[y];switch(y){case"class":p.attrs.className=T,delete t.attributes.class;break;case"style":p.attrs.style=pP(T);break;default:y.indexOf("aria-")===0||y.indexOf("data-")===0?p.attrs[y.toLowerCase()]=T:p.attrs[K1(y)]=T}return p},{attrs:{}}),u=e.style,h=u===void 0?{}:u,m=oP(e,mP);return o.attrs.style=pi(pi({},o.attrs.style),h),i.apply(void 0,[t.tag,pi(pi({},o.attrs),m)].concat(Gg(a)))}var W1=!1;try{W1=!0}catch{}function yP(){if(!W1&&console&&typeof console.error=="function"){var i;(i=console).error.apply(i,arguments)}}function PE(i){if(i&&Yf(i)==="object"&&i.prefix&&i.iconName&&i.icon)return i;if(Hg.icon)return Hg.icon(i);if(i===null)return null;if(i&&Yf(i)==="object"&&i.prefix&&i.iconName)return i;if(Array.isArray(i)&&i.length===2)return{prefix:i[0],iconName:i[1]};if(typeof i=="string")return{prefix:"fas",iconName:i}}function tg(i,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?oo({},i,t):{}}var kE={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},Zp=Af.forwardRef(function(i,t){var e=pi(pi({},kE),i),a=e.icon,o=e.mask,u=e.symbol,h=e.className,m=e.title,p=e.titleId,y=e.maskId,T=PE(a),S=tg("classes",[].concat(Gg(hP(e)),Gg((h||"").split(" ")))),R=tg("transform",typeof e.transform=="string"?Hg.transform(e.transform):e.transform),z=tg("mask",PE(o)),F=eP(T,pi(pi(pi(pi({},S),R),z),{},{symbol:u,title:m,titleId:p,maskId:y}));if(!F)return yP("Could not find icon",T),null;var $=F.abstract,Y={ref:t};return Object.keys(e).forEach(function(ct){kE.hasOwnProperty(ct)||(Y[ct]=e[ct])}),_P($[0],Y)});Zp.displayName="FontAwesomeIcon";Zp.propTypes={beat:Pt.bool,border:Pt.bool,beatFade:Pt.bool,bounce:Pt.bool,className:Pt.string,fade:Pt.bool,flash:Pt.bool,mask:Pt.oneOfType([Pt.object,Pt.array,Pt.string]),maskId:Pt.string,fixedWidth:Pt.bool,inverse:Pt.bool,flip:Pt.oneOf([!0,!1,"horizontal","vertical","both"]),icon:Pt.oneOfType([Pt.object,Pt.array,Pt.string]),listItem:Pt.bool,pull:Pt.oneOf(["right","left"]),pulse:Pt.bool,rotation:Pt.oneOf([0,90,180,270]),shake:Pt.bool,size:Pt.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Pt.bool,spinPulse:Pt.bool,spinReverse:Pt.bool,symbol:Pt.oneOfType([Pt.bool,Pt.string]),title:Pt.string,titleId:Pt.string,transform:Pt.oneOfType([Pt.string,Pt.object]),swapOpacity:Pt.bool};var _P=X1.bind(null,Af.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const vP={prefix:"fas",iconName:"calendar-days",icon:[448,512,["calendar-alt"],"f073","M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zm64 80l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm128 0l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM64 400l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z"]},TP=({todo:i})=>{const{toggleCompleted:t,deleteTodo:e,processingIds:a,setErrorMessage:o,setProcessingIds:u,inputRef:h,updateTodoDate:m}=Ht.useContext(or),[p,y]=Ht.useState(!1),[T,S]=Ht.useState(i.title),[R,z]=Ht.useState(!1),[F,$]=Ht.useState(i.dueDate||""),Y=async A=>{try{u(w=>[...w,i.id]),await m(i.id,A),z(!1)}catch{o("Failed to update date")}finally{u(w=>w.filter(C=>C!==i.id))}},lt=(()=>{if(!i.dueDate)return"";const A=nE(i.dueDate.toString()),w=new Date;return w.setHours(0,0,0,0),A<w?"overdue":A.getDate()===w.getDate()?"today":"upcoming"})(),at=()=>t(i.id),vt=()=>e(i.id),ft=()=>{y(!0),S(i.title.trim())},It=async(A,w)=>{var C;o(""),u(N=>[...N,A.id]);try{await xN({...A,title:w}),y(!1)}catch{o("Unable to update a todo"),(C=h.current)==null||C.focus()}finally{u(N=>N.filter(P=>P!==A.id))}},x=A=>{A.preventDefault();const w=T.trim();if(w===i.title.trim()){y(!1);return}if(w===""){vt();return}It(i,w)};return Ht.useEffect(()=>{p&&h.current&&h.current.focus()},[p,h]),J.jsxs("div",{className:Ja("todo",{completed:i.completed}),children:[J.jsx("label",{className:"todo__status-label",children:J.jsx("input",{"data-cy":"TodoStatus",type:"checkbox",className:"todo__status",checked:i.completed,onChange:at})}),J.jsxs("div",{className:"todo__calendar-section",children:[J.jsxs("button",{className:Ja("calendar-button",lt),onClick:()=>z(!R),children:[J.jsx("span",{className:"material-icons",children:J.jsx(Zp,{icon:vP})}),i.dueDate&&J.jsx("span",{className:"due-date",children:Hm(nE(i.dueDate.toString()),"d MMM")})]}),R&&J.jsxs("div",{className:"date-picker-popup",children:[J.jsx("input",{type:"date",value:typeof F=="string"?F:Hm(F,"yyyy-MM-dd"),onChange:A=>$(A.target.value),min:Hm(new Date,"yyyy-MM-dd"),className:"date-input"}),J.jsxs("div",{className:"date-picker-actions",children:[J.jsx("button",{className:"date-cancel",onClick:()=>z(!1),children:"Cancel"}),J.jsx("button",{className:"date-apply",onClick:()=>Y(F.toString()),children:"Apply"})]})]})]}),p?J.jsx("form",{onSubmit:x,children:J.jsx("input",{"data-cy":"TodoTitleField",type:"text",className:"todo__title-field",placeholder:"Empty todo will be deleted",value:T,onChange:A=>S(A.target.value),onBlur:x,ref:h,onKeyUp:A=>{A.key==="Escape"&&(y(!1),S(i.title))}})}):J.jsxs(J.Fragment,{children:[J.jsx("span",{className:"todo__title",onDoubleClick:ft,children:i.title}),J.jsx("button",{type:"button",className:"todo__remove","data-cy":"TodoDelete",onClick:vt,children:""})]}),J.jsxs("div",{className:Ja("modal overlay",{"is-active":a.includes(i.id)}),children:[J.jsx("div",{className:"modal-background"}),J.jsx("div",{className:"loader"})]})]})},EP=(i,t)=>i.filter(e=>{switch(t){case zn.ACTIVE:return!e.completed;case zn.COMPLETED:return e.completed;default:return!0}}),bP=()=>{const{todos:i,filter:t,tempTodo:e,errorMessage:a}=Ht.useContext(or),o=EP(i,t);return J.jsxs("ul",{className:"todo-list",children:[o.map(u=>J.jsx(TP,{todo:u},u.id)),!!e&&!a&&J.jsxs("div",{"data-cy":"Todo",className:"todo",children:[J.jsx("label",{className:"todo__status-label",children:J.jsx("input",{"data-cy":"TodoStatus",type:"checkbox",className:"todo__status"})}),J.jsx("span",{"data-cy":"TodoTitle",className:"todo__title",children:e.title}),J.jsx("button",{type:"button",className:"todo__remove","data-cy":"TodoDelete",children:""}),J.jsxs("div",{"data-cy":"TodoLoader",className:"modal overlay is-active",children:[J.jsx("div",{className:"modal-background"}),J.jsx("div",{className:"loader"})]})]})]})},AP=()=>{const i=Ht.useContext(or),t=i==null?void 0:i.filter,e=i==null?void 0:i.setFilter;return J.jsxs("nav",{className:"filter",children:[J.jsx("a",{href:"#/",className:Ja("filter__link",{selected:t===zn.ALL}),onClick:()=>e(zn.ALL),children:"All"}),J.jsx("a",{href:"#/active",className:Ja("filter__link",{selected:t===zn.ACTIVE}),onClick:()=>e(zn.ACTIVE),children:"Active"}),J.jsx("a",{href:"#/completed",className:Ja("filter__link",{selected:t===zn.COMPLETED}),onClick:()=>e(zn.COMPLETED),children:"Completed"})]})},SP=()=>{const{todos:i,handlerDeleteCompleted:t}=Ht.useContext(or),e=i.filter(a=>!a.completed);return J.jsxs("footer",{className:"todoapp__footer","data-cy":"Footer",children:[J.jsx("span",{className:"todo-count","data-cy":"TodosCounter",children:`${e.length} items left`}),J.jsx(AP,{filter:zn.ALL,setFilter:()=>{}}),J.jsx("button",{type:"button",className:"todoapp__clear-completed","data-cy":"ClearCompletedButton",onClick:t,disabled:!i.some(a=>a.completed),children:"Clear completed"})]})},wP=()=>{const{errorMessage:i}=Ht.useContext(or);return i?J.jsx("div",{className:"error",children:i}):null},RP=()=>{const i=async()=>{try{await T2(hu,DN)}catch(t){console.error("Login error:",t)}};return J.jsxs("button",{onClick:i,className:"google-auth-btn",children:[J.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"24px",height:"24px",children:[J.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),J.jsx("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),J.jsx("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),J.jsx("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"})]}),"Continue with Google"]})},IP=()=>J.jsx("div",{className:"auth-container",children:J.jsxs("div",{className:"auth-card",children:[J.jsx("h1",{className:"auth-title",children:"Welcome to Task Manager"}),J.jsx("p",{className:"auth-subtitle",children:"Organize your life with our simple task manager"}),J.jsxs("div",{className:"auth-features",children:[J.jsxs("div",{className:"feature-item",children:[J.jsx("span",{className:"feature-icon",children:""}),J.jsx("h3",{children:"Smart Organization"}),J.jsx("p",{children:"Easily manage tasks with due dates and priorities"})]}),J.jsxs("div",{className:"feature-item",children:[J.jsx("span",{className:"feature-icon",children:""}),J.jsx("h3",{children:"Calendar Sync"}),J.jsx("p",{children:"Integrate with Google Calendar"})]}),J.jsxs("div",{className:"feature-item",children:[J.jsx("span",{className:"feature-icon",children:""}),J.jsx("h3",{children:"Secure"}),J.jsx("p",{children:"Your data is protected"})]})]}),J.jsxs("div",{className:"auth-cta",children:[J.jsx("p",{className:"cta-text",children:"Get started in seconds"}),J.jsx(RP,{})]})]})}),CP=()=>{const{todos:i,activeTodos:t,addTodo:e,toggleAllCompleted:a,setErrorMessage:o,setTempTodo:u,user:h}=Ht.useContext(or),[m,p]=Ht.useState(""),[y,T]=Ht.useState(!1),S=Ht.useRef(null);Ht.useEffect(()=>{S.current&&S.current.focus()},[i.length,y]);const R=()=>a(),z=async F=>{F.preventDefault();const $=m.trim();if(!$){o("Title should not be empty");return}if(!h){o("User not authenticated");return}try{T(!0),u({id:"temp",title:$,userId:h.uid,completed:!1}),await e($),p("")}catch{o("Unable to add a todo")}finally{T(!1),u(null)}};return J.jsxs("header",{className:"todoapp__header",children:[!!i.length&&J.jsx("button",{type:"button",className:Ja("todoapp__toggle-all",{active:t.length===0}),"data-cy":"ToggleAllButton",onClick:R}),J.jsx("form",{onSubmit:z,children:J.jsx("input",{"data-cy":"NewTodoField",type:"text",className:"todoapp__new-todo",placeholder:"What needs to be done?",value:m,onChange:F=>p(F.target.value),disabled:y,ref:S})})]})},DP=()=>{const{todos:i}=Ht.useContext(or),t=hu.currentUser,[e,a]=Ht.useState(!1),o=i.filter(m=>!m.completed).length,u=()=>{a(!e)},h=async()=>{await hu.signOut(),a(!1)};return J.jsxs("header",{className:"user-header",children:[J.jsx(CP,{}),t&&J.jsxs("div",{className:"user-profile",children:[J.jsx("div",{className:"user-avatar",onClick:u,role:"button",tabIndex:0,children:J.jsx("img",{src:t.photoURL||"/default-avatar.png",alt:"User avatar",className:"avatar-image"})}),e&&J.jsxs("div",{className:"profile-dropdown",children:[J.jsxs("div",{className:"dropdown-header",children:[J.jsx("h3",{className:"user-name",children:t.displayName||"User"}),J.jsx("p",{className:"user-email",children:t.email})]}),J.jsx("div",{className:"dropdown-stats",children:J.jsxs("div",{className:"stat-item",children:[J.jsx("span",{className:"stat-label",children:"Active tasks:"}),J.jsx("span",{className:"stat-value",children:o})]})}),J.jsx("button",{className:"logout-button",onClick:h,children:"Sign Out"})]})]})]})},OP=()=>{const{todos:i}=Ht.useContext(or),[t,e]=Ht.useState(null),[a,o]=Ht.useState(!0);return Ht.useEffect(()=>{const u=db(hu,h=>{e(h),o(!1)});return()=>u()},[]),a?J.jsx("div",{className:"loading",children:J.jsx("div",{className:"spinner"})}):t?J.jsxs("div",{className:"todoapp",children:[J.jsx("h1",{className:"todoapp__title",children:"todos"}),J.jsxs("div",{className:"todoapp__content",children:[J.jsx(DP,{}),i&&J.jsx(bP,{}),i.length>0&&J.jsx(SP,{}),J.jsx(wP,{})]})]}):J.jsx(IP,{})};Ow.createRoot(document.getElementById("root")).render(J.jsx(ON,{children:J.jsx(OP,{})}));
